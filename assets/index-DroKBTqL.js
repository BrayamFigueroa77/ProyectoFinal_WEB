function tP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Mz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FS={exports:{}},pm={},BS={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=Symbol.for("react.element"),rP=Symbol.for("react.portal"),iP=Symbol.for("react.fragment"),sP=Symbol.for("react.strict_mode"),oP=Symbol.for("react.profiler"),aP=Symbol.for("react.provider"),lP=Symbol.for("react.context"),uP=Symbol.for("react.forward_ref"),cP=Symbol.for("react.suspense"),hP=Symbol.for("react.memo"),dP=Symbol.for("react.lazy"),e5=Symbol.iterator;function fP(t){return t===null||typeof t!="object"?null:(t=e5&&t[e5]||t["@@iterator"],typeof t=="function"?t:null)}var VS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},US=Object.assign,zS={};function hh(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||VS}hh.prototype.isReactComponent={};hh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qS(){}qS.prototype=hh.prototype;function h2(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||VS}var d2=h2.prototype=new qS;d2.constructor=h2;US(d2,hh.prototype);d2.isPureReactComponent=!0;var t5=Array.isArray,$S=Object.prototype.hasOwnProperty,f2={current:null},HS={key:!0,ref:!0,__self:!0,__source:!0};function WS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$S.call(e,r)&&!HS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sf,type:t,key:s,ref:o,props:i,_owner:f2.current}}function pP(t,e){return{$$typeof:sf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function p2(t){return typeof t=="object"&&t!==null&&t.$$typeof===sf}function gP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n5=/\/+/g;function xv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gP(""+t.key):e.toString(36)}function Op(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sf:case rP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xv(o,0):r,t5(i)?(n="",t!=null&&(n=t.replace(n5,"$&/")+"/"),Op(i,e,n,"",function(c){return c})):i!=null&&(p2(i)&&(i=pP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+xv(s,a);o+=Op(s,e,n,l,i)}else if(l=fP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+xv(s,a++),o+=Op(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ep(t,e,n){if(t==null)return t;var r=[],i=0;return Op(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var si={current:null},Mp={transition:null},vP={ReactCurrentDispatcher:si,ReactCurrentBatchConfig:Mp,ReactCurrentOwner:f2};function GS(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:ep,forEach:function(t,e,n){ep(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ep(t,function(){e++}),e},toArray:function(t){return ep(t,function(e){return e})||[]},only:function(t){if(!p2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Component=hh;Nt.Fragment=iP;Nt.Profiler=oP;Nt.PureComponent=h2;Nt.StrictMode=sP;Nt.Suspense=cP;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;Nt.act=GS;Nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=US({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=f2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$S.call(e,l)&&!HS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sf,type:t.type,key:i,ref:s,props:r,_owner:o}};Nt.createContext=function(t){return t={$$typeof:lP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aP,_context:t},t.Consumer=t};Nt.createElement=WS;Nt.createFactory=function(t){var e=WS.bind(null,t);return e.type=t,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:uP,render:t}};Nt.isValidElement=p2;Nt.lazy=function(t){return{$$typeof:dP,_payload:{_status:-1,_result:t},_init:mP}};Nt.memo=function(t,e){return{$$typeof:hP,type:t,compare:e===void 0?null:e}};Nt.startTransition=function(t){var e=Mp.transition;Mp.transition={};try{t()}finally{Mp.transition=e}};Nt.unstable_act=GS;Nt.useCallback=function(t,e){return si.current.useCallback(t,e)};Nt.useContext=function(t){return si.current.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t){return si.current.useDeferredValue(t)};Nt.useEffect=function(t,e){return si.current.useEffect(t,e)};Nt.useId=function(){return si.current.useId()};Nt.useImperativeHandle=function(t,e,n){return si.current.useImperativeHandle(t,e,n)};Nt.useInsertionEffect=function(t,e){return si.current.useInsertionEffect(t,e)};Nt.useLayoutEffect=function(t,e){return si.current.useLayoutEffect(t,e)};Nt.useMemo=function(t,e){return si.current.useMemo(t,e)};Nt.useReducer=function(t,e,n){return si.current.useReducer(t,e,n)};Nt.useRef=function(t){return si.current.useRef(t)};Nt.useState=function(t){return si.current.useState(t)};Nt.useSyncExternalStore=function(t,e,n){return si.current.useSyncExternalStore(t,e,n)};Nt.useTransition=function(){return si.current.useTransition()};Nt.version="18.3.1";BS.exports=Nt;var A=BS.exports;const Xa=nP(A),yP=tP({__proto__:null,default:Xa},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP=A,_P=Symbol.for("react.element"),bP=Symbol.for("react.fragment"),EP=Object.prototype.hasOwnProperty,SP=wP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LP={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EP.call(e,r)&&!LP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_P,type:t,key:s,ref:o,props:i,_owner:SP.current}}pm.Fragment=bP;pm.jsx=KS;pm.jsxs=KS;FS.exports=pm;var Y=FS.exports,QS={exports:{}},Ui={},YS={exports:{}},JS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,ie){var ae=ee.length;ee.push(ie);e:for(;0<ae;){var Ie=ae-1>>>1,M=ee[Ie];if(0<i(M,ie))ee[Ie]=ie,ee[ae]=M,ae=Ie;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ae=ee.pop();if(ae!==ie){ee[0]=ae;e:for(var Ie=0,M=ee.length,H=M>>>1;Ie<H;){var J=2*(Ie+1)-1,G=ee[J],ne=J+1,ue=ee[ne];if(0>i(G,ae))ne<M&&0>i(ue,G)?(ee[Ie]=ue,ee[ne]=ae,Ie=ne):(ee[Ie]=G,ee[J]=ae,Ie=J);else if(ne<M&&0>i(ue,ae))ee[Ie]=ue,ee[ne]=ae,Ie=ne;else break e}}return ie}function i(ee,ie){var ae=ee.sortIndex-ie.sortIndex;return ae!==0?ae:ee.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,p=null,m=3,g=!1,E=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ee){for(var ie=n(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=ee)r(c),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=n(c)}}function B(ee){if(S=!1,R(ee),!E)if(n(l)!==null)E=!0,ge(z);else{var ie=n(c);ie!==null&&ve(B,ie.startTime-ee)}}function z(ee,ie){E=!1,S&&(S=!1,_(x),x=-1),g=!0;var ae=m;try{for(R(ie),p=n(l);p!==null&&(!(p.expirationTime>ie)||ee&&!L());){var Ie=p.callback;if(typeof Ie=="function"){p.callback=null,m=p.priorityLevel;var M=Ie(p.expirationTime<=ie);ie=t.unstable_now(),typeof M=="function"?p.callback=M:p===n(l)&&r(l),R(ie)}else r(l);p=n(l)}if(p!==null)var H=!0;else{var J=n(c);J!==null&&ve(B,J.startTime-ie),H=!1}return H}finally{p=null,m=ae,g=!1}}var K=!1,N=null,x=-1,k=5,F=-1;function L(){return!(t.unstable_now()-F<k)}function T(){if(N!==null){var ee=t.unstable_now();F=ee;var ie=!0;try{ie=N(!0,ee)}finally{ie?O():(K=!1,N=null)}}else K=!1}var O;if(typeof b=="function")O=function(){b(T)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,fe=X.port2;X.port1.onmessage=T,O=function(){fe.postMessage(null)}}else O=function(){I(T,0)};function ge(ee){N=ee,K||(K=!0,O())}function ve(ee,ie){x=I(function(){ee(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,ge(z))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(m){case 1:case 2:case 3:var ie=3;break;default:ie=m}var ae=m;m=ie;try{return ee()}finally{m=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ae=m;m=ee;try{return ie()}finally{m=ae}},t.unstable_scheduleCallback=function(ee,ie,ae){var Ie=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ie+ae:Ie):ae=Ie,ee){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ae+M,ee={id:d++,callback:ie,priorityLevel:ee,startTime:ae,expirationTime:M,sortIndex:-1},ae>Ie?(ee.sortIndex=ae,e(c,ee),n(l)===null&&ee===n(c)&&(S?(_(x),x=-1):S=!0,ve(B,ae-Ie))):(ee.sortIndex=M,e(l,ee),E||g||(E=!0,ge(z))),ee},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(ee){var ie=m;return function(){var ae=m;m=ie;try{return ee.apply(this,arguments)}finally{m=ae}}}})(JS);YS.exports=JS;var AP=YS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP=A,Bi=AP;function Fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XS=new Set,Id={};function Au(t,e){Qc(t,e),Qc(t+"Capture",e)}function Qc(t,e){for(Id[t]=e,t=0;t<e.length;t++)XS.add(e[t])}var Ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T0=Object.prototype.hasOwnProperty,xP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r5={},i5={};function IP(t){return T0.call(i5,t)?!0:T0.call(r5,t)?!1:xP.test(t)?i5[t]=!0:(r5[t]=!0,!1)}function PP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TP(t,e,n,r){if(e===null||typeof e>"u"||PP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xr[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xr[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xr[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xr[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xr[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xr[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xr[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xr[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xr[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var g2=/[\-:]([a-z])/g;function m2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(g2,m2);xr[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(g2,m2);xr[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(g2,m2);xr[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xr[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});xr.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xr[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function v2(t,e,n,r){var i=xr.hasOwnProperty(e)?xr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TP(e,n,i,r)&&(n=null),r||i===null?IP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ea=CP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),vc=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),e4=Symbol.for("react.context"),w2=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),R0=Symbol.for("react.suspense_list"),_2=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),t4=Symbol.for("react.offscreen"),s5=Symbol.iterator;function qh(t){return t===null||typeof t!="object"?null:(t=s5&&t[s5]||t["@@iterator"],typeof t=="function"?t:null)}var An=Object.assign,Iv;function rd(t){if(Iv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Iv=e&&e[1]||""}return`
`+Iv+t}var Pv=!1;function Tv(t,e){if(!t||Pv)return"";Pv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rd(t):""}function kP(t){switch(t.tag){case 5:return rd(t.type);case 16:return rd("Lazy");case 13:return rd("Suspense");case 19:return rd("SuspenseList");case 0:case 2:case 15:return t=Tv(t.type,!1),t;case 11:return t=Tv(t.type.render,!1),t;case 1:return t=Tv(t.type,!0),t;default:return""}}function O0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yc:return"Fragment";case vc:return"Portal";case k0:return"Profiler";case y2:return"StrictMode";case N0:return"Suspense";case R0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e4:return(t.displayName||"Context")+".Consumer";case ZS:return(t._context.displayName||"Context")+".Provider";case w2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _2:return e=t.displayName||null,e!==null?e:O0(t.type)||"Memo";case Ma:e=t._payload,t=t._init;try{return O0(t(e))}catch{}}return null}function NP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O0(e);case 8:return e===y2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RP(t){var e=n4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function np(t){t._valueTracker||(t._valueTracker=RP(t))}function r4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function og(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function M0(t,e){var n=e.checked;return An({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i4(t,e){e=e.checked,e!=null&&v2(t,"checked",e,!1)}function D0(t,e){i4(t,e);var n=hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?j0(t,e.type,n):e.hasOwnProperty("defaultValue")&&j0(t,e.type,hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function j0(t,e,n){(e!=="number"||og(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var id=Array.isArray;function Nc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function F0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return An({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Fe(92));if(id(n)){if(1<n.length)throw Error(Fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hl(n)}}function s4(t,e){var n=hl(e.value),r=hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rp,a4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OP=["Webkit","ms","Moz","O"];Object.keys(hd).forEach(function(t){OP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hd[e]=hd[t]})});function l4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hd.hasOwnProperty(t)&&hd[t]?(""+e).trim():e+"px"}function u4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MP=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V0(t,e){if(e){if(MP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function U0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z0=null;function b2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var q0=null,Rc=null,Oc=null;function c5(t){if(t=lf(t)){if(typeof q0!="function")throw Error(Fe(280));var e=t.stateNode;e&&(e=wm(e),q0(t.stateNode,t.type,e))}}function c4(t){Rc?Oc?Oc.push(t):Oc=[t]:Rc=t}function h4(){if(Rc){var t=Rc,e=Oc;if(Oc=Rc=null,c5(t),e)for(t=0;t<e.length;t++)c5(e[t])}}function d4(t,e){return t(e)}function f4(){}var kv=!1;function p4(t,e,n){if(kv)return t(e,n);kv=!0;try{return d4(t,e,n)}finally{kv=!1,(Rc!==null||Oc!==null)&&(f4(),h4())}}function Td(t,e){var n=t.stateNode;if(n===null)return null;var r=wm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Fe(231,e,typeof n));return n}var $0=!1;if(Ho)try{var $h={};Object.defineProperty($h,"passive",{get:function(){$0=!0}}),window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{$0=!1}function DP(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var dd=!1,ag=null,lg=!1,H0=null,jP={onError:function(t){dd=!0,ag=t}};function FP(t,e,n,r,i,s,o,a,l){dd=!1,ag=null,DP.apply(jP,arguments)}function BP(t,e,n,r,i,s,o,a,l){if(FP.apply(this,arguments),dd){if(dd){var c=ag;dd=!1,ag=null}else throw Error(Fe(198));lg||(lg=!0,H0=c)}}function Cu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h5(t){if(Cu(t)!==t)throw Error(Fe(188))}function VP(t){var e=t.alternate;if(!e){if(e=Cu(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h5(i),t;if(s===r)return h5(i),e;s=s.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?t:e}function m4(t){return t=VP(t),t!==null?v4(t):null}function v4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v4(t);if(e!==null)return e;t=t.sibling}return null}var y4=Bi.unstable_scheduleCallback,d5=Bi.unstable_cancelCallback,UP=Bi.unstable_shouldYield,zP=Bi.unstable_requestPaint,Vn=Bi.unstable_now,qP=Bi.unstable_getCurrentPriorityLevel,E2=Bi.unstable_ImmediatePriority,w4=Bi.unstable_UserBlockingPriority,ug=Bi.unstable_NormalPriority,$P=Bi.unstable_LowPriority,_4=Bi.unstable_IdlePriority,gm=null,eo=null;function HP(t){if(eo&&typeof eo.onCommitFiberRoot=="function")try{eo.onCommitFiberRoot(gm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:KP,WP=Math.log,GP=Math.LN2;function KP(t){return t>>>=0,t===0?32:31-(WP(t)/GP|0)|0}var ip=64,sp=4194304;function sd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=sd(a):(s&=o,s!==0&&(r=sd(s)))}else o=n&~i,o!==0?r=sd(o):s!==0&&(r=sd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ls(e),i=1<<n,r|=t[n],e&=~i;return r}function QP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ls(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=QP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function W0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function b4(){var t=ip;return ip<<=1,!(ip&4194240)&&(ip=64),t}function Nv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function of(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ls(e),t[e]=n}function JP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ls(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function S2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ls(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nn=0;function E4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S4,L2,L4,A4,C4,G0=!1,op=[],Za=null,el=null,tl=null,kd=new Map,Nd=new Map,Fa=[],XP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f5(t,e){switch(t){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":kd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(e.pointerId)}}function Hh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lf(e),e!==null&&L2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZP(t,e,n,r,i){switch(e){case"focusin":return Za=Hh(Za,t,e,n,r,i),!0;case"dragenter":return el=Hh(el,t,e,n,r,i),!0;case"mouseover":return tl=Hh(tl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return kd.set(s,Hh(kd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nd.set(s,Hh(Nd.get(s)||null,t,e,n,r,i)),!0}return!1}function x4(t){var e=tu(t.target);if(e!==null){var n=Cu(e);if(n!==null){if(e=n.tag,e===13){if(e=g4(n),e!==null){t.blockedOn=e,C4(t.priority,function(){L4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=K0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);z0=r,n.target.dispatchEvent(r),z0=null}else return e=lf(n),e!==null&&L2(e),t.blockedOn=n,!1;e.shift()}return!0}function p5(t,e,n){Dp(t)&&n.delete(e)}function eT(){G0=!1,Za!==null&&Dp(Za)&&(Za=null),el!==null&&Dp(el)&&(el=null),tl!==null&&Dp(tl)&&(tl=null),kd.forEach(p5),Nd.forEach(p5)}function Wh(t,e){t.blockedOn===e&&(t.blockedOn=null,G0||(G0=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,eT)))}function Rd(t){function e(i){return Wh(i,t)}if(0<op.length){Wh(op[0],t);for(var n=1;n<op.length;n++){var r=op[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Za!==null&&Wh(Za,t),el!==null&&Wh(el,t),tl!==null&&Wh(tl,t),kd.forEach(e),Nd.forEach(e),n=0;n<Fa.length;n++)r=Fa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fa.length&&(n=Fa[0],n.blockedOn===null);)x4(n),n.blockedOn===null&&Fa.shift()}var Mc=ea.ReactCurrentBatchConfig,hg=!0;function tT(t,e,n,r){var i=nn,s=Mc.transition;Mc.transition=null;try{nn=1,A2(t,e,n,r)}finally{nn=i,Mc.transition=s}}function nT(t,e,n,r){var i=nn,s=Mc.transition;Mc.transition=null;try{nn=4,A2(t,e,n,r)}finally{nn=i,Mc.transition=s}}function A2(t,e,n,r){if(hg){var i=K0(t,e,n,r);if(i===null)zv(t,e,r,dg,n),f5(t,r);else if(ZP(i,t,e,n,r))r.stopPropagation();else if(f5(t,r),e&4&&-1<XP.indexOf(t)){for(;i!==null;){var s=lf(i);if(s!==null&&S4(s),s=K0(t,e,n,r),s===null&&zv(t,e,r,dg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zv(t,e,r,null,n)}}var dg=null;function K0(t,e,n,r){if(dg=null,t=b2(r),t=tu(t),t!==null)if(e=Cu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=g4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dg=t,null}function I4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qP()){case E2:return 1;case w4:return 4;case ug:case $P:return 16;case _4:return 536870912;default:return 16}default:return 16}}var $a=null,C2=null,jp=null;function P4(){if(jp)return jp;var t,e=C2,n=e.length,r,i="value"in $a?$a.value:$a.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jp=i.slice(t,1<r?1-r:void 0)}function Fp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ap(){return!0}function g5(){return!1}function zi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ap:g5,this.isPropagationStopped=g5,this}return An(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),e}var dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x2=zi(dh),af=An({},dh,{view:0,detail:0}),rT=zi(af),Rv,Ov,Gh,mm=An({},af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gh&&(Gh&&t.type==="mousemove"?(Rv=t.screenX-Gh.screenX,Ov=t.screenY-Gh.screenY):Ov=Rv=0,Gh=t),Rv)},movementY:function(t){return"movementY"in t?t.movementY:Ov}}),m5=zi(mm),iT=An({},mm,{dataTransfer:0}),sT=zi(iT),oT=An({},af,{relatedTarget:0}),Mv=zi(oT),aT=An({},dh,{animationName:0,elapsedTime:0,pseudoElement:0}),lT=zi(aT),uT=An({},dh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cT=zi(uT),hT=An({},dh,{data:0}),v5=zi(hT),dT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pT[t])?!!e[t]:!1}function I2(){return gT}var mT=An({},af,{key:function(t){if(t.key){var e=dT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I2,charCode:function(t){return t.type==="keypress"?Fp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vT=zi(mT),yT=An({},mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y5=zi(yT),wT=An({},af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I2}),_T=zi(wT),bT=An({},dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),ET=zi(bT),ST=An({},mm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LT=zi(ST),AT=[9,13,27,32],P2=Ho&&"CompositionEvent"in window,fd=null;Ho&&"documentMode"in document&&(fd=document.documentMode);var CT=Ho&&"TextEvent"in window&&!fd,T4=Ho&&(!P2||fd&&8<fd&&11>=fd),w5=" ",_5=!1;function k4(t,e){switch(t){case"keyup":return AT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wc=!1;function xT(t,e){switch(t){case"compositionend":return N4(e);case"keypress":return e.which!==32?null:(_5=!0,w5);case"textInput":return t=e.data,t===w5&&_5?null:t;default:return null}}function IT(t,e){if(wc)return t==="compositionend"||!P2&&k4(t,e)?(t=P4(),jp=C2=$a=null,wc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return T4&&e.locale!=="ko"?null:e.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PT[t.type]:e==="textarea"}function R4(t,e,n,r){c4(r),e=fg(e,"onChange"),0<e.length&&(n=new x2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pd=null,Od=null;function TT(t){$4(t,0)}function vm(t){var e=Ec(t);if(r4(e))return t}function kT(t,e){if(t==="change")return e}var O4=!1;if(Ho){var Dv;if(Ho){var jv="oninput"in document;if(!jv){var E5=document.createElement("div");E5.setAttribute("oninput","return;"),jv=typeof E5.oninput=="function"}Dv=jv}else Dv=!1;O4=Dv&&(!document.documentMode||9<document.documentMode)}function S5(){pd&&(pd.detachEvent("onpropertychange",M4),Od=pd=null)}function M4(t){if(t.propertyName==="value"&&vm(Od)){var e=[];R4(e,Od,t,b2(t)),p4(TT,e)}}function NT(t,e,n){t==="focusin"?(S5(),pd=e,Od=n,pd.attachEvent("onpropertychange",M4)):t==="focusout"&&S5()}function RT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vm(Od)}function OT(t,e){if(t==="click")return vm(e)}function MT(t,e){if(t==="input"||t==="change")return vm(e)}function DT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Is=typeof Object.is=="function"?Object.is:DT;function Md(t,e){if(Is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!T0.call(e,i)||!Is(t[i],e[i]))return!1}return!0}function L5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A5(t,e){var n=L5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L5(n)}}function D4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j4(){for(var t=window,e=og();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=og(t.document)}return e}function T2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jT(t){var e=j4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&D4(n.ownerDocument.documentElement,n)){if(r!==null&&T2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=A5(n,s);var o=A5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FT=Ho&&"documentMode"in document&&11>=document.documentMode,_c=null,Q0=null,gd=null,Y0=!1;function C5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Y0||_c==null||_c!==og(r)||(r=_c,"selectionStart"in r&&T2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gd&&Md(gd,r)||(gd=r,r=fg(Q0,"onSelect"),0<r.length&&(e=new x2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_c)))}function lp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bc={animationend:lp("Animation","AnimationEnd"),animationiteration:lp("Animation","AnimationIteration"),animationstart:lp("Animation","AnimationStart"),transitionend:lp("Transition","TransitionEnd")},Fv={},F4={};Ho&&(F4=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function ym(t){if(Fv[t])return Fv[t];if(!bc[t])return t;var e=bc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F4)return Fv[t]=e[n];return t}var B4=ym("animationend"),V4=ym("animationiteration"),U4=ym("animationstart"),z4=ym("transitionend"),q4=new Map,x5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bl(t,e){q4.set(t,e),Au(e,[t])}for(var Bv=0;Bv<x5.length;Bv++){var Vv=x5[Bv],BT=Vv.toLowerCase(),VT=Vv[0].toUpperCase()+Vv.slice(1);bl(BT,"on"+VT)}bl(B4,"onAnimationEnd");bl(V4,"onAnimationIteration");bl(U4,"onAnimationStart");bl("dblclick","onDoubleClick");bl("focusin","onFocus");bl("focusout","onBlur");bl(z4,"onTransitionEnd");Qc("onMouseEnter",["mouseout","mouseover"]);Qc("onMouseLeave",["mouseout","mouseover"]);Qc("onPointerEnter",["pointerout","pointerover"]);Qc("onPointerLeave",["pointerout","pointerover"]);Au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Au("onBeforeInput",["compositionend","keypress","textInput","paste"]);Au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("cancel close invalid load scroll toggle".split(" ").concat(od));function I5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BP(r,e,void 0,t),t.currentTarget=null}function $4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;I5(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;I5(i,a,c),s=l}}}if(lg)throw t=H0,lg=!1,H0=null,t}function yn(t,e){var n=e[t1];n===void 0&&(n=e[t1]=new Set);var r=t+"__bubble";n.has(r)||(H4(e,t,2,!1),n.add(r))}function Uv(t,e,n){var r=0;e&&(r|=4),H4(n,t,r,e)}var up="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[up]){t[up]=!0,XS.forEach(function(n){n!=="selectionchange"&&(UT.has(n)||Uv(n,!1,t),Uv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[up]||(e[up]=!0,Uv("selectionchange",!1,e))}}function H4(t,e,n,r){switch(I4(e)){case 1:var i=tT;break;case 4:i=nT;break;default:i=A2}n=i.bind(null,e,n,t),i=void 0,!$0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=tu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}p4(function(){var c=s,d=b2(n),p=[];e:{var m=q4.get(t);if(m!==void 0){var g=x2,E=t;switch(t){case"keypress":if(Fp(n)===0)break e;case"keydown":case"keyup":g=vT;break;case"focusin":E="focus",g=Mv;break;case"focusout":E="blur",g=Mv;break;case"beforeblur":case"afterblur":g=Mv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=m5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_T;break;case B4:case V4:case U4:g=lT;break;case z4:g=ET;break;case"scroll":g=rT;break;case"wheel":g=LT;break;case"copy":case"cut":case"paste":g=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=y5}var S=(e&4)!==0,I=!S&&t==="scroll",_=S?m!==null?m+"Capture":null:m;S=[];for(var b=c,R;b!==null;){R=b;var B=R.stateNode;if(R.tag===5&&B!==null&&(R=B,_!==null&&(B=Td(b,_),B!=null&&S.push(jd(b,B,R)))),I)break;b=b.return}0<S.length&&(m=new g(m,E,null,n,d),p.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==z0&&(E=n.relatedTarget||n.fromElement)&&(tu(E)||E[Wo]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?tu(E):null,E!==null&&(I=Cu(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=c),g!==E)){if(S=m5,B="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=y5,B="onPointerLeave",_="onPointerEnter",b="pointer"),I=g==null?m:Ec(g),R=E==null?m:Ec(E),m=new S(B,b+"leave",g,n,d),m.target=I,m.relatedTarget=R,B=null,tu(d)===c&&(S=new S(_,b+"enter",E,n,d),S.target=R,S.relatedTarget=I,B=S),I=B,g&&E)t:{for(S=g,_=E,b=0,R=S;R;R=lc(R))b++;for(R=0,B=_;B;B=lc(B))R++;for(;0<b-R;)S=lc(S),b--;for(;0<R-b;)_=lc(_),R--;for(;b--;){if(S===_||_!==null&&S===_.alternate)break t;S=lc(S),_=lc(_)}S=null}else S=null;g!==null&&P5(p,m,g,S,!1),E!==null&&I!==null&&P5(p,I,E,S,!0)}}e:{if(m=c?Ec(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var z=kT;else if(b5(m))if(O4)z=MT;else{z=RT;var K=NT}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(z=OT);if(z&&(z=z(t,c))){R4(p,z,n,d);break e}K&&K(t,m,c),t==="focusout"&&(K=m._wrapperState)&&K.controlled&&m.type==="number"&&j0(m,"number",m.value)}switch(K=c?Ec(c):window,t){case"focusin":(b5(K)||K.contentEditable==="true")&&(_c=K,Q0=c,gd=null);break;case"focusout":gd=Q0=_c=null;break;case"mousedown":Y0=!0;break;case"contextmenu":case"mouseup":case"dragend":Y0=!1,C5(p,n,d);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":C5(p,n,d)}var N;if(P2)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else wc?k4(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(T4&&n.locale!=="ko"&&(wc||x!=="onCompositionStart"?x==="onCompositionEnd"&&wc&&(N=P4()):($a=d,C2="value"in $a?$a.value:$a.textContent,wc=!0)),K=fg(c,x),0<K.length&&(x=new v5(x,t,null,n,d),p.push({event:x,listeners:K}),N?x.data=N:(N=N4(n),N!==null&&(x.data=N)))),(N=CT?xT(t,n):IT(t,n))&&(c=fg(c,"onBeforeInput"),0<c.length&&(d=new v5("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=N))}$4(p,e)})}function jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Td(t,n),s!=null&&r.unshift(jd(t,s,i)),s=Td(t,e),s!=null&&r.push(jd(t,s,i))),t=t.return}return r}function lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Td(n,s),l!=null&&o.unshift(jd(n,l,a))):i||(l=Td(n,s),l!=null&&o.push(jd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zT=/\r\n?/g,qT=/\u0000|\uFFFD/g;function T5(t){return(typeof t=="string"?t:""+t).replace(zT,`
`).replace(qT,"")}function cp(t,e,n){if(e=T5(e),T5(t)!==e&&n)throw Error(Fe(425))}function pg(){}var J0=null,X0=null;function Z0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e1=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,k5=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof k5<"u"?function(t){return k5.resolve(null).then(t).catch(WT)}:e1;function WT(t){setTimeout(function(){throw t})}function qv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rd(e)}function nl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fh=Math.random().toString(36).slice(2),Qs="__reactFiber$"+fh,Fd="__reactProps$"+fh,Wo="__reactContainer$"+fh,t1="__reactEvents$"+fh,GT="__reactListeners$"+fh,KT="__reactHandles$"+fh;function tu(t){var e=t[Qs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wo]||n[Qs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N5(t);t!==null;){if(n=t[Qs])return n;t=N5(t)}return e}t=n,n=t.parentNode}return null}function lf(t){return t=t[Qs]||t[Wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ec(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Fe(33))}function wm(t){return t[Fd]||null}var n1=[],Sc=-1;function El(t){return{current:t}}function bn(t){0>Sc||(t.current=n1[Sc],n1[Sc]=null,Sc--)}function dn(t,e){Sc++,n1[Sc]=t.current,t.current=e}var dl={},$r=El(dl),vi=El(!1),fu=dl;function Yc(t,e){var n=t.type.contextTypes;if(!n)return dl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yi(t){return t=t.childContextTypes,t!=null}function gg(){bn(vi),bn($r)}function R5(t,e,n){if($r.current!==dl)throw Error(Fe(168));dn($r,e),dn(vi,n)}function W4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Fe(108,NP(t)||"Unknown",i));return An({},n,r)}function mg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dl,fu=$r.current,dn($r,t),dn(vi,vi.current),!0}function O5(t,e,n){var r=t.stateNode;if(!r)throw Error(Fe(169));n?(t=W4(t,e,fu),r.__reactInternalMemoizedMergedChildContext=t,bn(vi),bn($r),dn($r,t)):bn(vi),dn(vi,n)}var Mo=null,_m=!1,$v=!1;function G4(t){Mo===null?Mo=[t]:Mo.push(t)}function QT(t){_m=!0,G4(t)}function Sl(){if(!$v&&Mo!==null){$v=!0;var t=0,e=nn;try{var n=Mo;for(nn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mo=null,_m=!1}catch(i){throw Mo!==null&&(Mo=Mo.slice(t+1)),y4(E2,Sl),i}finally{nn=e,$v=!1}}return null}var Lc=[],Ac=0,vg=null,yg=0,es=[],ts=0,pu=null,jo=1,Fo="";function Kl(t,e){Lc[Ac++]=yg,Lc[Ac++]=vg,vg=t,yg=e}function K4(t,e,n){es[ts++]=jo,es[ts++]=Fo,es[ts++]=pu,pu=t;var r=jo;t=Fo;var i=32-Ls(r)-1;r&=~(1<<i),n+=1;var s=32-Ls(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jo=1<<32-Ls(e)+i|n<<i|r,Fo=s+t}else jo=1<<s|n<<i|r,Fo=t}function k2(t){t.return!==null&&(Kl(t,1),K4(t,1,0))}function N2(t){for(;t===vg;)vg=Lc[--Ac],Lc[Ac]=null,yg=Lc[--Ac],Lc[Ac]=null;for(;t===pu;)pu=es[--ts],es[ts]=null,Fo=es[--ts],es[ts]=null,jo=es[--ts],es[ts]=null}var Fi=null,Oi=null,En=!1,Ss=null;function Q4(t,e){var n=ns(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fi=t,Oi=nl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fi=t,Oi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pu!==null?{id:jo,overflow:Fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ns(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fi=t,Oi=null,!0):!1;default:return!1}}function r1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function i1(t){if(En){var e=Oi;if(e){var n=e;if(!M5(t,e)){if(r1(t))throw Error(Fe(418));e=nl(n.nextSibling);var r=Fi;e&&M5(t,e)?Q4(r,n):(t.flags=t.flags&-4097|2,En=!1,Fi=t)}}else{if(r1(t))throw Error(Fe(418));t.flags=t.flags&-4097|2,En=!1,Fi=t}}}function D5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fi=t}function hp(t){if(t!==Fi)return!1;if(!En)return D5(t),En=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Z0(t.type,t.memoizedProps)),e&&(e=Oi)){if(r1(t))throw Y4(),Error(Fe(418));for(;e;)Q4(t,e),e=nl(e.nextSibling)}if(D5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oi=nl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oi=null}}else Oi=Fi?nl(t.stateNode.nextSibling):null;return!0}function Y4(){for(var t=Oi;t;)t=nl(t.nextSibling)}function Jc(){Oi=Fi=null,En=!1}function R2(t){Ss===null?Ss=[t]:Ss.push(t)}var YT=ea.ReactCurrentBatchConfig;function Kh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Fe(309));var r=n.stateNode}if(!r)throw Error(Fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Fe(284));if(!n._owner)throw Error(Fe(290,t))}return t}function dp(t,e){throw t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j5(t){var e=t._init;return e(t._payload)}function J4(t){function e(_,b){if(t){var R=_.deletions;R===null?(_.deletions=[b],_.flags|=16):R.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=ol(_,b),_.index=0,_.sibling=null,_}function s(_,b,R){return _.index=R,t?(R=_.alternate,R!==null?(R=R.index,R<b?(_.flags|=2,b):R):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,R,B){return b===null||b.tag!==6?(b=Jv(R,_.mode,B),b.return=_,b):(b=i(b,R),b.return=_,b)}function l(_,b,R,B){var z=R.type;return z===yc?d(_,b,R.props.children,B,R.key):b!==null&&(b.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ma&&j5(z)===b.type)?(B=i(b,R.props),B.ref=Kh(_,b,R),B.return=_,B):(B=Hp(R.type,R.key,R.props,null,_.mode,B),B.ref=Kh(_,b,R),B.return=_,B)}function c(_,b,R,B){return b===null||b.tag!==4||b.stateNode.containerInfo!==R.containerInfo||b.stateNode.implementation!==R.implementation?(b=Xv(R,_.mode,B),b.return=_,b):(b=i(b,R.children||[]),b.return=_,b)}function d(_,b,R,B,z){return b===null||b.tag!==7?(b=au(R,_.mode,B,z),b.return=_,b):(b=i(b,R),b.return=_,b)}function p(_,b,R){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Jv(""+b,_.mode,R),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:return R=Hp(b.type,b.key,b.props,null,_.mode,R),R.ref=Kh(_,null,b),R.return=_,R;case vc:return b=Xv(b,_.mode,R),b.return=_,b;case Ma:var B=b._init;return p(_,B(b._payload),R)}if(id(b)||qh(b))return b=au(b,_.mode,R,null),b.return=_,b;dp(_,b)}return null}function m(_,b,R,B){var z=b!==null?b.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return z!==null?null:a(_,b,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case tp:return R.key===z?l(_,b,R,B):null;case vc:return R.key===z?c(_,b,R,B):null;case Ma:return z=R._init,m(_,b,z(R._payload),B)}if(id(R)||qh(R))return z!==null?null:d(_,b,R,B,null);dp(_,R)}return null}function g(_,b,R,B,z){if(typeof B=="string"&&B!==""||typeof B=="number")return _=_.get(R)||null,a(b,_,""+B,z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case tp:return _=_.get(B.key===null?R:B.key)||null,l(b,_,B,z);case vc:return _=_.get(B.key===null?R:B.key)||null,c(b,_,B,z);case Ma:var K=B._init;return g(_,b,R,K(B._payload),z)}if(id(B)||qh(B))return _=_.get(R)||null,d(b,_,B,z,null);dp(b,B)}return null}function E(_,b,R,B){for(var z=null,K=null,N=b,x=b=0,k=null;N!==null&&x<R.length;x++){N.index>x?(k=N,N=null):k=N.sibling;var F=m(_,N,R[x],B);if(F===null){N===null&&(N=k);break}t&&N&&F.alternate===null&&e(_,N),b=s(F,b,x),K===null?z=F:K.sibling=F,K=F,N=k}if(x===R.length)return n(_,N),En&&Kl(_,x),z;if(N===null){for(;x<R.length;x++)N=p(_,R[x],B),N!==null&&(b=s(N,b,x),K===null?z=N:K.sibling=N,K=N);return En&&Kl(_,x),z}for(N=r(_,N);x<R.length;x++)k=g(N,_,x,R[x],B),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?x:k.key),b=s(k,b,x),K===null?z=k:K.sibling=k,K=k);return t&&N.forEach(function(L){return e(_,L)}),En&&Kl(_,x),z}function S(_,b,R,B){var z=qh(R);if(typeof z!="function")throw Error(Fe(150));if(R=z.call(R),R==null)throw Error(Fe(151));for(var K=z=null,N=b,x=b=0,k=null,F=R.next();N!==null&&!F.done;x++,F=R.next()){N.index>x?(k=N,N=null):k=N.sibling;var L=m(_,N,F.value,B);if(L===null){N===null&&(N=k);break}t&&N&&L.alternate===null&&e(_,N),b=s(L,b,x),K===null?z=L:K.sibling=L,K=L,N=k}if(F.done)return n(_,N),En&&Kl(_,x),z;if(N===null){for(;!F.done;x++,F=R.next())F=p(_,F.value,B),F!==null&&(b=s(F,b,x),K===null?z=F:K.sibling=F,K=F);return En&&Kl(_,x),z}for(N=r(_,N);!F.done;x++,F=R.next())F=g(N,_,x,F.value,B),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?x:F.key),b=s(F,b,x),K===null?z=F:K.sibling=F,K=F);return t&&N.forEach(function(T){return e(_,T)}),En&&Kl(_,x),z}function I(_,b,R,B){if(typeof R=="object"&&R!==null&&R.type===yc&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case tp:e:{for(var z=R.key,K=b;K!==null;){if(K.key===z){if(z=R.type,z===yc){if(K.tag===7){n(_,K.sibling),b=i(K,R.props.children),b.return=_,_=b;break e}}else if(K.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ma&&j5(z)===K.type){n(_,K.sibling),b=i(K,R.props),b.ref=Kh(_,K,R),b.return=_,_=b;break e}n(_,K);break}else e(_,K);K=K.sibling}R.type===yc?(b=au(R.props.children,_.mode,B,R.key),b.return=_,_=b):(B=Hp(R.type,R.key,R.props,null,_.mode,B),B.ref=Kh(_,b,R),B.return=_,_=B)}return o(_);case vc:e:{for(K=R.key;b!==null;){if(b.key===K)if(b.tag===4&&b.stateNode.containerInfo===R.containerInfo&&b.stateNode.implementation===R.implementation){n(_,b.sibling),b=i(b,R.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=Xv(R,_.mode,B),b.return=_,_=b}return o(_);case Ma:return K=R._init,I(_,b,K(R._payload),B)}if(id(R))return E(_,b,R,B);if(qh(R))return S(_,b,R,B);dp(_,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,R),b.return=_,_=b):(n(_,b),b=Jv(R,_.mode,B),b.return=_,_=b),o(_)):n(_,b)}return I}var Xc=J4(!0),X4=J4(!1),wg=El(null),_g=null,Cc=null,O2=null;function M2(){O2=Cc=_g=null}function D2(t){var e=wg.current;bn(wg),t._currentValue=e}function s1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dc(t,e){_g=t,O2=Cc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mi=!0),t.firstContext=null)}function is(t){var e=t._currentValue;if(O2!==t)if(t={context:t,memoizedValue:e,next:null},Cc===null){if(_g===null)throw Error(Fe(308));Cc=t,_g.dependencies={lanes:0,firstContext:t}}else Cc=Cc.next=t;return e}var nu=null;function j2(t){nu===null?nu=[t]:nu.push(t)}function Z4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,j2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Go(t,r)}function Go(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Da=!1;function F2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Go(t,n)}return i=r.interleaved,i===null?(e.next=e,j2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Go(t,n)}function Bp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S2(t,n)}}function F5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bg(t,e,n,r){var i=t.updateQueue;Da=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=c=l=null,a=s;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,S=a;switch(m=e,g=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){p=E.call(g,p,m);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,m=typeof E=="function"?E.call(g,p,m):E,m==null)break e;p=An({},p,m);break e;case 2:Da=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=p):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mu|=o,t.lanes=o,t.memoizedState=p}}function B5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Fe(191,i));i.call(r)}}}var uf={},to=El(uf),Bd=El(uf),Vd=El(uf);function ru(t){if(t===uf)throw Error(Fe(174));return t}function B2(t,e){switch(dn(Vd,e),dn(Bd,t),dn(to,uf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:B0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=B0(e,t)}bn(to),dn(to,e)}function Zc(){bn(to),bn(Bd),bn(Vd)}function tL(t){ru(Vd.current);var e=ru(to.current),n=B0(e,t.type);e!==n&&(dn(Bd,t),dn(to,n))}function V2(t){Bd.current===t&&(bn(to),bn(Bd))}var Sn=El(0);function Eg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hv=[];function U2(){for(var t=0;t<Hv.length;t++)Hv[t]._workInProgressVersionPrimary=null;Hv.length=0}var Vp=ea.ReactCurrentDispatcher,Wv=ea.ReactCurrentBatchConfig,gu=0,Ln=null,nr=null,dr=null,Sg=!1,md=!1,Ud=0,JT=0;function Rr(){throw Error(Fe(321))}function z2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Is(t[n],e[n]))return!1;return!0}function q2(t,e,n,r,i,s){if(gu=s,Ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vp.current=t===null||t.memoizedState===null?tk:nk,t=n(r,i),md){s=0;do{if(md=!1,Ud=0,25<=s)throw Error(Fe(301));s+=1,dr=nr=null,e.updateQueue=null,Vp.current=rk,t=n(r,i)}while(md)}if(Vp.current=Lg,e=nr!==null&&nr.next!==null,gu=0,dr=nr=Ln=null,Sg=!1,e)throw Error(Fe(300));return t}function $2(){var t=Ud!==0;return Ud=0,t}function Gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Ln.memoizedState=dr=t:dr=dr.next=t,dr}function ss(){if(nr===null){var t=Ln.alternate;t=t!==null?t.memoizedState:null}else t=nr.next;var e=dr===null?Ln.memoizedState:dr.next;if(e!==null)dr=e,nr=t;else{if(t===null)throw Error(Fe(310));nr=t,t={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},dr===null?Ln.memoizedState=dr=t:dr=dr.next=t}return dr}function zd(t,e){return typeof e=="function"?e(t):e}function Gv(t){var e=ss(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=nr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((gu&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Ln.lanes|=d,mu|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Is(r,e.memoizedState)||(mi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ln.lanes|=s,mu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kv(t){var e=ss(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Is(s,e.memoizedState)||(mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nL(){}function rL(t,e){var n=Ln,r=ss(),i=e(),s=!Is(r.memoizedState,i);if(s&&(r.memoizedState=i,mi=!0),r=r.queue,H2(oL.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,qd(9,sL.bind(null,n,r,i,e),void 0,null),pr===null)throw Error(Fe(349));gu&30||iL(n,e,i)}return i}function iL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sL(t,e,n,r){e.value=n,e.getSnapshot=r,aL(e)&&lL(t)}function oL(t,e,n){return n(function(){aL(e)&&lL(t)})}function aL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Is(t,n)}catch{return!0}}function lL(t){var e=Go(t,1);e!==null&&As(e,t,1,-1)}function V5(t){var e=Gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zd,lastRenderedState:t},e.queue=t,t=t.dispatch=ek.bind(null,Ln,t),[e.memoizedState,t]}function qd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uL(){return ss().memoizedState}function Up(t,e,n,r){var i=Gs();Ln.flags|=t,i.memoizedState=qd(1|e,n,void 0,r===void 0?null:r)}function bm(t,e,n,r){var i=ss();r=r===void 0?null:r;var s=void 0;if(nr!==null){var o=nr.memoizedState;if(s=o.destroy,r!==null&&z2(r,o.deps)){i.memoizedState=qd(e,n,s,r);return}}Ln.flags|=t,i.memoizedState=qd(1|e,n,s,r)}function U5(t,e){return Up(8390656,8,t,e)}function H2(t,e){return bm(2048,8,t,e)}function cL(t,e){return bm(4,2,t,e)}function hL(t,e){return bm(4,4,t,e)}function dL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fL(t,e,n){return n=n!=null?n.concat([t]):null,bm(4,4,dL.bind(null,e,t),n)}function W2(){}function pL(t,e){var n=ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gL(t,e){var n=ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mL(t,e,n){return gu&21?(Is(n,e)||(n=b4(),Ln.lanes|=n,mu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mi=!0),t.memoizedState=n)}function XT(t,e){var n=nn;nn=n!==0&&4>n?n:4,t(!0);var r=Wv.transition;Wv.transition={};try{t(!1),e()}finally{nn=n,Wv.transition=r}}function vL(){return ss().memoizedState}function ZT(t,e,n){var r=sl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yL(t))wL(e,n);else if(n=Z4(t,e,n,r),n!==null){var i=ii();As(n,t,r,i),_L(n,e,r)}}function ek(t,e,n){var r=sl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yL(t))wL(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Is(a,o)){var l=e.interleaved;l===null?(i.next=i,j2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Z4(t,e,i,r),n!==null&&(i=ii(),As(n,t,r,i),_L(n,e,r))}}function yL(t){var e=t.alternate;return t===Ln||e!==null&&e===Ln}function wL(t,e){md=Sg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _L(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S2(t,n)}}var Lg={readContext:is,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},tk={readContext:is,useCallback:function(t,e){return Gs().memoizedState=[t,e===void 0?null:e],t},useContext:is,useEffect:U5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Up(4194308,4,dL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Up(4194308,4,t,e)},useInsertionEffect:function(t,e){return Up(4,2,t,e)},useMemo:function(t,e){var n=Gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZT.bind(null,Ln,t),[r.memoizedState,t]},useRef:function(t){var e=Gs();return t={current:t},e.memoizedState=t},useState:V5,useDebugValue:W2,useDeferredValue:function(t){return Gs().memoizedState=t},useTransition:function(){var t=V5(!1),e=t[0];return t=XT.bind(null,t[1]),Gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ln,i=Gs();if(En){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=e(),pr===null)throw Error(Fe(349));gu&30||iL(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,U5(oL.bind(null,r,s,t),[t]),r.flags|=2048,qd(9,sL.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gs(),e=pr.identifierPrefix;if(En){var n=Fo,r=jo;n=(r&~(1<<32-Ls(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ud++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nk={readContext:is,useCallback:pL,useContext:is,useEffect:H2,useImperativeHandle:fL,useInsertionEffect:cL,useLayoutEffect:hL,useMemo:gL,useReducer:Gv,useRef:uL,useState:function(){return Gv(zd)},useDebugValue:W2,useDeferredValue:function(t){var e=ss();return mL(e,nr.memoizedState,t)},useTransition:function(){var t=Gv(zd)[0],e=ss().memoizedState;return[t,e]},useMutableSource:nL,useSyncExternalStore:rL,useId:vL,unstable_isNewReconciler:!1},rk={readContext:is,useCallback:pL,useContext:is,useEffect:H2,useImperativeHandle:fL,useInsertionEffect:cL,useLayoutEffect:hL,useMemo:gL,useReducer:Kv,useRef:uL,useState:function(){return Kv(zd)},useDebugValue:W2,useDeferredValue:function(t){var e=ss();return nr===null?e.memoizedState=t:mL(e,nr.memoizedState,t)},useTransition:function(){var t=Kv(zd)[0],e=ss().memoizedState;return[t,e]},useMutableSource:nL,useSyncExternalStore:rL,useId:vL,unstable_isNewReconciler:!1};function _s(t,e){if(t&&t.defaultProps){e=An({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function o1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:An({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Em={isMounted:function(t){return(t=t._reactInternals)?Cu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ii(),i=sl(t),s=zo(r,i);s.payload=e,n!=null&&(s.callback=n),e=rl(t,s,i),e!==null&&(As(e,t,i,r),Bp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ii(),i=sl(t),s=zo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rl(t,s,i),e!==null&&(As(e,t,i,r),Bp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ii(),r=sl(t),i=zo(n,r);i.tag=2,e!=null&&(i.callback=e),e=rl(t,i,r),e!==null&&(As(e,t,r,n),Bp(e,t,r))}};function z5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Md(n,r)||!Md(i,s):!0}function bL(t,e,n){var r=!1,i=dl,s=e.contextType;return typeof s=="object"&&s!==null?s=is(s):(i=yi(e)?fu:$r.current,r=e.contextTypes,s=(r=r!=null)?Yc(t,i):dl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Em,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function q5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Em.enqueueReplaceState(e,e.state,null)}function a1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},F2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=is(s):(s=yi(e)?fu:$r.current,i.context=Yc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(o1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Em.enqueueReplaceState(i,i.state,null),bg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function eh(t,e){try{var n="",r=e;do n+=kP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function l1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ik=typeof WeakMap=="function"?WeakMap:Map;function EL(t,e,n){n=zo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cg||(Cg=!0,y1=r),l1(t,e)},n}function SL(t,e,n){n=zo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){l1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){l1(t,e),typeof r!="function"&&(il===null?il=new Set([this]):il.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ik;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yk.bind(null,t,e,n),e.then(t,t))}function H5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zo(-1,1),e.tag=2,rl(n,e,1))),n.lanes|=1),t)}var sk=ea.ReactCurrentOwner,mi=!1;function ri(t,e,n,r){e.child=t===null?X4(e,null,n,r):Xc(e,t.child,n,r)}function G5(t,e,n,r,i){n=n.render;var s=e.ref;return Dc(e,i),r=q2(t,e,n,r,s,i),n=$2(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(En&&n&&k2(e),e.flags|=1,ri(t,e,r,i),e.child)}function K5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ey(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,LL(t,e,s,r,i)):(t=Hp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Md,n(o,r)&&t.ref===e.ref)return Ko(t,e,i)}return e.flags|=1,t=ol(s,r),t.ref=e.ref,t.return=e,e.child=t}function LL(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Md(s,r)&&t.ref===e.ref)if(mi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mi=!0);else return e.lanes=t.lanes,Ko(t,e,i)}return u1(t,e,n,r,i)}function AL(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(Ic,Ni),Ni|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dn(Ic,Ni),Ni|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,dn(Ic,Ni),Ni|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,dn(Ic,Ni),Ni|=r;return ri(t,e,i,n),e.child}function CL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function u1(t,e,n,r,i){var s=yi(n)?fu:$r.current;return s=Yc(e,s),Dc(e,i),n=q2(t,e,n,r,s,i),r=$2(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(En&&r&&k2(e),e.flags|=1,ri(t,e,n,i),e.child)}function Q5(t,e,n,r,i){if(yi(n)){var s=!0;mg(e)}else s=!1;if(Dc(e,i),e.stateNode===null)zp(t,e),bL(e,n,r),a1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=is(c):(c=yi(n)?fu:$r.current,c=Yc(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&q5(e,o,r,c),Da=!1;var m=e.memoizedState;o.state=m,bg(e,r,o,i),l=e.memoizedState,a!==r||m!==l||vi.current||Da?(typeof d=="function"&&(o1(e,n,d,r),l=e.memoizedState),(a=Da||z5(e,n,a,r,m,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eL(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_s(e.type,a),o.props=c,p=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=is(l):(l=yi(n)?fu:$r.current,l=Yc(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&q5(e,o,r,l),Da=!1,m=e.memoizedState,o.state=m,bg(e,r,o,i);var E=e.memoizedState;a!==p||m!==E||vi.current||Da?(typeof g=="function"&&(o1(e,n,g,r),E=e.memoizedState),(c=Da||z5(e,n,c,r,m,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return c1(t,e,n,r,s,i)}function c1(t,e,n,r,i,s){CL(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&O5(e,n,!1),Ko(t,e,s);r=e.stateNode,sk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xc(e,t.child,null,s),e.child=Xc(e,null,a,s)):ri(t,e,a,s),e.memoizedState=r.state,i&&O5(e,n,!0),e.child}function xL(t){var e=t.stateNode;e.pendingContext?R5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R5(t,e.context,!1),B2(t,e.containerInfo)}function Y5(t,e,n,r,i){return Jc(),R2(i),e.flags|=256,ri(t,e,n,r),e.child}var h1={dehydrated:null,treeContext:null,retryLane:0};function d1(t){return{baseLanes:t,cachePool:null,transitions:null}}function IL(t,e,n){var r=e.pendingProps,i=Sn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dn(Sn,i&1),t===null)return i1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Am(o,r,0,null),t=au(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=d1(n),e.memoizedState=h1,t):G2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ok(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ol(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ol(a,s):(s=au(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?d1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=h1,r}return s=t.child,t=s.sibling,r=ol(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function G2(t,e){return e=Am({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fp(t,e,n,r){return r!==null&&R2(r),Xc(e,t.child,null,n),t=G2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ok(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qv(Error(Fe(422))),fp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Am({mode:"visible",children:r.children},i,0,null),s=au(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xc(e,t.child,null,o),e.child.memoizedState=d1(o),e.memoizedState=h1,s);if(!(e.mode&1))return fp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Fe(419)),r=Qv(s,r,void 0),fp(t,e,o,r)}if(a=(o&t.childLanes)!==0,mi||a){if(r=pr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Go(t,i),As(r,t,i,-1))}return Z2(),r=Qv(Error(Fe(421))),fp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Oi=nl(i.nextSibling),Fi=e,En=!0,Ss=null,t!==null&&(es[ts++]=jo,es[ts++]=Fo,es[ts++]=pu,jo=t.id,Fo=t.overflow,pu=e),e=G2(e,r.children),e.flags|=4096,e)}function J5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),s1(t.return,e,n)}function Yv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ri(t,e,r.children,n),r=Sn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&J5(t,n,e);else if(t.tag===19)J5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dn(Sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Eg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Eg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yv(e,!0,n,null,s);break;case"together":Yv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ko(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,n=ol(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ol(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ak(t,e,n){switch(e.tag){case 3:xL(e),Jc();break;case 5:tL(e);break;case 1:yi(e.type)&&mg(e);break;case 4:B2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dn(wg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dn(Sn,Sn.current&1),e.flags|=128,null):n&e.child.childLanes?IL(t,e,n):(dn(Sn,Sn.current&1),t=Ko(t,e,n),t!==null?t.sibling:null);dn(Sn,Sn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dn(Sn,Sn.current),r)break;return null;case 22:case 23:return e.lanes=0,AL(t,e,n)}return Ko(t,e,n)}var TL,f1,kL,NL;TL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f1=function(){};kL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ru(to.current);var s=null;switch(n){case"input":i=M0(t,i),r=M0(t,r),s=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),s=[];break;case"textarea":i=F0(t,i),r=F0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pg)}V0(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Id.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Id.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&yn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};NL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qh(t,e){if(!En)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Or(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lk(t,e,n){var r=e.pendingProps;switch(N2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(e),null;case 1:return yi(e.type)&&gg(),Or(e),null;case 3:return r=e.stateNode,Zc(),bn(vi),bn($r),U2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ss!==null&&(b1(Ss),Ss=null))),f1(t,e),Or(e),null;case 5:V2(e);var i=ru(Vd.current);if(n=e.type,t!==null&&e.stateNode!=null)kL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return Or(e),null}if(t=ru(to.current),hp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qs]=e,r[Fd]=s,t=(e.mode&1)!==0,n){case"dialog":yn("cancel",r),yn("close",r);break;case"iframe":case"object":case"embed":yn("load",r);break;case"video":case"audio":for(i=0;i<od.length;i++)yn(od[i],r);break;case"source":yn("error",r);break;case"img":case"image":case"link":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"input":o5(r,s),yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},yn("invalid",r);break;case"textarea":l5(r,s),yn("invalid",r)}V0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&cp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cp(r.textContent,a,t),i=["children",""+a]):Id.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&yn("scroll",r)}switch(n){case"input":np(r),a5(r,s,!0);break;case"textarea":np(r),u5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qs]=e,t[Fd]=r,TL(t,e,!1,!1),e.stateNode=t;e:{switch(o=U0(n,r),n){case"dialog":yn("cancel",t),yn("close",t),i=r;break;case"iframe":case"object":case"embed":yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<od.length;i++)yn(od[i],t);i=r;break;case"source":yn("error",t),i=r;break;case"img":case"image":case"link":yn("error",t),yn("load",t),i=r;break;case"details":yn("toggle",t),i=r;break;case"input":o5(t,r),i=M0(t,r),yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),yn("invalid",t);break;case"textarea":l5(t,r),i=F0(t,r),yn("invalid",t);break;default:i=r}V0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?u4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a4(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pd(t,l):typeof l=="number"&&Pd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Id.hasOwnProperty(s)?l!=null&&s==="onScroll"&&yn("scroll",t):l!=null&&v2(t,s,l,o))}switch(n){case"input":np(t),a5(t,r,!1);break;case"textarea":np(t),u5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Or(e),null;case 6:if(t&&e.stateNode!=null)NL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(n=ru(Vd.current),ru(to.current),hp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qs]=e,(s=r.nodeValue!==n)&&(t=Fi,t!==null))switch(t.tag){case 3:cp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qs]=e,e.stateNode=r}return Or(e),null;case 13:if(bn(Sn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(En&&Oi!==null&&e.mode&1&&!(e.flags&128))Y4(),Jc(),e.flags|=98560,s=!1;else if(s=hp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[Qs]=e}else Jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Or(e),s=!1}else Ss!==null&&(b1(Ss),Ss=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?ir===0&&(ir=3):Z2())),e.updateQueue!==null&&(e.flags|=4),Or(e),null);case 4:return Zc(),f1(t,e),t===null&&Dd(e.stateNode.containerInfo),Or(e),null;case 10:return D2(e.type._context),Or(e),null;case 17:return yi(e.type)&&gg(),Or(e),null;case 19:if(bn(Sn),s=e.memoizedState,s===null)return Or(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qh(s,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Eg(t),o!==null){for(e.flags|=128,Qh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dn(Sn,Sn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vn()>th&&(e.flags|=128,r=!0,Qh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Eg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!En)return Or(e),null}else 2*Vn()-s.renderingStartTime>th&&n!==1073741824&&(e.flags|=128,r=!0,Qh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vn(),e.sibling=null,n=Sn.current,dn(Sn,r?n&1|2:n&1),e):(Or(e),null);case 22:case 23:return X2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ni&1073741824&&(Or(e),e.subtreeFlags&6&&(e.flags|=8192)):Or(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function uk(t,e){switch(N2(e),e.tag){case 1:return yi(e.type)&&gg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zc(),bn(vi),bn($r),U2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return V2(e),null;case 13:if(bn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));Jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bn(Sn),null;case 4:return Zc(),null;case 10:return D2(e.type._context),null;case 22:case 23:return X2(),null;case 24:return null;default:return null}}var pp=!1,Ur=!1,ck=typeof WeakSet=="function"?WeakSet:Set,Je=null;function xc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kn(t,e,r)}else n.current=null}function p1(t,e,n){try{n()}catch(r){kn(t,e,r)}}var X5=!1;function hk(t,e){if(J0=hg,t=j4(),T2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(l=o),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(X0={focusedElem:t,selectionRange:n},hg=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,I=E.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:_s(e.type,S),I);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(B){kn(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return E=X5,X5=!1,E}function vd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&p1(e,n,s)}i=i.next}while(i!==r)}}function Sm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function g1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RL(t){var e=t.alternate;e!==null&&(t.alternate=null,RL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qs],delete e[Fd],delete e[t1],delete e[GT],delete e[KT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OL(t){return t.tag===5||t.tag===3||t.tag===4}function Z5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function m1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pg));else if(r!==4&&(t=t.child,t!==null))for(m1(t,e,n),t=t.sibling;t!==null;)m1(t,e,n),t=t.sibling}function v1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(v1(t,e,n),t=t.sibling;t!==null;)v1(t,e,n),t=t.sibling}var Sr=null,Es=!1;function Ta(t,e,n){for(n=n.child;n!==null;)ML(t,e,n),n=n.sibling}function ML(t,e,n){if(eo&&typeof eo.onCommitFiberUnmount=="function")try{eo.onCommitFiberUnmount(gm,n)}catch{}switch(n.tag){case 5:Ur||xc(n,e);case 6:var r=Sr,i=Es;Sr=null,Ta(t,e,n),Sr=r,Es=i,Sr!==null&&(Es?(t=Sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sr.removeChild(n.stateNode));break;case 18:Sr!==null&&(Es?(t=Sr,n=n.stateNode,t.nodeType===8?qv(t.parentNode,n):t.nodeType===1&&qv(t,n),Rd(t)):qv(Sr,n.stateNode));break;case 4:r=Sr,i=Es,Sr=n.stateNode.containerInfo,Es=!0,Ta(t,e,n),Sr=r,Es=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&p1(n,e,o),i=i.next}while(i!==r)}Ta(t,e,n);break;case 1:if(!Ur&&(xc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kn(n,e,a)}Ta(t,e,n);break;case 21:Ta(t,e,n);break;case 22:n.mode&1?(Ur=(r=Ur)||n.memoizedState!==null,Ta(t,e,n),Ur=r):Ta(t,e,n);break;default:Ta(t,e,n)}}function e_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ck),e.forEach(function(r){var i=_k.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sr=a.stateNode,Es=!1;break e;case 3:Sr=a.stateNode.containerInfo,Es=!0;break e;case 4:Sr=a.stateNode.containerInfo,Es=!0;break e}a=a.return}if(Sr===null)throw Error(Fe(160));ML(s,o,i),Sr=null,Es=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){kn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DL(e,t),e=e.sibling}function DL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vs(e,t),Hs(t),r&4){try{vd(3,t,t.return),Sm(3,t)}catch(S){kn(t,t.return,S)}try{vd(5,t,t.return)}catch(S){kn(t,t.return,S)}}break;case 1:vs(e,t),Hs(t),r&512&&n!==null&&xc(n,n.return);break;case 5:if(vs(e,t),Hs(t),r&512&&n!==null&&xc(n,n.return),t.flags&32){var i=t.stateNode;try{Pd(i,"")}catch(S){kn(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&i4(i,s),U0(a,o);var c=U0(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?u4(i,p):d==="dangerouslySetInnerHTML"?a4(i,p):d==="children"?Pd(i,p):v2(i,d,p,c)}switch(a){case"input":D0(i,s);break;case"textarea":s4(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Nc(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Nc(i,!!s.multiple,s.defaultValue,!0):Nc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fd]=s}catch(S){kn(t,t.return,S)}}break;case 6:if(vs(e,t),Hs(t),r&4){if(t.stateNode===null)throw Error(Fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){kn(t,t.return,S)}}break;case 3:if(vs(e,t),Hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rd(e.containerInfo)}catch(S){kn(t,t.return,S)}break;case 4:vs(e,t),Hs(t);break;case 13:vs(e,t),Hs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Y2=Vn())),r&4&&e_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ur=(c=Ur)||d,vs(e,t),Ur=c):vs(e,t),Hs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Je=t,d=t.child;d!==null;){for(p=Je=d;Je!==null;){switch(m=Je,g=m.child,m.tag){case 0:case 11:case 14:case 15:vd(4,m,m.return);break;case 1:xc(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){kn(r,n,S)}}break;case 5:xc(m,m.return);break;case 22:if(m.memoizedState!==null){n_(p);continue}}g!==null?(g.return=m,Je=g):n_(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=l4("display",o))}catch(S){kn(t,t.return,S)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(S){kn(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vs(e,t),Hs(t),r&4&&e_(t);break;case 21:break;default:vs(e,t),Hs(t)}}function Hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OL(n)){var r=n;break e}n=n.return}throw Error(Fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pd(i,""),r.flags&=-33);var s=Z5(t);v1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z5(t);m1(t,a,o);break;default:throw Error(Fe(161))}}catch(l){kn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dk(t,e,n){Je=t,jL(t)}function jL(t,e,n){for(var r=(t.mode&1)!==0;Je!==null;){var i=Je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ur;a=pp;var c=Ur;if(pp=o,(Ur=l)&&!c)for(Je=i;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?r_(i):l!==null?(l.return=o,Je=l):r_(i);for(;s!==null;)Je=s,jL(s),s=s.sibling;Je=i,pp=a,Ur=c}t_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Je=s):t_(t)}}function t_(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ur||Sm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ur)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_s(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Rd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Ur||e.flags&512&&g1(e)}catch(m){kn(e,e.return,m)}}if(e===t){Je=null;break}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}}function n_(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Je=n;break}Je=e.return}}function r_(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sm(4,e)}catch(l){kn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){kn(e,i,l)}}var s=e.return;try{g1(e)}catch(l){kn(e,s,l)}break;case 5:var o=e.return;try{g1(e)}catch(l){kn(e,o,l)}}}catch(l){kn(e,e.return,l)}if(e===t){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var fk=Math.ceil,Ag=ea.ReactCurrentDispatcher,K2=ea.ReactCurrentOwner,rs=ea.ReactCurrentBatchConfig,zt=0,pr=null,Jn=null,Cr=0,Ni=0,Ic=El(0),ir=0,$d=null,mu=0,Lm=0,Q2=0,yd=null,pi=null,Y2=0,th=1/0,Oo=null,Cg=!1,y1=null,il=null,gp=!1,Ha=null,xg=0,wd=0,w1=null,qp=-1,$p=0;function ii(){return zt&6?Vn():qp!==-1?qp:qp=Vn()}function sl(t){return t.mode&1?zt&2&&Cr!==0?Cr&-Cr:YT.transition!==null?($p===0&&($p=b4()),$p):(t=nn,t!==0||(t=window.event,t=t===void 0?16:I4(t.type)),t):1}function As(t,e,n,r){if(50<wd)throw wd=0,w1=null,Error(Fe(185));of(t,n,r),(!(zt&2)||t!==pr)&&(t===pr&&(!(zt&2)&&(Lm|=n),ir===4&&Ba(t,Cr)),wi(t,r),n===1&&zt===0&&!(e.mode&1)&&(th=Vn()+500,_m&&Sl()))}function wi(t,e){var n=t.callbackNode;YP(t,e);var r=cg(t,t===pr?Cr:0);if(r===0)n!==null&&d5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d5(n),e===1)t.tag===0?QT(i_.bind(null,t)):G4(i_.bind(null,t)),HT(function(){!(zt&6)&&Sl()}),n=null;else{switch(E4(r)){case 1:n=E2;break;case 4:n=w4;break;case 16:n=ug;break;case 536870912:n=_4;break;default:n=ug}n=HL(n,FL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FL(t,e){if(qp=-1,$p=0,zt&6)throw Error(Fe(327));var n=t.callbackNode;if(jc()&&t.callbackNode!==n)return null;var r=cg(t,t===pr?Cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ig(t,r);else{e=r;var i=zt;zt|=2;var s=VL();(pr!==t||Cr!==e)&&(Oo=null,th=Vn()+500,ou(t,e));do try{mk();break}catch(a){BL(t,a)}while(!0);M2(),Ag.current=s,zt=i,Jn!==null?e=0:(pr=null,Cr=0,e=ir)}if(e!==0){if(e===2&&(i=W0(t),i!==0&&(r=i,e=_1(t,i))),e===1)throw n=$d,ou(t,0),Ba(t,r),wi(t,Vn()),n;if(e===6)Ba(t,r);else{if(i=t.current.alternate,!(r&30)&&!pk(i)&&(e=Ig(t,r),e===2&&(s=W0(t),s!==0&&(r=s,e=_1(t,s))),e===1))throw n=$d,ou(t,0),Ba(t,r),wi(t,Vn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Fe(345));case 2:Ql(t,pi,Oo);break;case 3:if(Ba(t,r),(r&130023424)===r&&(e=Y2+500-Vn(),10<e)){if(cg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ii(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=e1(Ql.bind(null,t,pi,Oo),e);break}Ql(t,pi,Oo);break;case 4:if(Ba(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ls(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fk(r/1960))-r,10<r){t.timeoutHandle=e1(Ql.bind(null,t,pi,Oo),r);break}Ql(t,pi,Oo);break;case 5:Ql(t,pi,Oo);break;default:throw Error(Fe(329))}}}return wi(t,Vn()),t.callbackNode===n?FL.bind(null,t):null}function _1(t,e){var n=yd;return t.current.memoizedState.isDehydrated&&(ou(t,e).flags|=256),t=Ig(t,e),t!==2&&(e=pi,pi=n,e!==null&&b1(e)),t}function b1(t){pi===null?pi=t:pi.push.apply(pi,t)}function pk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Is(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(t,e){for(e&=~Q2,e&=~Lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ls(e),r=1<<n;t[n]=-1,e&=~r}}function i_(t){if(zt&6)throw Error(Fe(327));jc();var e=cg(t,0);if(!(e&1))return wi(t,Vn()),null;var n=Ig(t,e);if(t.tag!==0&&n===2){var r=W0(t);r!==0&&(e=r,n=_1(t,r))}if(n===1)throw n=$d,ou(t,0),Ba(t,e),wi(t,Vn()),n;if(n===6)throw Error(Fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ql(t,pi,Oo),wi(t,Vn()),null}function J2(t,e){var n=zt;zt|=1;try{return t(e)}finally{zt=n,zt===0&&(th=Vn()+500,_m&&Sl())}}function vu(t){Ha!==null&&Ha.tag===0&&!(zt&6)&&jc();var e=zt;zt|=1;var n=rs.transition,r=nn;try{if(rs.transition=null,nn=1,t)return t()}finally{nn=r,rs.transition=n,zt=e,!(zt&6)&&Sl()}}function X2(){Ni=Ic.current,bn(Ic)}function ou(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$T(n)),Jn!==null)for(n=Jn.return;n!==null;){var r=n;switch(N2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gg();break;case 3:Zc(),bn(vi),bn($r),U2();break;case 5:V2(r);break;case 4:Zc();break;case 13:bn(Sn);break;case 19:bn(Sn);break;case 10:D2(r.type._context);break;case 22:case 23:X2()}n=n.return}if(pr=t,Jn=t=ol(t.current,null),Cr=Ni=e,ir=0,$d=null,Q2=Lm=mu=0,pi=yd=null,nu!==null){for(e=0;e<nu.length;e++)if(n=nu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}nu=null}return t}function BL(t,e){do{var n=Jn;try{if(M2(),Vp.current=Lg,Sg){for(var r=Ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sg=!1}if(gu=0,dr=nr=Ln=null,md=!1,Ud=0,K2.current=null,n===null||n.return===null){ir=1,$d=e,Jn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=H5(o);if(g!==null){g.flags&=-257,W5(g,o,a,s,e),g.mode&1&&$5(s,c,e),e=g,l=c;var E=e.updateQueue;if(E===null){var S=new Set;S.add(l),e.updateQueue=S}else E.add(l);break e}else{if(!(e&1)){$5(s,c,e),Z2();break e}l=Error(Fe(426))}}else if(En&&a.mode&1){var I=H5(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),W5(I,o,a,s,e),R2(eh(l,a));break e}}s=l=eh(l,a),ir!==4&&(ir=2),yd===null?yd=[s]:yd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=EL(s,l,e);F5(s,_);break e;case 1:a=l;var b=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(il===null||!il.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=SL(s,a,e);F5(s,B);break e}}s=s.return}while(s!==null)}zL(n)}catch(z){e=z,Jn===n&&n!==null&&(Jn=n=n.return);continue}break}while(!0)}function VL(){var t=Ag.current;return Ag.current=Lg,t===null?Lg:t}function Z2(){(ir===0||ir===3||ir===2)&&(ir=4),pr===null||!(mu&268435455)&&!(Lm&268435455)||Ba(pr,Cr)}function Ig(t,e){var n=zt;zt|=2;var r=VL();(pr!==t||Cr!==e)&&(Oo=null,ou(t,e));do try{gk();break}catch(i){BL(t,i)}while(!0);if(M2(),zt=n,Ag.current=r,Jn!==null)throw Error(Fe(261));return pr=null,Cr=0,ir}function gk(){for(;Jn!==null;)UL(Jn)}function mk(){for(;Jn!==null&&!UP();)UL(Jn)}function UL(t){var e=$L(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,e===null?zL(t):Jn=e,K2.current=null}function zL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uk(n,e),n!==null){n.flags&=32767,Jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,Jn=null;return}}else if(n=lk(n,e,Ni),n!==null){Jn=n;return}if(e=e.sibling,e!==null){Jn=e;return}Jn=e=t}while(e!==null);ir===0&&(ir=5)}function Ql(t,e,n){var r=nn,i=rs.transition;try{rs.transition=null,nn=1,vk(t,e,n,r)}finally{rs.transition=i,nn=r}return null}function vk(t,e,n,r){do jc();while(Ha!==null);if(zt&6)throw Error(Fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JP(t,s),t===pr&&(Jn=pr=null,Cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gp||(gp=!0,HL(ug,function(){return jc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rs.transition,rs.transition=null;var o=nn;nn=1;var a=zt;zt|=4,K2.current=null,hk(t,n),DL(n,t),jT(X0),hg=!!J0,X0=J0=null,t.current=n,dk(n),zP(),zt=a,nn=o,rs.transition=s}else t.current=n;if(gp&&(gp=!1,Ha=t,xg=i),s=t.pendingLanes,s===0&&(il=null),HP(n.stateNode),wi(t,Vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cg)throw Cg=!1,t=y1,y1=null,t;return xg&1&&t.tag!==0&&jc(),s=t.pendingLanes,s&1?t===w1?wd++:(wd=0,w1=t):wd=0,Sl(),null}function jc(){if(Ha!==null){var t=E4(xg),e=rs.transition,n=nn;try{if(rs.transition=null,nn=16>t?16:t,Ha===null)var r=!1;else{if(t=Ha,Ha=null,xg=0,zt&6)throw Error(Fe(331));var i=zt;for(zt|=4,Je=t.current;Je!==null;){var s=Je,o=s.child;if(Je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Je=c;Je!==null;){var d=Je;switch(d.tag){case 0:case 11:case 15:vd(8,d,s)}var p=d.child;if(p!==null)p.return=d,Je=p;else for(;Je!==null;){d=Je;var m=d.sibling,g=d.return;if(RL(d),d===c){Je=null;break}if(m!==null){m.return=g,Je=m;break}Je=g}}}var E=s.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}Je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Je=o;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vd(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Je=_;break e}Je=s.return}}var b=t.current;for(Je=b;Je!==null;){o=Je;var R=o.child;if(o.subtreeFlags&2064&&R!==null)R.return=o,Je=R;else e:for(o=b;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sm(9,a)}}catch(z){kn(a,a.return,z)}if(a===o){Je=null;break e}var B=a.sibling;if(B!==null){B.return=a.return,Je=B;break e}Je=a.return}}if(zt=i,Sl(),eo&&typeof eo.onPostCommitFiberRoot=="function")try{eo.onPostCommitFiberRoot(gm,t)}catch{}r=!0}return r}finally{nn=n,rs.transition=e}}return!1}function s_(t,e,n){e=eh(n,e),e=EL(t,e,1),t=rl(t,e,1),e=ii(),t!==null&&(of(t,1,e),wi(t,e))}function kn(t,e,n){if(t.tag===3)s_(t,t,n);else for(;e!==null;){if(e.tag===3){s_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(il===null||!il.has(r))){t=eh(n,t),t=SL(e,t,1),e=rl(e,t,1),t=ii(),e!==null&&(of(e,1,t),wi(e,t));break}}e=e.return}}function yk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ii(),t.pingedLanes|=t.suspendedLanes&n,pr===t&&(Cr&n)===n&&(ir===4||ir===3&&(Cr&130023424)===Cr&&500>Vn()-Y2?ou(t,0):Q2|=n),wi(t,e)}function qL(t,e){e===0&&(t.mode&1?(e=sp,sp<<=1,!(sp&130023424)&&(sp=4194304)):e=1);var n=ii();t=Go(t,e),t!==null&&(of(t,e,n),wi(t,n))}function wk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qL(t,n)}function _k(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),qL(t,n)}var $L;$L=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vi.current)mi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mi=!1,ak(t,e,n);mi=!!(t.flags&131072)}else mi=!1,En&&e.flags&1048576&&K4(e,yg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zp(t,e),t=e.pendingProps;var i=Yc(e,$r.current);Dc(e,n),i=q2(null,e,r,t,i,n);var s=$2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(r)?(s=!0,mg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,F2(e),i.updater=Em,e.stateNode=i,i._reactInternals=e,a1(e,r,t,n),e=c1(null,e,r,!0,s,n)):(e.tag=0,En&&s&&k2(e),ri(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ek(r),t=_s(r,t),i){case 0:e=u1(null,e,r,t,n);break e;case 1:e=Q5(null,e,r,t,n);break e;case 11:e=G5(null,e,r,t,n);break e;case 14:e=K5(null,e,r,_s(r.type,t),n);break e}throw Error(Fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_s(r,i),u1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_s(r,i),Q5(t,e,r,i,n);case 3:e:{if(xL(e),t===null)throw Error(Fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eL(t,e),bg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=eh(Error(Fe(423)),e),e=Y5(t,e,r,n,i);break e}else if(r!==i){i=eh(Error(Fe(424)),e),e=Y5(t,e,r,n,i);break e}else for(Oi=nl(e.stateNode.containerInfo.firstChild),Fi=e,En=!0,Ss=null,n=X4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jc(),r===i){e=Ko(t,e,n);break e}ri(t,e,r,n)}e=e.child}return e;case 5:return tL(e),t===null&&i1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Z0(r,i)?o=null:s!==null&&Z0(r,s)&&(e.flags|=32),CL(t,e),ri(t,e,o,n),e.child;case 6:return t===null&&i1(e),null;case 13:return IL(t,e,n);case 4:return B2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xc(e,null,r,n):ri(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_s(r,i),G5(t,e,r,i,n);case 7:return ri(t,e,e.pendingProps,n),e.child;case 8:return ri(t,e,e.pendingProps.children,n),e.child;case 12:return ri(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,dn(wg,r._currentValue),r._currentValue=o,s!==null)if(Is(s.value,o)){if(s.children===i.children&&!vi.current){e=Ko(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),s1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),s1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ri(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dc(e,n),i=is(i),r=r(i),e.flags|=1,ri(t,e,r,n),e.child;case 14:return r=e.type,i=_s(r,e.pendingProps),i=_s(r.type,i),K5(t,e,r,i,n);case 15:return LL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_s(r,i),zp(t,e),e.tag=1,yi(r)?(t=!0,mg(e)):t=!1,Dc(e,n),bL(e,r,i),a1(e,r,i,n),c1(null,e,r,!0,t,n);case 19:return PL(t,e,n);case 22:return AL(t,e,n)}throw Error(Fe(156,e.tag))};function HL(t,e){return y4(t,e)}function bk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(t,e,n,r){return new bk(t,e,n,r)}function ey(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ek(t){if(typeof t=="function")return ey(t)?1:0;if(t!=null){if(t=t.$$typeof,t===w2)return 11;if(t===_2)return 14}return 2}function ol(t,e){var n=t.alternate;return n===null?(n=ns(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ey(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yc:return au(n.children,i,s,e);case y2:o=8,i|=8;break;case k0:return t=ns(12,n,e,i|2),t.elementType=k0,t.lanes=s,t;case N0:return t=ns(13,n,e,i),t.elementType=N0,t.lanes=s,t;case R0:return t=ns(19,n,e,i),t.elementType=R0,t.lanes=s,t;case t4:return Am(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZS:o=10;break e;case e4:o=9;break e;case w2:o=11;break e;case _2:o=14;break e;case Ma:o=16,r=null;break e}throw Error(Fe(130,t==null?t:typeof t,""))}return e=ns(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function au(t,e,n,r){return t=ns(7,t,r,e),t.lanes=n,t}function Am(t,e,n,r){return t=ns(22,t,r,e),t.elementType=t4,t.lanes=n,t.stateNode={isHidden:!1},t}function Jv(t,e,n){return t=ns(6,t,null,e),t.lanes=n,t}function Xv(t,e,n){return e=ns(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nv(0),this.expirationTimes=Nv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ty(t,e,n,r,i,s,o,a,l){return t=new Sk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ns(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},F2(s),t}function Lk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WL(t){if(!t)return dl;t=t._reactInternals;e:{if(Cu(t)!==t||t.tag!==1)throw Error(Fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(t.tag===1){var n=t.type;if(yi(n))return W4(t,n,e)}return e}function GL(t,e,n,r,i,s,o,a,l){return t=ty(n,r,!0,t,i,s,o,a,l),t.context=WL(null),n=t.current,r=ii(),i=sl(n),s=zo(r,i),s.callback=e??null,rl(n,s,i),t.current.lanes=i,of(t,i,r),wi(t,r),t}function Cm(t,e,n,r){var i=e.current,s=ii(),o=sl(i);return n=WL(n),e.context===null?e.context=n:e.pendingContext=n,e=zo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rl(i,e,o),t!==null&&(As(t,i,o,s),Bp(t,i,o)),o}function Pg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ny(t,e){o_(t,e),(t=t.alternate)&&o_(t,e)}function Ak(){return null}var KL=typeof reportError=="function"?reportError:function(t){console.error(t)};function ry(t){this._internalRoot=t}xm.prototype.render=ry.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));Cm(t,e,null,null)};xm.prototype.unmount=ry.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vu(function(){Cm(null,t,null,null)}),e[Wo]=null}};function xm(t){this._internalRoot=t}xm.prototype.unstable_scheduleHydration=function(t){if(t){var e=A4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fa.length&&e!==0&&e<Fa[n].priority;n++);Fa.splice(n,0,t),n===0&&x4(t)}};function iy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a_(){}function Ck(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Pg(o);s.call(c)}}var o=GL(e,r,t,0,null,!1,!1,"",a_);return t._reactRootContainer=o,t[Wo]=o.current,Dd(t.nodeType===8?t.parentNode:t),vu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Pg(l);a.call(c)}}var l=ty(t,0,!1,null,null,!1,!1,"",a_);return t._reactRootContainer=l,t[Wo]=l.current,Dd(t.nodeType===8?t.parentNode:t),vu(function(){Cm(e,l,n,r)}),l}function Pm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Pg(o);a.call(l)}}Cm(e,o,t,i)}else o=Ck(n,e,t,i,r);return Pg(o)}S4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sd(e.pendingLanes);n!==0&&(S2(e,n|1),wi(e,Vn()),!(zt&6)&&(th=Vn()+500,Sl()))}break;case 13:vu(function(){var r=Go(t,1);if(r!==null){var i=ii();As(r,t,1,i)}}),ny(t,1)}};L2=function(t){if(t.tag===13){var e=Go(t,134217728);if(e!==null){var n=ii();As(e,t,134217728,n)}ny(t,134217728)}};L4=function(t){if(t.tag===13){var e=sl(t),n=Go(t,e);if(n!==null){var r=ii();As(n,t,e,r)}ny(t,e)}};A4=function(){return nn};C4=function(t,e){var n=nn;try{return nn=t,e()}finally{nn=n}};q0=function(t,e,n){switch(e){case"input":if(D0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wm(r);if(!i)throw Error(Fe(90));r4(r),D0(r,i)}}}break;case"textarea":s4(t,n);break;case"select":e=n.value,e!=null&&Nc(t,!!n.multiple,e,!1)}};d4=J2;f4=vu;var xk={usingClientEntryPoint:!1,Events:[lf,Ec,wm,c4,h4,J2]},Yh={findFiberByHostInstance:tu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ik={bundleType:Yh.bundleType,version:Yh.version,rendererPackageName:Yh.rendererPackageName,rendererConfig:Yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m4(t),t===null?null:t.stateNode},findFiberByHostInstance:Yh.findFiberByHostInstance||Ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{gm=mp.inject(Ik),eo=mp}catch{}}Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;Ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(e))throw Error(Fe(200));return Lk(t,e,null,n)};Ui.createRoot=function(t,e){if(!iy(t))throw Error(Fe(299));var n=!1,r="",i=KL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ty(t,1,!1,null,null,n,!1,r,i),t[Wo]=e.current,Dd(t.nodeType===8?t.parentNode:t),new ry(e)};Ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=m4(e),t=t===null?null:t.stateNode,t};Ui.flushSync=function(t){return vu(t)};Ui.hydrate=function(t,e,n){if(!Im(e))throw Error(Fe(200));return Pm(null,t,e,!0,n)};Ui.hydrateRoot=function(t,e,n){if(!iy(t))throw Error(Fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GL(e,null,t,1,n??null,i,!1,s,o),t[Wo]=e.current,Dd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xm(e)};Ui.render=function(t,e,n){if(!Im(e))throw Error(Fe(200));return Pm(null,t,e,!1,n)};Ui.unmountComponentAtNode=function(t){if(!Im(t))throw Error(Fe(40));return t._reactRootContainer?(vu(function(){Pm(null,null,t,!1,function(){t._reactRootContainer=null,t[Wo]=null})}),!0):!1};Ui.unstable_batchedUpdates=J2;Ui.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(Fe(200));if(t==null||t._reactInternals===void 0)throw Error(Fe(38));return Pm(t,e,n,!1,r)};Ui.version="18.3.1-next-f1338f8080-20240426";function QL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QL)}catch(t){console.error(t)}}QL(),QS.exports=Ui;var xu=QS.exports,YL,l_=xu;YL=l_.createRoot,l_.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}var Wa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wa||(Wa={}));const u_="popstate";function Pk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return E1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:XL(i)}return kk(e,n,null,t)}function sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tk(){return Math.random().toString(36).substr(2,8)}function c_(t,e){return{usr:t.state,key:t.key,idx:e}}function E1(t,e,n,r){return n===void 0&&(n=null),Hd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ph(e):e,{state:n,key:e&&e.key||r||Tk()})}function XL(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ph(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wa.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Hd({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Wa.Pop;let I=d(),_=I==null?null:I-c;c=I,l&&l({action:a,location:S.location,delta:_})}function m(I,_){a=Wa.Push;let b=E1(S.location,I,_);c=d()+1;let R=c_(b,c),B=S.createHref(b);try{o.pushState(R,"",B)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(B)}s&&l&&l({action:a,location:S.location,delta:1})}function g(I,_){a=Wa.Replace;let b=E1(S.location,I,_);c=d();let R=c_(b,c),B=S.createHref(b);o.replaceState(R,"",B),s&&l&&l({action:a,location:S.location,delta:0})}function E(I){let _=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof I=="string"?I:XL(I);return b=b.replace(/ $/,"%20"),sr(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let S={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(u_,p),l=I,()=>{i.removeEventListener(u_,p),l=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let _=E(I);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(I){return o.go(I)}};return S}var h_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h_||(h_={}));function Nk(t,e,n){return n===void 0&&(n="/"),Rk(t,e,n,!1)}function Rk(t,e,n,r){let i=typeof e=="string"?ph(e):e,s=t3(i.pathname||"/",n);if(s==null)return null;let o=ZL(t);Ok(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Hk(s);a=qk(o[l],c,r)}return a}function ZL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(sr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=lu([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(sr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZL(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Uk(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of e3(s.path))i(s,o,l)}),e}function e3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=e3(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ok(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mk=/^:[\w-]+$/,Dk=3,jk=2,Fk=1,Bk=10,Vk=-2,d_=t=>t==="*";function Uk(t,e){let n=t.split("/"),r=n.length;return n.some(d_)&&(r+=Vk),e&&(r+=jk),n.filter(i=>!d_(i)).reduce((i,s)=>i+(Mk.test(s)?Dk:s===""?Fk:Bk),r)}function zk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qk(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=f_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=f_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:lu([s,p.pathname]),pathnameBase:Jk(lu([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=lu([s,p.pathnameBase]))}return o}function f_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$k(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let S=a[p]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const E=a[p];return g&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function $k(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JL(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JL(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function t3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Wk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ph(t):t;return{pathname:n?n.startsWith("/")?n:Gk(n,e):e,search:Xk(r),hash:Zk(i)}}function Gk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qk(t,e){let n=Kk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ph(t):(i=Hd({},t),sr(!i.pathname||!i.pathname.includes("?"),Zv("?","pathname","search",i)),sr(!i.pathname||!i.pathname.includes("#"),Zv("#","pathname","hash",i)),sr(!i.search||!i.search.includes("#"),Zv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let l=Wk(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const lu=t=>t.join("/").replace(/\/\/+/g,"/"),Jk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function e6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n3=["post","put","patch","delete"];new Set(n3);const t6=["get",...n3];new Set(t6);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}const sy=A.createContext(null),n6=A.createContext(null),Tm=A.createContext(null),km=A.createContext(null),Iu=A.createContext({outlet:null,matches:[],isDataRoute:!1}),r3=A.createContext(null);function Nm(){return A.useContext(km)!=null}function i3(){return Nm()||sr(!1),A.useContext(km).location}function s3(t){A.useContext(Tm).static||A.useLayoutEffect(t)}function cf(){let{isDataRoute:t}=A.useContext(Iu);return t?m6():r6()}function r6(){Nm()||sr(!1);let t=A.useContext(sy),{basename:e,future:n,navigator:r}=A.useContext(Tm),{matches:i}=A.useContext(Iu),{pathname:s}=i3(),o=JSON.stringify(Qk(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return s3(()=>{a.current=!0}),A.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=Yk(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:lu([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function i6(){let{matches:t}=A.useContext(Iu),e=t[t.length-1];return e?e.params:{}}function s6(t,e){return o6(t,e)}function o6(t,e,n,r){Nm()||sr(!1);let{navigator:i}=A.useContext(Tm),{matches:s}=A.useContext(Iu),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=i3(),d;if(e){var p;let I=typeof e=="string"?ph(e):e;l==="/"||(p=I.pathname)!=null&&p.startsWith(l)||sr(!1),d=I}else d=c;let m=d.pathname||"/",g=m;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=Nk(t,{pathname:g}),S=h6(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:lu([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:lu([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&S?A.createElement(km.Provider,{value:{location:Wd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Wa.Pop}},S):S}function a6(){let t=g6(),e=e6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const l6=A.createElement(a6,null);class u6 extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Iu.Provider,{value:this.props.routeContext},A.createElement(r3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c6(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(sy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Iu.Provider,{value:e},r)}function h6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||sr(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:g}=n,E=p.route.loader&&m[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let g,E=!1,S=null,I=null;n&&(g=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||l6,l&&(c<0&&m===0?(E=!0,I=null):c===m&&(E=!0,I=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),b=()=>{let R;return g?R=S:E?R=I:p.route.Component?R=A.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=d,A.createElement(c6,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:R})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?A.createElement(u6,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var o3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(o3||{}),Tg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tg||{});function d6(t){let e=A.useContext(sy);return e||sr(!1),e}function f6(t){let e=A.useContext(n6);return e||sr(!1),e}function p6(t){let e=A.useContext(Iu);return e||sr(!1),e}function a3(t){let e=p6(),n=e.matches[e.matches.length-1];return n.route.id||sr(!1),n.route.id}function g6(){var t;let e=A.useContext(r3),n=f6(Tg.UseRouteError),r=a3(Tg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function m6(){let{router:t}=d6(o3.UseNavigateStable),e=a3(Tg.UseNavigateStable),n=A.useRef(!1);return s3(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wd({fromRouteId:e},s)))},[t,e])}function Yl(t){sr(!1)}function v6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wa.Pop,navigator:s,static:o=!1,future:a}=t;Nm()&&sr(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:s,static:o,future:Wd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ph(r));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:E="default"}=r,S=A.useMemo(()=>{let I=t3(d,l);return I==null?null:{location:{pathname:I,search:p,hash:m,state:g,key:E},navigationType:i}},[l,d,p,m,g,E,i]);return S==null?null:A.createElement(Tm.Provider,{value:c},A.createElement(km.Provider,{children:n,value:S}))}function y6(t){let{children:e,location:n}=t;return s6(S1(e),n)}new Promise(()=>{});function S1(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,S1(r.props.children,s));return}r.type!==Yl&&sr(!1),!r.props.index||!r.props.children||sr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=S1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const w6="6";try{window.__reactRouterVersion=w6}catch{}const _6="startTransition",p_=yP[_6];function b6(t){let{basename:e,children:n,future:r,window:i}=t,s=A.useRef();s.current==null&&(s.current=Pk({window:i,v5Compat:!0}));let o=s.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=A.useCallback(p=>{c&&p_?p_(()=>l(p)):l(p)},[l,c]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.createElement(v6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var g_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(g_||(g_={}));var m_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(m_||(m_={}));var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},E6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},u3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(m=64)),r.push(n[d],n[p],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new S6;const m=s<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),p!==64){const E=c<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L6=function(t){const e=l3(t);return u3.encodeByteArray(e,!0)},kg=function(t){return L6(t).replace(/\./g,"")},c3=function(t){try{return u3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=()=>A6().__FIREBASE_DEFAULTS__,x6=()=>{if(typeof process>"u"||typeof v_>"u")return;const t=v_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c3(t[1]);return e&&JSON.parse(e)},Rm=()=>{try{return C6()||x6()||I6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h3=t=>{var e,n;return(n=(e=Rm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},d3=t=>{const e=h3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f3=()=>{var t;return(t=Rm())===null||t===void 0?void 0:t.config},p3=t=>{var e;return(e=Rm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kg(JSON.stringify(n)),kg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function k6(){var t;const e=(t=Rm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function R6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function O6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M6(){const t=Hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D6(){return!k6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j6(){try{return typeof indexedDB=="object"}catch{return!1}}function F6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="FirebaseError";class fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B6,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hf.prototype.create)}}class hf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?V6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fo(i,a,r)}}function V6(t,e){return t.replace(U6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U6=/\{\$([^}]+)}/g;function z6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ng(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(y_(s)&&y_(o)){if(!Ng(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function y_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function q6(t,e){const n=new $6(t,e);return n.subscribe.bind(n)}class $6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=e0),i.error===void 0&&(i.error=e0),i.complete===void 0&&(i.complete=e0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function e0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){return t&&t._delegate?t._delegate:t}class fl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K6(e))try{this.getOrInitializeService({instanceIdentifier:Jl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jl){return this.instances.has(e)}getOptions(e=Jl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jl){return this.component?this.component.multipleInstances?e:Jl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G6(t){return t===Jl?void 0:t}function K6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const Y6={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},J6=jt.INFO,X6={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},Z6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=X6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=J6,this._logHandler=Z6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const eN=(t,e)=>e.some(n=>t instanceof n);let w_,__;function tN(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nN(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m3=new WeakMap,L1=new WeakMap,v3=new WeakMap,t0=new WeakMap,ay=new WeakMap;function rN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(al(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&m3.set(n,t)}).catch(()=>{}),ay.set(e,t),e}function iN(t){if(L1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});L1.set(t,e)}let A1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||v3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return al(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sN(t){A1=t(A1)}function oN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(n0(this),e,...n);return v3.set(r,e.sort?e.sort():[e]),al(r)}:nN().includes(t)?function(...e){return t.apply(n0(this),e),al(m3.get(this))}:function(...e){return al(t.apply(n0(this),e))}}function aN(t){return typeof t=="function"?oN(t):(t instanceof IDBTransaction&&iN(t),eN(t,tN())?new Proxy(t,A1):t)}function al(t){if(t instanceof IDBRequest)return rN(t);if(t0.has(t))return t0.get(t);const e=aN(t);return e!==t&&(t0.set(t,e),ay.set(e,t)),e}const n0=t=>ay.get(t);function lN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=al(o);return r&&o.addEventListener("upgradeneeded",l=>{r(al(o.result),l.oldVersion,l.newVersion,al(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const uN=["get","getKey","getAll","getAllKeys","count"],cN=["put","add","delete","clear"],r0=new Map;function b_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(r0.get(e))return r0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return r0.set(e,s),s}sN(t=>({...t,get:(e,n,r)=>b_(e,n)||t.get(e,n,r),has:(e,n)=>!!b_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C1="@firebase/app",E_="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new oy("@firebase/app"),fN="@firebase/app-compat",pN="@firebase/analytics-compat",gN="@firebase/analytics",mN="@firebase/app-check-compat",vN="@firebase/app-check",yN="@firebase/auth",wN="@firebase/auth-compat",_N="@firebase/database",bN="@firebase/data-connect",EN="@firebase/database-compat",SN="@firebase/functions",LN="@firebase/functions-compat",AN="@firebase/installations",CN="@firebase/installations-compat",xN="@firebase/messaging",IN="@firebase/messaging-compat",PN="@firebase/performance",TN="@firebase/performance-compat",kN="@firebase/remote-config",NN="@firebase/remote-config-compat",RN="@firebase/storage",ON="@firebase/storage-compat",MN="@firebase/firestore",DN="@firebase/vertexai",jN="@firebase/firestore-compat",FN="firebase",BN="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="[DEFAULT]",VN={[C1]:"fire-core",[fN]:"fire-core-compat",[gN]:"fire-analytics",[pN]:"fire-analytics-compat",[vN]:"fire-app-check",[mN]:"fire-app-check-compat",[yN]:"fire-auth",[wN]:"fire-auth-compat",[_N]:"fire-rtdb",[bN]:"fire-data-connect",[EN]:"fire-rtdb-compat",[SN]:"fire-fn",[LN]:"fire-fn-compat",[AN]:"fire-iid",[CN]:"fire-iid-compat",[xN]:"fire-fcm",[IN]:"fire-fcm-compat",[PN]:"fire-perf",[TN]:"fire-perf-compat",[kN]:"fire-rc",[NN]:"fire-rc-compat",[RN]:"fire-gcs",[ON]:"fire-gcs-compat",[MN]:"fire-fst",[jN]:"fire-fst-compat",[DN]:"fire-vertex","fire-js":"fire-js",[FN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map,UN=new Map,I1=new Map;function S_(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yu(t){const e=t.name;if(I1.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;I1.set(e,t);for(const n of Rg.values())S_(n,t);for(const n of UN.values())S_(n,t);return!0}function Om(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Js(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ll=new hf("app","Firebase",zN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ll.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=BN;function y3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:x1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ll.create("bad-app-name",{appName:String(i)});if(n||(n=f3()),!n)throw ll.create("no-options");const s=Rg.get(i);if(s){if(Ng(n,s.options)&&Ng(r,s.config))return s;throw ll.create("duplicate-app",{appName:i})}const o=new Q6(i);for(const l of I1.values())o.addComponent(l);const a=new qN(n,r,o);return Rg.set(i,a),a}function ly(t=x1){const e=Rg.get(t);if(!e&&t===x1&&f3())return y3();if(!e)throw ll.create("no-app",{appName:t});return e}function no(t,e,n){var r;let i=(r=VN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(a.join(" "));return}yu(new fl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firebase-heartbeat-database",HN=1,Gd="firebase-heartbeat-store";let i0=null;function w3(){return i0||(i0=lN($N,HN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ll.create("idb-open",{originalErrorMessage:t.message})})),i0}async function WN(t){try{const n=(await w3()).transaction(Gd),r=await n.objectStore(Gd).get(_3(t));return await n.done,r}catch(e){if(e instanceof fo)Qo.warn(e.message);else{const n=ll.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(n.message)}}}async function L_(t,e){try{const r=(await w3()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,_3(t)),await r.done}catch(n){if(n instanceof fo)Qo.warn(n.message);else{const r=ll.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qo.warn(r.message)}}}function _3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,KN=30*24*60*60*1e3;class QN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=KN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A_(),{heartbeatsToSend:r,unsentEntries:i}=YN(this._heartbeatsCache.heartbeats),s=kg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qo.warn(n),""}}}function A_(){return new Date().toISOString().substring(0,10)}function YN(t,e=GN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),C_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),C_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j6()?F6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function C_(t){return kg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){yu(new fl("platform-logger",e=>new hN(e),"PRIVATE")),yu(new fl("heartbeat",e=>new QN(e),"PRIVATE")),no(C1,E_,t),no(C1,E_,"esm2017"),no("fire-js","")}XN("");function uy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function b3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZN=b3,E3=new hf("auth","Firebase",b3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new oy("@firebase/auth");function eR(t,...e){Og.logLevel<=jt.WARN&&Og.warn(`Auth (${Pu}): ${t}`,...e)}function Wp(t,...e){Og.logLevel<=jt.ERROR&&Og.error(`Auth (${Pu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t,...e){throw hy(t,...e)}function Cs(t,...e){return hy(t,...e)}function cy(t,e,n){const r=Object.assign(Object.assign({},ZN()),{[e]:n});return new hf("auth","Firebase",r).create(e,{appName:t.name})}function ul(t){return cy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&lo(t,"argument-error"),cy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return E3.create(t,...e)}function yt(t,e,...n){if(!t)throw hy(e,...n)}function Bo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wp(e),new Error(e)}function Yo(t,e){t||Bo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nR(){return x_()==="http:"||x_()==="https:"}function x_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nR()||R6()||"connection"in navigator)?navigator.onLine:!0}function iR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yo(n>e,"Short delay should be less than long delay!"),this.isMobile=T6()||O6()}get(){return rR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){Yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new ff(3e4,6e4);function pf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tu(t,e,n,r,i={}){return L3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=df(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return N6()||(c.referrerPolicy="no-referrer"),S3.fetch()(C3(t,t.config.apiHost,n,a),c)})}async function L3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sR),e);try{const i=new lR(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vp(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cy(t,d,c);lo(t,d)}}catch(i){if(i instanceof fo)throw i;lo(t,"network-request-failed",{message:String(i)})}}async function A3(t,e,n,r,i={}){const s=await Tu(t,e,n,r,i);return"mfaPendingCredential"in s&&lo(t,"multi-factor-auth-required",{_serverResponse:s}),s}function C3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dy(t.config,i):`${t.config.apiScheme}://${i}`}function aR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cs(this.auth,"network-request-failed")),oR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cs(t,e,r);return i.customData._tokenResponse=n,i}function I_(t){return t!==void 0&&t.enterprise!==void 0}class uR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cR(t,e){return Tu(t,"GET","/v2/recaptchaConfig",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e){return Tu(t,"POST","/v1/accounts:delete",e)}async function x3(t,e){return Tu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dR(t,e=!1){const n=ar(t),r=await n.getIdToken(e),i=fy(r);yt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_d(s0(i.auth_time)),issuedAtTime:_d(s0(i.iat)),expirationTime:_d(s0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function s0(t){return Number(t)*1e3}function fy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wp("JWT malformed, contained fewer than 3 sections"),null;try{const i=c3(n);return i?JSON.parse(i):(Wp("Failed to decode base64 JWT payload"),null)}catch(i){return Wp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function P_(t){const e=fy(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fo&&fR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_d(this.lastLoginAt),this.creationTime=_d(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kd(t,x3(n,{idToken:r}));yt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?I3(s.providerUserInfo):[],a=mR(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new T1(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function gR(t){const e=ar(t);await Mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function I3(t){return t.map(e=>{var{providerId:n}=e,r=uy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(t,e){const n=await L3(t,{},async()=>{const r=df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=C3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yR(t,e){return Tu(t,"POST","/v2/accounts:revokeToken",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=P_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await vR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fc;return r&&(yt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(yt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(yt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fc,this.toJSON())}_performRefresh(){return Bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new T1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kd(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dR(this,e)}reload(){return gR(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Js(this.auth.app))return Promise.reject(ul(this.auth));const e=await this.getIdToken();return await Kd(this,hR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:B,isAnonymous:z,providerData:K,stsTokenManager:N}=n;yt(R&&N,e,"internal-error");const x=Fc.fromJSON(this.name,N);yt(typeof R=="string",e,"internal-error"),ka(p,e.name),ka(m,e.name),yt(typeof B=="boolean",e,"internal-error"),yt(typeof z=="boolean",e,"internal-error"),ka(g,e.name),ka(E,e.name),ka(S,e.name),ka(I,e.name),ka(_,e.name),ka(b,e.name);const k=new Vo({uid:R,auth:e,email:m,emailVerified:B,displayName:p,isAnonymous:z,photoURL:E,phoneNumber:g,tenantId:S,stsTokenManager:x,createdAt:_,lastLoginAt:b});return K&&Array.isArray(K)&&(k.providerData=K.map(F=>Object.assign({},F))),I&&(k._redirectEventId=I),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fc;i.updateFromServerResponse(n);const s=new Vo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];yt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?I3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fc;a.updateFromIdToken(r);const l=new Vo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function Uo(t){Yo(t instanceof Function,"Expected a class definition");let e=T_.get(t);return e?(Yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P3.type="NONE";const k_=P3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t,e,n){return`firebase:${t}:${e}:${n}`}class Bc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bc(Uo(k_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Uo(k_);const o=Gp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const p=Vo._fromJSON(e,d);c!==s&&(a=p),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M3(e))return"Blackberry";if(D3(e))return"Webos";if(k3(e))return"Safari";if((e.includes("chrome/")||N3(e))&&!e.includes("edge/"))return"Chrome";if(O3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function T3(t=Hr()){return/firefox\//i.test(t)}function k3(t=Hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N3(t=Hr()){return/crios\//i.test(t)}function R3(t=Hr()){return/iemobile/i.test(t)}function O3(t=Hr()){return/android/i.test(t)}function M3(t=Hr()){return/blackberry/i.test(t)}function D3(t=Hr()){return/webos/i.test(t)}function py(t=Hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wR(t=Hr()){var e;return py(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _R(){return M6()&&document.documentMode===10}function j3(t=Hr()){return py(t)||O3(t)||D3(t)||M3(t)||/windows phone/i.test(t)||R3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t,e=[]){let n;switch(t){case"Browser":n=N_(Hr());break;case"Worker":n=`${N_(Hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e={}){return Tu(t,"GET","/v2/passwordPolicy",pf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=6;class LR{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new bR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Uo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x3(this,{idToken:e}),r=await Vo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Js(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Js(this.app))return Promise.reject(ul(this));const n=e?ar(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Js(this.app)?Promise.reject(ul(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Js(this.app)?Promise.reject(ul(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Uo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ER(this),n=new LR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Uo(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Bc.create(this,[Uo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ku(t){return ar(t)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=q6(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CR(t){Mm=t}function B3(t){return Mm.loadJS(t)}function xR(){return Mm.recaptchaEnterpriseScript}function IR(){return Mm.gapiScript}function PR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class TR{constructor(){this.enterprise=new kR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NR="recaptcha-enterprise",V3="NO_RECAPTCHA";class RR{constructor(e){this.type=NR,this.auth=ku(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{cR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new uR(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;I_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(V3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TR().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&I_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=xR();l.length!==0&&(l+=a),B3(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function O_(t,e,n,r=!1,i=!1){const s=new RR(t);let o;if(i)o=V3;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function OR(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await O_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await O_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e){const n=Om(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ng(s,e??{}))return i;lo(i,"already-initialized")}return n.initialize({options:e})}function DR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Uo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jR(t,e,n){const r=ku(t);yt(r._canInitEmulator,r,"emulator-config-failed"),yt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=U3(e),{host:o,port:a}=FR(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),BR()}function U3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FR(t){const e=U3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:M_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:M_(o)}}}function M_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bo("not implemented")}_getIdTokenResponse(e){return Bo("not implemented")}_linkToIdToken(e,n){return Bo("not implemented")}_getReauthenticationResolver(e){return Bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e){return A3(t,"POST","/v1/accounts:signInWithIdp",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="http://localhost";class wu extends z3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vc(e,n)}buildRequest(){const e={requestUri:VR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends gy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends gf{constructor(){super("facebook.com")}static credential(e){return wu._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.FACEBOOK_SIGN_IN_METHOD="facebook.com";Va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wu._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends gf{constructor(){super("github.com")}static credential(e){return wu._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}}Ua.GITHUB_SIGN_IN_METHOD="github.com";Ua.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends gf{constructor(){super("twitter.com")}static credential(e,n){return wu._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return za.credential(n,r)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e){return A3(t,"POST","/v1/accounts:signUp",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Vo._fromIdTokenResponse(e,r,i),o=D_(r);return new _u({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=D_(r);return new _u({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function D_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends fo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dg(e,n,r,i)}}function q3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dg._fromErrorAndOperation(t,s,e,r):s})}async function zR(t,e,n=!1){const r=await Kd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _u._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,e,n=!1){const{auth:r}=t;if(Js(r.app))return Promise.reject(ul(r));const i="reauthenticate";try{const s=await Kd(t,q3(r,i,e,t),n);yt(s.idToken,r,"internal-error");const o=fy(s.idToken);yt(o,r,"internal-error");const{sub:a}=o;return yt(t.uid===a,r,"user-mismatch"),_u._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&lo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e,n=!1){if(Js(t.app))return Promise.reject(ul(t));const r="signIn",i=await q3(t,r,e),s=await _u._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t){const e=ku(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WR(t,e,n){if(Js(t.app))return Promise.reject(ul(t));const r=ku(t),o=await OR(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UR).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&HR(t),l}),a=await _u._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function GR(t,e,n,r){return ar(t).onIdTokenChanged(e,n,r)}function KR(t,e,n){return ar(t).beforeAuthStateChanged(e,n)}const jg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jg,"1"),this.storage.removeItem(jg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1e3,YR=10;class H3 extends $3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);_R()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,YR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}H3.type="LOCAL";const JR=H3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3 extends $3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W3.type="SESSION";const G3=W3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await XR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=my("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(){return window}function eO(t){ro().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){return typeof ro().WorkerGlobalScope<"u"&&typeof ro().importScripts=="function"}async function tO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rO(){return K3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="firebaseLocalStorageDb",iO=1,Fg="firebaseLocalStorage",Y3="fbase_key";class mf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jm(t,e){return t.transaction([Fg],e?"readwrite":"readonly").objectStore(Fg)}function sO(){const t=indexedDB.deleteDatabase(Q3);return new mf(t).toPromise()}function k1(){const t=indexedDB.open(Q3,iO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fg,{keyPath:Y3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fg)?e(r):(r.close(),await sO(),e(await k1()))})})}async function j_(t,e,n){const r=jm(t,!0).put({[Y3]:e,value:n});return new mf(r).toPromise()}async function oO(t,e){const n=jm(t,!1).get(e),r=await new mf(n).toPromise();return r===void 0?null:r.value}function F_(t,e){const n=jm(t,!0).delete(e);return new mf(n).toPromise()}const aO=800,lO=3;class J3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await k1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(rO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tO(),!this.activeServiceWorker)return;this.sender=new ZR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await k1();return await j_(e,jg,"1"),await F_(e,jg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jm(i,!1).getAll();return new mf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J3.type="LOCAL";const uO=J3;new ff(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t,e){return e?Uo(e):(yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends z3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cO(t){return $R(t.auth,new vy(t),t.bypassAuthState)}function hO(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),qR(n,new vy(t),t.bypassAuthState)}async function dO(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),zR(n,new vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cO;case"linkViaPopup":case"linkViaRedirect":return dO;case"reauthViaPopup":case"reauthViaRedirect":return hO;default:lo(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new ff(2e3,1e4);async function pO(t,e,n){if(Js(t.app))return Promise.reject(Cs(t,"operation-not-supported-in-this-environment"));const r=ku(t);tR(t,e,gy);const i=X3(r,n);return new iu(r,"signInViaPopup",e,i).executeNotNull()}class iu extends Z3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){Yo(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fO.get())};e()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="pendingRedirect",Kp=new Map;class mO extends Z3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kp.get(this.auth._key());if(!e){try{const r=await vO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kp.set(this.auth._key(),e)}return this.bypassAuthState||Kp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vO(t,e){const n=_O(e),r=wO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yO(t,e){Kp.set(t._key(),e)}function wO(t){return Uo(t._redirectPersistence)}function _O(t){return Gp(gO,t.config.apiKey,t.name)}async function bO(t,e,n=!1){if(Js(t.app))return Promise.reject(ul(t));const r=ku(t),i=X3(r,e),o=await new mO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=10*60*1e3;class SO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EO&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}saveEventToCache(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}function B_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e={}){return Tu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xO=/^https?/;async function IO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AO(t);for(const n of e)try{if(PO(n))return}catch{}lo(t,"unauthorized-domain")}function PO(t){const e=P1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xO.test(n))return!1;if(CO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new ff(3e4,6e4);function V_(){const t=ro().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kO(t){return new Promise((e,n)=>{var r,i,s;function o(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),n(Cs(t,"network-request-failed"))},timeout:TO.get()})}if(!((i=(r=ro().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ro().gapi)===null||s===void 0)&&s.load)o();else{const a=PR("iframefcb");return ro()[a]=()=>{gapi.load?o():n(Cs(t,"network-request-failed"))},B3(`${IR()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qp=null,e})}let Qp=null;function NO(t){return Qp=Qp||kO(t),Qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new ff(5e3,15e3),OO="__/auth/iframe",MO="emulator/auth/iframe",DO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FO(t){const e=t.config;yt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dy(e,MO):`https://${t.config.authDomain}/${OO}`,r={apiKey:e.apiKey,appName:t.name,v:Pu},i=jO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${df(r).slice(1)}`}async function BO(t){const e=await NO(t),n=ro().gapi;return yt(n,t,"internal-error"),e.open({where:document.body,url:FO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cs(t,"network-request-failed"),a=ro().setTimeout(()=>{s(o)},RO.get());function l(){ro().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UO=500,zO=600,qO="_blank",$O="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HO(t,e,n,r=UO,i=zO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},VO),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Hr().toLowerCase();n&&(a=N3(c)?qO:n),T3(c)&&(e=e||$O,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[g,E])=>`${m}${g}=${E},`,"");if(wR(c)&&a!=="_self")return WO(e||"",a),new U_(null);const p=window.open(e||"",a,d);yt(p,t,"popup-blocked");try{p.focus()}catch{}return new U_(p)}function WO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="__/auth/handler",KO="emulator/auth/handler",QO=encodeURIComponent("fac");async function z_(t,e,n,r,i,s){yt(t.config.authDomain,t,"auth-domain-config-required"),yt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pu,eventId:i};if(e instanceof gy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",z6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof gf){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${QO}=${encodeURIComponent(l)}`:"";return`${YO(t)}?${df(a).slice(1)}${c}`}function YO({config:t}){return t.emulator?dy(t,KO):`https://${t.authDomain}/${GO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="webStorageSupport";class JO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G3,this._completeRedirectFn=bO,this._overrideRedirectResult=yO}async _openPopup(e,n,r,i){var s;Yo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await z_(e,n,r,P1(),i);return HO(e,o,my())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await z_(e,n,r,P1(),i);return eO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BO(e),r=new SO(e);return n.register("authEvent",i=>(yt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o0,{type:o0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[o0];o!==void 0&&n(!!o),lo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j3()||k3()||py()}}const XO=JO;var q_="@firebase/auth",$_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t8(t){yu(new fl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;yt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F3(t)},c=new AR(r,i,s,l);return DR(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yu(new fl("auth-internal",e=>{const n=ku(e.getProvider("auth").getImmediate());return(r=>new ZO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),no(q_,$_,e8(t)),no(q_,$_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=5*60,r8=p3("authIdTokenMaxAge")||n8;let H_=null;const i8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r8)return;const i=n==null?void 0:n.token;H_!==i&&(H_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s8(t=ly()){const e=Om(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MR(t,{popupRedirectResolver:XO,persistence:[uO,JR,G3]}),r=p3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=i8(s.toString());KR(n,o,()=>o(n.currentUser)),GR(n,a=>o(a))}}const i=h3("auth");return i&&jR(n,`http://${i}`),n}function o8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",o8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t8("Browser");var a8="firebase",l8="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(a8,l8,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uu,tA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,x){function k(){}k.prototype=x.prototype,N.D=x.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(F,L,T){for(var O=Array(arguments.length-2),X=2;X<arguments.length;X++)O[X-2]=arguments[X];return x.prototype[L].apply(F,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,x,k){k||(k=0);var F=Array(16);if(typeof x=="string")for(var L=0;16>L;++L)F[L]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(L=0;16>L;++L)F[L]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=N.g[0],k=N.g[1],L=N.g[2];var T=N.g[3],O=x+(T^k&(L^T))+F[0]+3614090360&4294967295;x=k+(O<<7&4294967295|O>>>25),O=T+(L^x&(k^L))+F[1]+3905402710&4294967295,T=x+(O<<12&4294967295|O>>>20),O=L+(k^T&(x^k))+F[2]+606105819&4294967295,L=T+(O<<17&4294967295|O>>>15),O=k+(x^L&(T^x))+F[3]+3250441966&4294967295,k=L+(O<<22&4294967295|O>>>10),O=x+(T^k&(L^T))+F[4]+4118548399&4294967295,x=k+(O<<7&4294967295|O>>>25),O=T+(L^x&(k^L))+F[5]+1200080426&4294967295,T=x+(O<<12&4294967295|O>>>20),O=L+(k^T&(x^k))+F[6]+2821735955&4294967295,L=T+(O<<17&4294967295|O>>>15),O=k+(x^L&(T^x))+F[7]+4249261313&4294967295,k=L+(O<<22&4294967295|O>>>10),O=x+(T^k&(L^T))+F[8]+1770035416&4294967295,x=k+(O<<7&4294967295|O>>>25),O=T+(L^x&(k^L))+F[9]+2336552879&4294967295,T=x+(O<<12&4294967295|O>>>20),O=L+(k^T&(x^k))+F[10]+4294925233&4294967295,L=T+(O<<17&4294967295|O>>>15),O=k+(x^L&(T^x))+F[11]+2304563134&4294967295,k=L+(O<<22&4294967295|O>>>10),O=x+(T^k&(L^T))+F[12]+1804603682&4294967295,x=k+(O<<7&4294967295|O>>>25),O=T+(L^x&(k^L))+F[13]+4254626195&4294967295,T=x+(O<<12&4294967295|O>>>20),O=L+(k^T&(x^k))+F[14]+2792965006&4294967295,L=T+(O<<17&4294967295|O>>>15),O=k+(x^L&(T^x))+F[15]+1236535329&4294967295,k=L+(O<<22&4294967295|O>>>10),O=x+(L^T&(k^L))+F[1]+4129170786&4294967295,x=k+(O<<5&4294967295|O>>>27),O=T+(k^L&(x^k))+F[6]+3225465664&4294967295,T=x+(O<<9&4294967295|O>>>23),O=L+(x^k&(T^x))+F[11]+643717713&4294967295,L=T+(O<<14&4294967295|O>>>18),O=k+(T^x&(L^T))+F[0]+3921069994&4294967295,k=L+(O<<20&4294967295|O>>>12),O=x+(L^T&(k^L))+F[5]+3593408605&4294967295,x=k+(O<<5&4294967295|O>>>27),O=T+(k^L&(x^k))+F[10]+38016083&4294967295,T=x+(O<<9&4294967295|O>>>23),O=L+(x^k&(T^x))+F[15]+3634488961&4294967295,L=T+(O<<14&4294967295|O>>>18),O=k+(T^x&(L^T))+F[4]+3889429448&4294967295,k=L+(O<<20&4294967295|O>>>12),O=x+(L^T&(k^L))+F[9]+568446438&4294967295,x=k+(O<<5&4294967295|O>>>27),O=T+(k^L&(x^k))+F[14]+3275163606&4294967295,T=x+(O<<9&4294967295|O>>>23),O=L+(x^k&(T^x))+F[3]+4107603335&4294967295,L=T+(O<<14&4294967295|O>>>18),O=k+(T^x&(L^T))+F[8]+1163531501&4294967295,k=L+(O<<20&4294967295|O>>>12),O=x+(L^T&(k^L))+F[13]+2850285829&4294967295,x=k+(O<<5&4294967295|O>>>27),O=T+(k^L&(x^k))+F[2]+4243563512&4294967295,T=x+(O<<9&4294967295|O>>>23),O=L+(x^k&(T^x))+F[7]+1735328473&4294967295,L=T+(O<<14&4294967295|O>>>18),O=k+(T^x&(L^T))+F[12]+2368359562&4294967295,k=L+(O<<20&4294967295|O>>>12),O=x+(k^L^T)+F[5]+4294588738&4294967295,x=k+(O<<4&4294967295|O>>>28),O=T+(x^k^L)+F[8]+2272392833&4294967295,T=x+(O<<11&4294967295|O>>>21),O=L+(T^x^k)+F[11]+1839030562&4294967295,L=T+(O<<16&4294967295|O>>>16),O=k+(L^T^x)+F[14]+4259657740&4294967295,k=L+(O<<23&4294967295|O>>>9),O=x+(k^L^T)+F[1]+2763975236&4294967295,x=k+(O<<4&4294967295|O>>>28),O=T+(x^k^L)+F[4]+1272893353&4294967295,T=x+(O<<11&4294967295|O>>>21),O=L+(T^x^k)+F[7]+4139469664&4294967295,L=T+(O<<16&4294967295|O>>>16),O=k+(L^T^x)+F[10]+3200236656&4294967295,k=L+(O<<23&4294967295|O>>>9),O=x+(k^L^T)+F[13]+681279174&4294967295,x=k+(O<<4&4294967295|O>>>28),O=T+(x^k^L)+F[0]+3936430074&4294967295,T=x+(O<<11&4294967295|O>>>21),O=L+(T^x^k)+F[3]+3572445317&4294967295,L=T+(O<<16&4294967295|O>>>16),O=k+(L^T^x)+F[6]+76029189&4294967295,k=L+(O<<23&4294967295|O>>>9),O=x+(k^L^T)+F[9]+3654602809&4294967295,x=k+(O<<4&4294967295|O>>>28),O=T+(x^k^L)+F[12]+3873151461&4294967295,T=x+(O<<11&4294967295|O>>>21),O=L+(T^x^k)+F[15]+530742520&4294967295,L=T+(O<<16&4294967295|O>>>16),O=k+(L^T^x)+F[2]+3299628645&4294967295,k=L+(O<<23&4294967295|O>>>9),O=x+(L^(k|~T))+F[0]+4096336452&4294967295,x=k+(O<<6&4294967295|O>>>26),O=T+(k^(x|~L))+F[7]+1126891415&4294967295,T=x+(O<<10&4294967295|O>>>22),O=L+(x^(T|~k))+F[14]+2878612391&4294967295,L=T+(O<<15&4294967295|O>>>17),O=k+(T^(L|~x))+F[5]+4237533241&4294967295,k=L+(O<<21&4294967295|O>>>11),O=x+(L^(k|~T))+F[12]+1700485571&4294967295,x=k+(O<<6&4294967295|O>>>26),O=T+(k^(x|~L))+F[3]+2399980690&4294967295,T=x+(O<<10&4294967295|O>>>22),O=L+(x^(T|~k))+F[10]+4293915773&4294967295,L=T+(O<<15&4294967295|O>>>17),O=k+(T^(L|~x))+F[1]+2240044497&4294967295,k=L+(O<<21&4294967295|O>>>11),O=x+(L^(k|~T))+F[8]+1873313359&4294967295,x=k+(O<<6&4294967295|O>>>26),O=T+(k^(x|~L))+F[15]+4264355552&4294967295,T=x+(O<<10&4294967295|O>>>22),O=L+(x^(T|~k))+F[6]+2734768916&4294967295,L=T+(O<<15&4294967295|O>>>17),O=k+(T^(L|~x))+F[13]+1309151649&4294967295,k=L+(O<<21&4294967295|O>>>11),O=x+(L^(k|~T))+F[4]+4149444226&4294967295,x=k+(O<<6&4294967295|O>>>26),O=T+(k^(x|~L))+F[11]+3174756917&4294967295,T=x+(O<<10&4294967295|O>>>22),O=L+(x^(T|~k))+F[2]+718787259&4294967295,L=T+(O<<15&4294967295|O>>>17),O=k+(T^(L|~x))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+T&4294967295}r.prototype.u=function(N,x){x===void 0&&(x=N.length);for(var k=x-this.blockSize,F=this.B,L=this.h,T=0;T<x;){if(L==0)for(;T<=k;)i(this,N,T),T+=this.blockSize;if(typeof N=="string"){for(;T<x;)if(F[L++]=N.charCodeAt(T++),L==this.blockSize){i(this,F),L=0;break}}else for(;T<x;)if(F[L++]=N[T++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=x},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;var k=8*this.o;for(x=N.length-8;x<N.length;++x)N[x]=k&255,k/=256;for(this.u(N),N=Array(16),x=k=0;4>x;++x)for(var F=0;32>F;F+=8)N[k++]=this.g[x]>>>F&255;return N};function s(N,x){var k=a;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=x(N)}function o(N,x){this.h=x;for(var k=[],F=!0,L=N.length-1;0<=L;L--){var T=N[L]|0;F&&T==x||(k[L]=T,F=!1)}this.g=k}var a={};function l(N){return-128<=N&&128>N?s(N,function(x){return new o([x|0],0>x?-1:0)}):new o([N|0],0>N?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return I(c(-N));for(var x=[],k=1,F=0;N>=k;F++)x[F]=N/k|0,k*=4294967296;return new o(x,0)}function d(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return I(d(N.substring(1),x));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(x,8)),F=p,L=0;L<N.length;L+=8){var T=Math.min(8,N.length-L),O=parseInt(N.substring(L,L+T),x);8>T?(T=c(Math.pow(x,T)),F=F.j(T).add(c(O))):(F=F.j(k),F=F.add(c(O)))}return F}var p=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-I(this).m();for(var N=0,x=1,k=0;k<this.g.length;k++){var F=this.i(k);N+=(0<=F?F:4294967296+F)*x,x*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(S(this))return"-"+I(this).toString(N);for(var x=c(Math.pow(N,6)),k=this,F="";;){var L=B(k,x).g;k=_(k,L.j(x));var T=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=L,E(k))return T+F;for(;6>T.length;)T="0"+T;F=T+F}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(var x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function S(N){return N.h==-1}t.l=function(N){return N=_(this,N),S(N)?-1:E(N)?0:1};function I(N){for(var x=N.g.length,k=[],F=0;F<x;F++)k[F]=~N.g[F];return new o(k,~N.h).add(m)}t.abs=function(){return S(this)?I(this):this},t.add=function(N){for(var x=Math.max(this.g.length,N.g.length),k=[],F=0,L=0;L<=x;L++){var T=F+(this.i(L)&65535)+(N.i(L)&65535),O=(T>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);F=O>>>16,T&=65535,O&=65535,k[L]=O<<16|T}return new o(k,k[k.length-1]&-2147483648?-1:0)};function _(N,x){return N.add(I(x))}t.j=function(N){if(E(this)||E(N))return p;if(S(this))return S(N)?I(this).j(I(N)):I(I(this).j(N));if(S(N))return I(this.j(I(N)));if(0>this.l(g)&&0>N.l(g))return c(this.m()*N.m());for(var x=this.g.length+N.g.length,k=[],F=0;F<2*x;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<N.g.length;L++){var T=this.i(F)>>>16,O=this.i(F)&65535,X=N.i(L)>>>16,fe=N.i(L)&65535;k[2*F+2*L]+=O*fe,b(k,2*F+2*L),k[2*F+2*L+1]+=T*fe,b(k,2*F+2*L+1),k[2*F+2*L+1]+=O*X,b(k,2*F+2*L+1),k[2*F+2*L+2]+=T*X,b(k,2*F+2*L+2)}for(F=0;F<x;F++)k[F]=k[2*F+1]<<16|k[2*F];for(F=x;F<2*x;F++)k[F]=0;return new o(k,0)};function b(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function R(N,x){this.g=N,this.h=x}function B(N,x){if(E(x))throw Error("division by zero");if(E(N))return new R(p,p);if(S(N))return x=B(I(N),x),new R(I(x.g),I(x.h));if(S(x))return x=B(N,I(x)),new R(I(x.g),x.h);if(30<N.g.length){if(S(N)||S(x))throw Error("slowDivide_ only works with positive integers.");for(var k=m,F=x;0>=F.l(N);)k=z(k),F=z(F);var L=K(k,1),T=K(F,1);for(F=K(F,2),k=K(k,2);!E(F);){var O=T.add(F);0>=O.l(N)&&(L=L.add(k),T=O),F=K(F,1),k=K(k,1)}return x=_(N,L.j(x)),new R(L,x)}for(L=p;0<=N.l(x);){for(k=Math.max(1,Math.floor(N.m()/x.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),T=c(k),O=T.j(x);S(O)||0<O.l(N);)k-=F,T=c(k),O=T.j(x);E(T)&&(T=m),L=L.add(T),N=_(N,O)}return new R(L,N)}t.A=function(N){return B(this,N).h},t.and=function(N){for(var x=Math.max(this.g.length,N.g.length),k=[],F=0;F<x;F++)k[F]=this.i(F)&N.i(F);return new o(k,this.h&N.h)},t.or=function(N){for(var x=Math.max(this.g.length,N.g.length),k=[],F=0;F<x;F++)k[F]=this.i(F)|N.i(F);return new o(k,this.h|N.h)},t.xor=function(N){for(var x=Math.max(this.g.length,N.g.length),k=[],F=0;F<x;F++)k[F]=this.i(F)^N.i(F);return new o(k,this.h^N.h)};function z(N){for(var x=N.g.length+1,k=[],F=0;F<x;F++)k[F]=N.i(F)<<1|N.i(F-1)>>>31;return new o(k,N.h)}function K(N,x){var k=x>>5;x%=32;for(var F=N.g.length-k,L=[],T=0;T<F;T++)L[T]=0<x?N.i(T+k)>>>x|N.i(T+k+1)<<32-x:N.i(T+k);return new o(L,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,uu=o}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nA,ad,rA,Yp,N1,iA,sA,oA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,P){return h==Array.prototype||h==Object.prototype||(h[w]=P.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof yp=="object"&&yp];for(var w=0;w<h.length;++w){var P=h[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var P=r;h=h.split(".");for(var q=0;q<h.length-1;q++){var ce=h[q];if(!(ce in P))break e;P=P[ce]}h=h[h.length-1],q=P[h],w=w(q),w!=q&&w!=null&&e(P,h,{configurable:!0,writable:!0,value:w})}}function s(h,w){h instanceof String&&(h+="");var P=0,q=!1,ce={next:function(){if(!q&&P<h.length){var be=P++;return{value:w(be,h[be]),done:!1}}return q=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}i("Array.prototype.values",function(h){return h||function(){return s(this,function(w,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function c(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function d(h,w,P){return h.call.apply(h.bind,arguments)}function p(h,w,P){if(!h)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,q),h.apply(w,ce)}}return function(){return h.apply(w,arguments)}}function m(h,w,P){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function g(h,w){var P=Array.prototype.slice.call(arguments,1);return function(){var q=P.slice();return q.push.apply(q,arguments),h.apply(this,q)}}function E(h,w){function P(){}P.prototype=w.prototype,h.aa=w.prototype,h.prototype=new P,h.prototype.constructor=h,h.Qb=function(q,ce,be){for(var De=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)De[_t-2]=arguments[_t];return w.prototype[ce].apply(q,De)}}function S(h){const w=h.length;if(0<w){const P=Array(w);for(let q=0;q<w;q++)P[q]=h[q];return P}return[]}function I(h,w){for(let P=1;P<arguments.length;P++){const q=arguments[P];if(l(q)){const ce=h.length||0,be=q.length||0;h.length=ce+be;for(let De=0;De<be;De++)h[ce+De]=q[De]}else h.push(q)}}class _{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(h){return/^[\s\xa0]*$/.test(h)}function R(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function B(h){return B[" "](h),h}B[" "]=function(){};var z=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function K(h,w,P){for(const q in h)w.call(P,h[q],q,h)}function N(h,w){for(const P in h)w.call(void 0,h[P],P,h)}function x(h){const w={};for(const P in h)w[P]=h[P];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(h,w){let P,q;for(let ce=1;ce<arguments.length;ce++){q=arguments[ce];for(P in q)h[P]=q[P];for(let be=0;be<k.length;be++)P=k[be],Object.prototype.hasOwnProperty.call(q,P)&&(h[P]=q[P])}}function L(h){var w=1;h=h.split(":");const P=[];for(;0<w&&h.length;)P.push(h.shift()),w--;return h.length&&P.push(h.join(":")),P}function T(h){a.setTimeout(()=>{throw h},0)}function O(){var h=ie;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class X{constructor(){this.h=this.g=null}add(w,P){const q=fe.get();q.set(w,P),this.h?this.h.next=q:this.g=q,this.h=q}}var fe=new _(()=>new ge,h=>h.reset());class ge{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ee=!1,ie=new X,ae=()=>{const h=a.Promise.resolve(void 0);ve=()=>{h.then(Ie)}};var Ie=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(P){T(P)}var w=fe;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}ee=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};a.addEventListener("test",P,w),a.removeEventListener("test",P,w)}catch{}return h}();function G(h,w){if(H.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var P=this.type=h.type,q=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(z){e:{try{B(w.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(w=null)}}else P=="mouseover"?w=h.fromElement:P=="mouseout"&&(w=h.toElement);this.relatedTarget=w,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&G.aa.h.call(this)}}E(G,H);var ne={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),he=0;function me(h,w,P,q,ce){this.listener=h,this.proxy=null,this.src=w,this.type=P,this.capture=!!q,this.ha=ce,this.key=++he,this.da=this.fa=!1}function Ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h){this.src=h,this.g={},this.h=0}Ce.prototype.add=function(h,w,P,q,ce){var be=h.toString();h=this.g[be],h||(h=this.g[be]=[],this.h++);var De=Ve(h,w,q,ce);return-1<De?(w=h[De],P||(w.fa=!1)):(w=new me(w,this.src,be,!!q,ce),w.fa=P,h.push(w)),w};function Be(h,w){var P=w.type;if(P in h.g){var q=h.g[P],ce=Array.prototype.indexOf.call(q,w,void 0),be;(be=0<=ce)&&Array.prototype.splice.call(q,ce,1),be&&(Ee(w),h.g[P].length==0&&(delete h.g[P],h.h--))}}function Ve(h,w,P,q){for(var ce=0;ce<h.length;++ce){var be=h[ce];if(!be.da&&be.listener==w&&be.capture==!!P&&be.ha==q)return ce}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),_e={};function te(h,w,P,q,ce){if(Array.isArray(w)){for(var be=0;be<w.length;be++)te(h,w[be],P,q,ce);return null}return P=mt(P),h&&h[ue]?h.K(w,P,c(q)?!!q.capture:!!q,ce):dt(h,w,P,!1,q,ce)}function dt(h,w,P,q,ce,be){if(!w)throw Error("Invalid event type");var De=c(ce)?!!ce.capture:!!ce,_t=et(h);if(_t||(h[nt]=_t=new Ce(h)),P=_t.add(w,P,q,De,be),P.proxy)return P;if(q=Ze(),P.proxy=q,q.src=h,q.listener=P,h.addEventListener)J||(ce=De),ce===void 0&&(ce=!1),h.addEventListener(w.toString(),q,ce);else if(h.attachEvent)h.attachEvent(ze(w.toString()),q);else if(h.addListener&&h.removeListener)h.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ze(){function h(P){return w.call(h.src,h.listener,P)}const w=qe;return h}function je(h,w,P,q,ce){if(Array.isArray(w))for(var be=0;be<w.length;be++)je(h,w[be],P,q,ce);else q=c(q)?!!q.capture:!!q,P=mt(P),h&&h[ue]?(h=h.i,w=String(w).toString(),w in h.g&&(be=h.g[w],P=Ve(be,P,q,ce),-1<P&&(Ee(be[P]),Array.prototype.splice.call(be,P,1),be.length==0&&(delete h.g[w],h.h--)))):h&&(h=et(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ve(w,P,q,ce)),(P=-1<h?w[h]:null)&&Ue(P))}function Ue(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ue])Be(w.i,h);else{var P=h.type,q=h.proxy;w.removeEventListener?w.removeEventListener(P,q,h.capture):w.detachEvent?w.detachEvent(ze(P),q):w.addListener&&w.removeListener&&w.removeListener(q),(P=et(w))?(Be(P,h),P.h==0&&(P.src=null,w[nt]=null)):Ee(h)}}}function ze(h){return h in _e?_e[h]:_e[h]="on"+h}function qe(h,w){if(h.da)h=!0;else{w=new G(w,this);var P=h.listener,q=h.ha||h.src;h.fa&&Ue(h),h=P.call(q,w)}return h}function et(h){return h=h[nt],h instanceof Ce?h:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function mt(h){return typeof h=="function"?h:(h[ht]||(h[ht]=function(w){return h.handleEvent(w)}),h[ht])}function rt(){M.call(this),this.i=new Ce(this),this.M=this,this.F=null}E(rt,M),rt.prototype[ue]=!0,rt.prototype.removeEventListener=function(h,w,P,q){je(this,h,w,P,q)};function at(h,w){var P,q=h.F;if(q)for(P=[];q;q=q.F)P.push(q);if(h=h.M,q=w.type||w,typeof w=="string")w=new H(w,h);else if(w instanceof H)w.target=w.target||h;else{var ce=w;w=new H(q,h),F(w,ce)}if(ce=!0,P)for(var be=P.length-1;0<=be;be--){var De=w.g=P[be];ce=Rt(De,q,!0,w)&&ce}if(De=w.g=h,ce=Rt(De,q,!0,w)&&ce,ce=Rt(De,q,!1,w)&&ce,P)for(be=0;be<P.length;be++)De=w.g=P[be],ce=Rt(De,q,!1,w)&&ce}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var P=h.g[w],q=0;q<P.length;q++)Ee(P[q]);delete h.g[w],h.h--}}this.F=null},rt.prototype.K=function(h,w,P,q){return this.i.add(String(h),w,!1,P,q)},rt.prototype.L=function(h,w,P,q){return this.i.add(String(h),w,!0,P,q)};function Rt(h,w,P,q){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var ce=!0,be=0;be<w.length;++be){var De=w[be];if(De&&!De.da&&De.capture==P){var _t=De.listener,Mt=De.ha||De.src;De.fa&&Be(h.i,De),ce=_t.call(Mt,q)!==!1&&ce}}return ce&&!q.defaultPrevented}function st(h,w,P){if(typeof h=="function")P&&(h=m(h,P));else if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(h,w||0)}function Lt(h){h.g=st(()=>{h.g=null,h.i&&(h.i=!1,Lt(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class $e extends M{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(h){M.call(this),this.h=h,this.g={}}E(pn,M);var xt=[];function vr(h){K(h.g,function(w,P){this.g.hasOwnProperty(P)&&Ue(w)},h),h.g={}}pn.prototype.N=function(){pn.aa.N.call(this),vr(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=a.JSON.stringify,Jt=a.JSON.parse,yr=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Tt(){}Tt.prototype.h=null;function Gr(h){return h.h||(h.h=h.i())}function sn(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){H.call(this,"d")}E(Pr,H);function Ht(){H.call(this,"c")}E(Ht,H);var ot={},It=null;function Kr(){return It=It||new rt}ot.La="serverreachability";function gn(h){H.call(this,ot.La,h)}E(gn,H);function Zn(h){const w=Kr();at(w,new gn(w))}ot.STAT_EVENT="statevent";function Qr(h,w){H.call(this,ot.STAT_EVENT,h),this.stat=w}E(Qr,H);function Ke(h){const w=Kr();at(w,new Qr(w,h))}ot.Ma="timingevent";function it(h,w){H.call(this,ot.Ma,h),this.size=w}E(it,H);function Tr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},w)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function On(h,w,P,q,ce,be){h.info(function(){if(h.g)if(be)for(var De="",_t=be.split("&"),Mt=0;Mt<_t.length;Mt++){var bt=_t[Mt].split("=");if(1<bt.length){var Qt=bt[0];bt=bt[1];var an=Qt.split("_");De=2<=an.length&&an[1]=="type"?De+(Qt+"="+bt+"&"):De+(Qt+"=redacted&")}}else De=null;else De=be;return"XMLHTTP REQ ("+q+") [attempt "+ce+"]: "+w+`
`+P+`
`+De})}function xn(h,w,P,q,ce,be,De){h.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ce+"]: "+w+`
`+P+`
`+be+" "+De})}function Gn(h,w,P,q){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+os(h,P)+(q?" "+q:"")})}function ta(h,w){h.info(function(){return"TIMEOUT: "+w})}Wn.prototype.info=function(){};function os(h,w){if(!h.g)return w;if(!w)return null;try{var P=JSON.parse(w);if(P){for(h=0;h<P.length;h++)if(Array.isArray(P[h])){var q=P[h];if(!(2>q.length)){var ce=q[1];if(Array.isArray(ce)&&!(1>ce.length)){var be=ce[0];if(be!="noop"&&be!="stop"&&be!="close")for(var De=1;De<ce.length;De++)ce[De]=""}}}}return Ot(P)}catch{return w}}var kr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Jr(){}E(Jr,Tt),Jr.prototype.g=function(){return new XMLHttpRequest},Jr.prototype.i=function(){return{}},Yr=new Jr;function Mn(h,w,P,q){this.j=h,this.i=w,this.l=P,this.R=q||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var Ns={},Rs={};function Os(h,w,P){h.L=1,h.v=_o(Xr(w)),h.m=P,h.P=!0,go(h,null)}function go(h,w){h.F=Date.now(),na(h),h.A=Xr(h.v);var P=h.A,q=h.R;Array.isArray(q)||(q=[String(q)]),gt(P.i,"t",q),h.C=0,P=h.j.J,h.h=new Ai,h.g=D(h.j,P?w:null,!h.m),0<h.O&&(h.M=new $e(m(h.Y,h,h.g),h.O)),w=h.U,P=h.g,q=h.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(xt[0]=ce.toString()),ce=xt);for(var be=0;be<ce.length;be++){var De=te(P,ce[be],q||w.handleEvent,!1,w.h||w);if(!De)break;w.g[De.key]=De}w=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Zn(),On(h.i,h.u,h.A,h.l,h.R,h.m)}Mn.prototype.ca=function(h){h=h.target;const w=this.M;w&&er(h)==3?w.j():this.Y(h)},Mn.prototype.Y=function(h){try{if(h==this.g)e:{const an=er(this.g);var w=this.g.Ba();const ps=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||an!=4||w==7||(w==8||0>=ps?Zn(3):Zn(2)),Ms(this);var P=this.g.Z();this.X=P;t:if(mo(this)){var q=Gu(this.g);h="";var ce=q.length,be=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),Ds(this);var De="";break t}this.h.i=new a.TextDecoder}for(w=0;w<ce;w++)this.h.h=!0,h+=this.h.i.decode(q[w],{stream:!(be&&w==ce-1)});q.length=0,this.h.g+=h,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=P==200,xn(this.i,this.u,this.A,this.l,this.R,an,P),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,Mt=this.g;if((_t=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(_t)){var bt=_t;break t}}bt=null}if(P=bt)Gn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vo(this,P);else{this.o=!1,this.s=3,Ke(12),as(this),Ds(this);break e}}if(this.P){P=!0;let _r;for(;!this.J&&this.C<De.length;)if(_r=Fu(this,De),_r==Rs){an==4&&(this.s=4,Ke(14),P=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Ns){this.s=4,Ke(15),Gn(this.i,this.l,De,"[Invalid Chunk]"),P=!1;break}else Gn(this.i,this.l,_r,null),vo(this,_r);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||De.length!=0||this.h.h||(this.s=1,Ke(16),P=!1),this.o=this.o&&P,!P)Gn(this.i,this.l,De,"[Invalid Chunked Response]"),as(this),Ds(this);else if(0<De.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),ma(Qt),Qt.M=!0,Ke(11))}}else Gn(this.i,this.l,De,null),vo(this,De);an==4&&as(this),this.o&&!this.J&&(an==4?Us(this.j,this):(this.o=!1,na(this)))}else Bs(this.g),P==400&&0<De.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),as(this),Ds(this)}}}catch{}finally{}};function mo(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Fu(h,w){var P=h.C,q=w.indexOf(`
`,P);return q==-1?Rs:(P=Number(w.substring(P,q)),isNaN(P)?Ns:(q+=1,q+P>w.length?Rs:(w=w.slice(q,q+P),h.C=q+P,w)))}Mn.prototype.cancel=function(){this.J=!0,as(this)};function na(h){h.S=Date.now()+h.I,Bu(h,h.I)}function Bu(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Tr(m(h.ba,h),w)}function Ms(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Mn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ta(this.i,this.A),this.L!=2&&(Zn(),Ke(17)),as(this),this.s=2,Ds(this)):Bu(this,this.S-h)};function Ds(h){h.j.G==0||h.J||Us(h.j,h)}function as(h){Ms(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,vr(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function vo(h,w){try{var P=h.j;if(P.G!=0&&(P.g==h||xl(P.h,h))){if(!h.K&&xl(P.h,h)&&P.G==3){try{var q=P.Da.g.parse(w)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ce=q;if(ce[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<h.F)fs(P),da(P);else break e;Ao(P),Ke(18)}}else P.za=ce[1],0<P.za-P.T&&37500>ce[2]&&P.F&&P.v==0&&!P.C&&(P.C=Tr(m(P.Za,P),6e3));if(1>=yo(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Nr(P,11)}else if((h.K||P.g==h)&&fs(P),!b(w))for(ce=P.Da.g.parse(w),w=0;w<ce.length;w++){let bt=ce[w];if(P.T=bt[0],bt=bt[1],P.G==2)if(bt[0]=="c"){P.K=bt[1],P.ia=bt[2];const Qt=bt[3];Qt!=null&&(P.la=Qt,P.j.info("VER="+P.la));const an=bt[4];an!=null&&(P.Aa=an,P.j.info("SVER="+P.Aa));const ps=bt[5];ps!=null&&typeof ps=="number"&&0<ps&&(q=1.5*ps,P.L=q,P.j.info("backChannelRequestTimeoutMs_="+q)),q=P;const _r=h.g;if(_r){const zs=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var be=q.h;be.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(mn(be,be.h),be.h=null))}if(q.D){const qs=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(q.ya=qs,Xt(q.I,q.D,qs))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-h.F,P.j.info("Handshake RTT: "+P.R+"ms")),q=P;var De=h;if(q.qa=v(q,q.J?q.ia:null,q.W),De.K){Il(q.h,De);var _t=De,Mt=q.L;Mt&&(_t.I=Mt),_t.B&&(Ms(_t),na(_t)),q.g=De}else ga(q);0<P.i.length&&fa(P)}else bt[0]!="stop"&&bt[0]!="close"||Nr(P,7);else P.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Nr(P,7):ds(P):bt[0]!="noop"&&P.l&&P.l.ta(bt),P.v=0)}}Zn(4)}catch{}}var Ah=class{constructor(h,w){this.g=h,this.map=w}};function Cl(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yo(h){return h.h?1:h.g?h.g.size:0}function xl(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function mn(h,w){h.g?h.g.add(w):h.h=w}function Il(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Cl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const P of h.g.values())w=w.concat(P.D);return w}return S(h.i)}function Uu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],P=h.length,q=0;q<P;q++)w.push(h[q]);return w}w=[],P=0;for(q in h)w[P++]=h[q];return w}function Tl(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var P=0;P<h;P++)w.push(P);return w}w=[],P=0;for(const q in h)w[P++]=q;return w}}}function zu(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var P=Tl(h),q=Uu(h),ce=q.length,be=0;be<ce;be++)w.call(void 0,q[be],P&&P[be],h)}var li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(h,w){if(h){h=h.split("&");for(var P=0;P<h.length;P++){var q=h[P].indexOf("="),ce=null;if(0<=q){var be=h[P].substring(0,q);ce=h[P].substring(q+1)}else be=h[P];w(be,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function In(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof In){this.h=h.h,wo(this,h.j),this.o=h.o,this.g=h.g,ia(this,h.s),this.l=h.l;var w=h.i,P=new js;P.i=w.i,w.g&&(P.g=new Map(w.g),P.h=w.h),kl(this,P),this.m=h.m}else h&&(w=String(h).match(li))?(this.h=!1,wo(this,w[1]||"",!0),this.o=bo(w[2]||""),this.g=bo(w[3]||"",!0),ia(this,w[4]),this.l=bo(w[5]||"",!0),kl(this,w[6]||"",!0),this.m=bo(w[7]||"")):(this.h=!1,this.i=new js(null,this.h))}In.prototype.toString=function(){var h=[],w=this.j;w&&h.push(ls(w,qu,!0),":");var P=this.g;return(P||w=="file")&&(h.push("//"),(w=this.o)&&h.push(ls(w,qu,!0),"@"),h.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&h.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(ls(P,P.charAt(0)=="/"?us:xh,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",ls(P,oa)),h.join("")};function Xr(h){return new In(h)}function wo(h,w,P){h.j=P?bo(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function ia(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function kl(h,w,P){w instanceof js?(h.i=w,Ih(h.i,h.h)):(P||(w=ls(w,sa)),h.i=new js(w,h.h))}function Xt(h,w,P){h.i.set(w,P)}function _o(h){return Xt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function bo(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ls(h,w,P){return typeof h=="string"?(h=encodeURI(h).replace(w,Ch),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ch(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qu=/[#\/\?@]/g,xh=/[#\?:]/g,us=/[#\?]/g,sa=/[#\?@]/g,oa=/#/g;function js(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function vn(h){h.g||(h.g=new Map,h.h=0,h.i&&ra(h.i,function(w,P){h.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}t=js.prototype,t.add=function(h,w){vn(this),this.i=null,h=Fs(this,h);var P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(w),this.h+=1,this};function $u(h,w){vn(h),w=Fs(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Nl(h,w){return vn(h),w=Fs(h,w),h.g.has(w)}t.forEach=function(h,w){vn(this),this.g.forEach(function(P,q){P.forEach(function(ce){h.call(w,ce,q,this)},this)},this)},t.na=function(){vn(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),P=[];for(let q=0;q<w.length;q++){const ce=h[q];for(let be=0;be<ce.length;be++)P.push(w[q])}return P},t.V=function(h){vn(this);let w=[];if(typeof h=="string")Nl(this,h)&&(w=w.concat(this.g.get(Fs(this,h))));else{h=Array.from(this.g.values());for(let P=0;P<h.length;P++)w=w.concat(h[P])}return w},t.set=function(h,w){return vn(this),this.i=null,h=Fs(this,h),Nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function gt(h,w,P){$u(h,w),0<P.length&&(h.i=null,h.g.set(Fs(h,w),S(P)),h.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var P=0;P<w.length;P++){var q=w[P];const be=encodeURIComponent(String(q)),De=this.V(q);for(q=0;q<De.length;q++){var ce=be;De[q]!==""&&(ce+="="+encodeURIComponent(String(De[q]))),h.push(ce)}}return this.i=h.join("&")};function Fs(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Ih(h,w){w&&!h.j&&(vn(h),h.i=null,h.g.forEach(function(P,q){var ce=q.toLowerCase();q!=ce&&($u(this,q),gt(this,ce,P))},h)),h.j=w}function Hi(h,w){const P=new Wn;if(a.Image){const q=new Image;q.onload=g(Ci,P,"TestLoadImage: loaded",!0,w,q),q.onerror=g(Ci,P,"TestLoadImage: error",!1,w,q),q.onabort=g(Ci,P,"TestLoadImage: abort",!1,w,q),q.ontimeout=g(Ci,P,"TestLoadImage: timeout",!1,w,q),a.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=h}else w(!1)}function Hu(h,w){const P=new Wn,q=new AbortController,ce=setTimeout(()=>{q.abort(),Ci(P,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:q.signal}).then(be=>{clearTimeout(ce),be.ok?Ci(P,"TestPingServer: ok",!0,w):Ci(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ce),Ci(P,"TestPingServer: error",!1,w)})}function Ci(h,w,P,q,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),q(P)}catch{}}function aa(){this.g=new yr}function Rl(h,w,P){const q=P||"";try{zu(h,function(ce,be){let De=ce;c(ce)&&(De=Ot(ce)),w.push(q+be+"="+encodeURIComponent(De))})}catch(ce){throw w.push(q+"type="+encodeURIComponent("_badmap")),ce}}function la(h){this.l=h.Ub||null,this.j=h.eb||!1}E(la,Tt),la.prototype.g=function(){return new ua(this.l,this.j)},la.prototype.i=function(h){return function(){return h}}({});function ua(h,w){rt.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ua,rt),t=ua.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,xi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?cs(this):xi(this),this.readyState==3&&Wu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,cs(this))},t.Qa=function(h){this.g&&(this.response=h,cs(this))},t.ga=function(){this.g&&cs(this)};function cs(h){h.readyState=4,h.l=null,h.j=null,h.v=null,xi(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=w.next();return h.join(`\r
`)};function xi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hs(h){let w="";return K(h,function(P,q){w+=q,w+=":",w+=P,w+=`\r
`}),w}function Ol(h,w,P){e:{for(q in P){var q=!1;break e}q=!0}q||(P=hs(P),typeof h=="string"?P!=null&&encodeURIComponent(String(P)):Xt(h,w,P))}function Kt(h){rt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Kt,rt);var Ml=/^https?$/i,ca=["POST","PUT"];t=Kt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,P,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?Gr(this.o):Gr(Yr),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(be){Dl(this,be);return}if(h=P||"",P=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ce in q)P.set(ce,q[ce]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const be of q.keys())P.set(be,q.get(be));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(P.keys()).find(be=>be.toLowerCase()=="content-type"),ce=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ca,w,void 0))||q||ce||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,De]of P)this.g.setRequestHeader(be,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ii(this),this.u=!0,this.g.send(h),this.u=!1}catch(be){Dl(this,be)}};function Dl(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,jl(h),Eo(h)}function jl(h){h.A||(h.A=!0,at(h,"complete"),at(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,at(this,"complete"),at(this,"abort"),Eo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eo(this,!0)),Kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},t.bb=function(){Fl(this)};function Fl(h){if(h.h&&typeof o<"u"&&(!h.v[1]||er(h)!=4||h.Z()!=2)){if(h.u&&er(h)==4)st(h.Ea,0,h);else if(at(h,"readystatechange"),er(h)==4){h.h=!1;try{const De=h.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var q;if(q=De===0){var ce=String(h.D).match(li)[1]||null;!ce&&a.self&&a.self.location&&(ce=a.self.location.protocol.slice(0,-1)),q=!Ml.test(ce?ce.toLowerCase():"")}P=q}if(P)at(h,"complete"),at(h,"success");else{h.m=6;try{var be=2<er(h)?h.g.statusText:""}catch{be=""}h.l=be+" ["+h.Z()+"]",jl(h)}}finally{Eo(h)}}}}function Eo(h,w){if(h.g){Ii(h);const P=h.g,q=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||at(h,"ready");try{P.onreadystatechange=q}catch{}}}function Ii(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function er(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Jt(w)}};function Gu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(h){const w={};h=(h.g&&2<=er(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<h.length;q++){if(b(h[q]))continue;var P=L(h[q]);const ce=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const be=w[ce]||[];w[ce]=be,be.push(P)}N(w,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(h,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||w}function ha(h){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,h),this.cb=wr("retryDelaySeedMs",1e4,h),this.Wa=wr("forwardChannelMaxRetries",2,h),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Cl(h&&h.concurrentRequestLimit),this.Da=new aa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ha.prototype,t.la=8,t.G=1,t.connect=function(h,w,P,q){Ke(0),this.W=h,this.H=w||{},P&&q!==void 0&&(this.H.OSID=P,this.H.OAID=q),this.F=this.X,this.I=v(this,null,this.W),fa(this)};function ds(h){if(So(h),h.G==3){var w=h.U++,P=Xr(h.I);if(Xt(P,"SID",h.K),Xt(P,"RID",w),Xt(P,"TYPE","terminate"),Vs(h,P),w=new Mn(h,h.j,w),w.L=2,w.v=_o(Xr(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=w.v,P=!0),P||(w.g=D(w.j,null),w.g.ea(w.v)),w.F=Date.now(),na(w)}ya(h)}function da(h){h.g&&(ma(h),h.g.cancel(),h.g=null)}function So(h){da(h),h.u&&(a.clearTimeout(h.u),h.u=null),fs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function fa(h){if(!Vu(h.h)&&!h.s){h.s=!0;var w=h.Ga;ve||ae(),ee||(ve(),ee=!0),ie.add(w,h),h.B=0}}function Bl(h,w){return yo(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Tr(m(h.Ga,h,w),va(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ce=new Mn(this,this.j,h);let be=this.o;if(this.S&&(be?(be=x(be),F(be,this.S)):be=this.S),this.m!==null||this.O||(ce.H=be,be=null),this.P)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var q=this.i[P];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(w+=q,4096<w){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=Lo(this,ce,w),P=Xr(this.I),Xt(P,"RID",h),Xt(P,"CVER",22),this.D&&Xt(P,"X-HTTP-Session-Id",this.D),Vs(this,P),be&&(this.O?w="headers="+encodeURIComponent(String(hs(be)))+"&"+w:this.m&&Ol(P,this.m,be)),mn(this.h,ce),this.Ua&&Xt(P,"TYPE","init"),this.P?(Xt(P,"$req",w),Xt(P,"SID","null"),ce.T=!0,Os(ce,P,null)):Os(ce,P,w),this.G=2}}else this.G==3&&(h?pa(this,h):this.i.length==0||Vu(this.h)||pa(this))};function pa(h,w){var P;w?P=w.l:P=h.U++;const q=Xr(h.I);Xt(q,"SID",h.K),Xt(q,"RID",P),Xt(q,"AID",h.T),Vs(h,q),h.m&&h.o&&Ol(q,h.m,h.o),P=new Mn(h,h.j,P,h.B+1),h.m===null&&(P.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Lo(h,P,1e3),P.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),mn(h.h,P),Os(P,q,w)}function Vs(h,w){h.H&&K(h.H,function(P,q){Xt(w,q,P)}),h.l&&zu({},function(P,q){Xt(w,q,P)})}function Lo(h,w,P){P=Math.min(h.i.length,P);var q=h.l?m(h.l.Na,h.l,h):null;e:{var ce=h.i;let be=-1;for(;;){const De=["count="+P];be==-1?0<P?(be=ce[0].g,De.push("ofs="+be)):be=0:De.push("ofs="+be);let _t=!0;for(let Mt=0;Mt<P;Mt++){let bt=ce[Mt].g;const Qt=ce[Mt].map;if(bt-=be,0>bt)be=Math.max(0,ce[Mt].g-100),_t=!1;else try{Rl(Qt,De,"req"+bt+"_")}catch{q&&q(Qt)}}if(_t){q=De.join("&");break e}}}return h=h.i.splice(0,P),w.D=h,q}function ga(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;ve||ae(),ee||(ve(),ee=!0),ie.add(w,h),h.v=0}}function Ao(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Tr(m(h.Fa,h),va(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Tr(m(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),da(this),Ku(this))};function ma(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Ku(h){h.g=new Mn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Xr(h.qa);Xt(w,"RID","rpc"),Xt(w,"SID",h.K),Xt(w,"AID",h.T),Xt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xt(w,"TO",h.ja),Xt(w,"TYPE","xmlhttp"),Vs(h,w),h.m&&h.o&&Ol(w,h.m,h.o),h.L&&(h.g.I=h.L);var P=h.g;h=h.ia,P.L=1,P.v=_o(Xr(w)),P.m=null,P.P=!0,go(P,h)}t.Za=function(){this.C!=null&&(this.C=null,da(this),Ao(this),Ke(19))};function fs(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Us(h,w){var P=null;if(h.g==w){fs(h),ma(h),h.g=null;var q=2}else if(xl(h.h,w))P=w.D,Il(h.h,w),q=1;else return;if(h.G!=0){if(w.o)if(q==1){P=w.m?w.m.length:0,w=Date.now()-w.F;var ce=h.B;q=Kr(),at(q,new it(q,P)),fa(h)}else ga(h);else if(ce=w.s,ce==3||ce==0&&0<w.X||!(q==1&&Bl(h,w)||q==2&&Ao(h)))switch(P&&0<P.length&&(w=h.h,w.i=w.i.concat(P)),ce){case 1:Nr(h,5);break;case 4:Nr(h,10);break;case 3:Nr(h,6);break;default:Nr(h,2)}}}function va(h,w){let P=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(P*=2),P*w}function Nr(h,w){if(h.j.info("Error code "+w),w==2){var P=m(h.fb,h),q=h.Xa;const ce=!q;q=new In(q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wo(q,"https"),_o(q),ce?Hi(q.toString(),P):Hu(q.toString(),P)}else Ke(2);h.G=0,h.l&&h.l.sa(w),ya(h),So(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function ya(h){if(h.G=0,h.ka=[],h.l){const w=Pl(h.h);(w.length!=0||h.i.length!=0)&&(I(h.ka,w),I(h.ka,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.ra()}}function v(h,w,P){var q=P instanceof In?Xr(P):new In(P);if(q.g!="")w&&(q.g=w+"."+q.g),ia(q,q.s);else{var ce=a.location;q=ce.protocol,w=w?w+"."+ce.hostname:ce.hostname,ce=+ce.port;var be=new In(null);q&&wo(be,q),w&&(be.g=w),ce&&ia(be,ce),P&&(be.l=P),q=be}return P=h.D,w=h.ya,P&&w&&Xt(q,P,w),Xt(q,"VER",h.la),Vs(h,q),q}function D(h,w,P){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new Kt(new la({eb:P})):new Kt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z(){}t=Z.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function re(){}re.prototype.g=function(h,w){return new de(h,w)};function de(h,w){rt.call(this),this.g=new ha(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!b(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!b(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new We(this)}E(de,rt),de.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},de.prototype.close=function(){ds(this.g)},de.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.u&&(P={},P.__data__=Ot(h),h=P);w.i.push(new Ah(w.Ya++,h)),w.G==3&&fa(w)},de.prototype.N=function(){this.g.l=null,delete this.j,ds(this.g),delete this.g,de.aa.N.call(this)};function Ae(h){Pr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const P in w){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}E(Ae,Pr);function Me(){Ht.call(this),this.status=1}E(Me,Ht);function We(h){this.g=h}E(We,Z),We.prototype.ua=function(){at(this.g,"a")},We.prototype.ta=function(h){at(this.g,new Ae(h))},We.prototype.sa=function(h){at(this.g,new Me)},We.prototype.ra=function(){at(this.g,"b")},re.prototype.createWebChannel=re.prototype.g,de.prototype.send=de.prototype.o,de.prototype.open=de.prototype.m,de.prototype.close=de.prototype.close,oA=function(){return new re},sA=function(){return Kr()},iA=ot,N1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,Yp=kr,ai.COMPLETE="complete",rA=ai,sn.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",rt.prototype.listen=rt.prototype.K,ad=sn,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,nA=Kt}).apply(typeof yp<"u"?yp:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new oy("@firebase/firestore");function hc(){return bu.logLevel}function Ye(t,...e){if(bu.logLevel<=jt.DEBUG){const n=e.map(yy);bu.debug(`Firestore (${gh}): ${t}`,...n)}}function Jo(t,...e){if(bu.logLevel<=jt.ERROR){const n=e.map(yy);bu.error(`Firestore (${gh}): ${t}`,...n)}}function nh(t,...e){if(bu.logLevel<=jt.WARN){const n=e.map(yy);bu.warn(`Firestore (${gh}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t="Unexpected state"){const e=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: `+t;throw Jo(e),new Error(e)}function Yt(t,e){t||vt()}function St(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class c8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h8{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Yt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new qo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string"),new aA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string"),new Vr(e)}}class d8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class f8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new d8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Yt(this.o===void 0);const r=s=>{s.error!=null&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Yt(typeof n.token=="string"),this.R=n.token,new p8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=m8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Vt(t,e){return t<e?-1:t>e?1:0}function rh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Xe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new or(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new or(0,0))}static max(){return new wt(new or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r){n===void 0?n=0:n>e.length&&vt(),r===void 0?r=e.length-n:r>e.length-n&&vt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class wn extends Qd{construct(e,n,r){return new wn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xe(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wn(n)}static emptyPath(){return new wn([])}}const v8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Qd{construct(e,n,r){return new Ar(e,n,r)}static isValidIdentifier(e){return v8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ar(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Xe(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Xe(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Xe(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Xe(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ar(n)}static emptyPath(){return new Ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.path=e}static fromPath(e){return new lt(wn.fromString(e))}static fromName(e){return new lt(wn.fromString(e).popFirst(5))}static empty(){return new lt(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new wn(e.slice()))}}function y8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(r===1e9?new or(n+1,0):new or(n,r));return new pl(i,lt.empty(),e)}function w8(t){return new pl(t.readTime,t.key,-1)}class pl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pl(wt.min(),lt.empty(),-1)}static max(){return new pl(wt.max(),lt.empty(),-1)}}function _8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=lt.comparator(t.documentKey,e.documentKey),n!==0?n:Vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t){if(t.code!==Re.FAILED_PRECONDITION||t.message!==b8)throw t;Ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.reject(n)}static resolve(e){return new Ne((n,r)=>{n(e)})}static reject(e){return new Ne((n,r)=>{r(e)})}static waitFor(e){return new Ne((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ne.resolve(!1);for(const r of e)n=n.next(i=>i?Ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ne((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function S8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fm.oe=-1;function Bm(t){return t==null}function Bg(t){return t===0&&1/t==-1/0}function L8(t){return typeof t=="number"&&Number.isInteger(t)&&!Bg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=K_(e)),e=C8(t.get(n),e);return K_(e)}function C8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function K_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.comparator=e,this.root=n||Lr.EMPTY}insert(e,n){return new Cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wp(this.root,e,this.comparator,!0)}}class wp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lr.RED,this.left=i??Lr.EMPTY,this.right=s??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1;Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(e){return new Y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gr(this.comparator);return n.data=e,n}}class Y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.fields=e,e.sort(Ar.comparator)}static empty(){return new Mi([])}unionWith(e){let n=new gr(Ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cA("Invalid base64 string: "+s):s}}(e);return new Ir(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const x8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(t){if(Yt(!!t),typeof t=="string"){let e=0;const n=x8.exec(t);if(Yt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bn(t.seconds),nanos:Bn(t.nanos)}}function Bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ml(t){return typeof t=="string"?Ir.fromBase64String(t):Ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vm(t){const e=t.mapValue.fields.__previous_value__;return wy(e)?Vm(e):e}function Yd(t){const e=gl(t.mapValue.fields.__local_write_time__.timestampValue);return new or(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Jd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wy(t)?4:T8(t)?9007199254740991:P8(t)?10:11:vt()}function uo(t,e){if(t===e)return!0;const n=vl(t);if(n!==vl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yd(t).isEqual(Yd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gl(i.timestampValue),a=gl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ml(i.bytesValue).isEqual(ml(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Bn(i.geoPointValue.latitude)===Bn(s.geoPointValue.latitude)&&Bn(i.geoPointValue.longitude)===Bn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Bn(i.integerValue)===Bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Bn(i.doubleValue),a=Bn(s.doubleValue);return o===a?Bg(o)===Bg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return rh(t.arrayValue.values||[],e.arrayValue.values||[],uo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Q_(o)!==Q_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!uo(o[l],a[l])))return!1;return!0}(t,e);default:return vt()}}function Xd(t,e){return(t.values||[]).find(n=>uo(n,e))!==void 0}function ih(t,e){if(t===e)return 0;const n=vl(t),r=vl(e);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Bn(s.integerValue||s.doubleValue),l=Bn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return J_(t.timestampValue,e.timestampValue);case 4:return J_(Yd(t),Yd(e));case 5:return Vt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ml(s),l=ml(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Vt(a[c],l[c]);if(d!==0)return d}return Vt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Vt(Bn(s.latitude),Bn(o.latitude));return a!==0?a:Vt(Bn(s.longitude),Bn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return X_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const p=s.fields||{},m=o.fields||{},g=(a=p.value)===null||a===void 0?void 0:a.arrayValue,E=(l=m.value)===null||l===void 0?void 0:l.arrayValue,S=Vt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:X_(g,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_p.mapValue&&o===_p.mapValue)return 0;if(s===_p.mapValue)return 1;if(o===_p.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const m=Vt(l[p],d[p]);if(m!==0)return m;const g=ih(a[l[p]],c[d[p]]);if(g!==0)return g}return Vt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw vt()}}function J_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vt(t,e);const n=gl(t),r=gl(e),i=Vt(n.seconds,r.seconds);return i!==0?i:Vt(n.nanos,r.nanos)}function X_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ih(n[i],r[i]);if(s)return s}return Vt(n.length,r.length)}function sh(t){return R1(t)}function R1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ml(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return lt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=R1(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${R1(n.fields[o])}`;return i+"}"}(t.mapValue):vt()}function Jp(t){switch(vl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vm(t);return e?16+Jp(e):16;case 5:return 2*t.stringValue.length;case 6:return ml(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Jp(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ll(r.fields,(s,o)=>{i+=s.length+Jp(o)}),i}(t.mapValue);default:throw vt()}}function Z_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function O1(t){return!!t&&"integerValue"in t}function _y(t){return!!t&&"arrayValue"in t}function eb(t){return!!t&&"nullValue"in t}function tb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xp(t){return!!t&&"mapValue"in t}function P8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ll(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bd(n)}setAll(e){let n=Ar.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return uo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ll(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new gi(bd(this.value))}}function hA(t){const e=[];return Ll(t.fields,(n,r)=>{const i=new Ar([n]);if(Xp(r)){const s=hA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zr(e,0,wt.min(),wt.min(),wt.min(),gi.empty(),0)}static newFoundDocument(e,n,r,i){return new zr(e,1,n,wt.min(),r,i,0)}static newNoDocument(e,n){return new zr(e,2,n,wt.min(),wt.min(),gi.empty(),0)}static newUnknownDocument(e,n){return new zr(e,3,n,wt.min(),wt.min(),gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.position=e,this.inclusive=n}}function nb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=lt.comparator(lt.fromName(o.referenceValue),n.key):r=ih(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!uo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n="asc"){this.field=e,this.dir=n}}function k8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{}class Xn extends dA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R8(e,n,r):n==="array-contains"?new D8(e,r):n==="in"?new j8(e,r):n==="not-in"?new F8(e,r):n==="array-contains-any"?new B8(e,r):new Xn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O8(e,r):new M8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ih(n,this.value)):n!==null&&vl(this.value)===vl(n)&&this.matchesComparison(ih(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends dA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ps(e,n)}matches(e){return fA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fA(t){return t.op==="and"}function pA(t){return N8(t)&&fA(t)}function N8(t){for(const e of t.filters)if(e instanceof Ps)return!1;return!0}function M1(t){if(t instanceof Xn)return t.field.canonicalString()+t.op.toString()+sh(t.value);if(pA(t))return t.filters.map(e=>M1(e)).join(",");{const e=t.filters.map(n=>M1(n)).join(",");return`${t.op}(${e})`}}function gA(t,e){return t instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.field.isEqual(i.field)&&uo(r.value,i.value)}(t,e):t instanceof Ps?function(r,i){return i instanceof Ps&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gA(o,i.filters[a]),!0):!1}(t,e):void vt()}function mA(t){return t instanceof Xn?function(n){return`${n.field.canonicalString()} ${n.op} ${sh(n.value)}`}(t):t instanceof Ps?function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"}(t):"Filter"}class R8 extends Xn{constructor(e,n,r){super(e,n,r),this.key=lt.fromName(r.referenceValue)}matches(e){const n=lt.comparator(e.key,this.key);return this.matchesComparison(n)}}class O8 extends Xn{constructor(e,n){super(e,"in",n),this.keys=vA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M8 extends Xn{constructor(e,n){super(e,"not-in",n),this.keys=vA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>lt.fromName(r.referenceValue))}class D8 extends Xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _y(n)&&Xd(n.arrayValue,this.value)}}class j8 extends Xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xd(this.value.arrayValue,n)}}class F8 extends Xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xd(this.value.arrayValue,n)}}class B8 extends Xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function ib(t,e=null,n=[],r=[],i=null,s=null,o=null){return new V8(t,e,n,r,i,s,o)}function by(t){const e=St(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>M1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sh(r)).join(",")),e.ue=n}return e.ue}function Ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rb(t.startAt,e.startAt)&&rb(t.endAt,e.endAt)}function D1(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function U8(t,e,n,r,i,s,o,a){return new vf(t,e,n,r,i,s,o,a)}function Sy(t){return new vf(t)}function sb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yA(t){return t.collectionGroup!==null}function Ed(t){const e=St(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gr(Ar.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ug(s,r))}),n.has(Ar.keyField().canonicalString())||e.ce.push(new Ug(Ar.keyField(),r))}return e.ce}function io(t){const e=St(t);return e.le||(e.le=z8(e,Ed(t))),e.le}function z8(t,e){if(t.limitType==="F")return ib(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ug(i.field,s)});const n=t.endAt?new Vg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vg(t.startAt.position,t.startAt.inclusive):null;return ib(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function j1(t,e){const n=t.filters.concat([e]);return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function F1(t,e,n){return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Um(t,e){return Ey(io(t),io(e))&&t.limitType===e.limitType}function wA(t){return`${by(io(t))}|lt:${t.limitType}`}function dc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mA(i)).join(", ")}]`),Bm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sh(i)).join(",")),`Target(${r})`}(io(t))}; limitType=${t.limitType})`}function zm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):lt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ed(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=nb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ed(r),i)||r.endAt&&!function(o,a,l){const c=nb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ed(r),i))}(t,e)}function q8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _A(t){return(e,n)=>{let r=!1;for(const i of Ed(t)){const s=$8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $8(t,e,n){const r=t.field.isKeyField()?lt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ih(l,c):vt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ll(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=new Cn(lt.comparator);function Xo(){return H8}const bA=new Cn(lt.comparator);function ld(...t){let e=bA;for(const n of t)e=e.insert(n.key,n);return e}function EA(t){let e=bA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function su(){return Sd()}function SA(){return Sd()}function Sd(){return new Nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const W8=new Cn(lt.comparator),G8=new gr(lt.comparator);function Ft(...t){let e=G8;for(const n of t)e=e.add(n);return e}const K8=new gr(Vt);function Q8(){return K8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bg(e)?"-0":e}}function LA(t){return{integerValue:""+t}}function Y8(t,e){return L8(e)?LA(e):Ly(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this._=void 0}}function J8(t,e,n){return t instanceof zg?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wy(s)&&(s=Vm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zd?CA(t,e):t instanceof ef?xA(t,e):function(i,s){const o=AA(i,s),a=ob(o)+ob(i.Pe);return O1(o)&&O1(i.Pe)?LA(a):Ly(i.serializer,a)}(t,e)}function X8(t,e,n){return t instanceof Zd?CA(t,e):t instanceof ef?xA(t,e):n}function AA(t,e){return t instanceof qg?function(r){return O1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class zg extends qm{}class Zd extends qm{constructor(e){super(),this.elements=e}}function CA(t,e){const n=IA(e);for(const r of t.elements)n.some(i=>uo(i,r))||n.push(r);return{arrayValue:{values:n}}}class ef extends qm{constructor(e){super(),this.elements=e}}function xA(t,e){let n=IA(e);for(const r of t.elements)n=n.filter(i=>!uo(i,r));return{arrayValue:{values:n}}}class qg extends qm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ob(t){return Bn(t.integerValue||t.doubleValue)}function IA(t){return _y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zd&&i instanceof Zd||r instanceof ef&&i instanceof ef?rh(r.elements,i.elements,uo):r instanceof qg&&i instanceof qg?uo(r.Pe,i.Pe):r instanceof zg&&i instanceof zg}(t.transform,e.transform)}class eM{constructor(e,n){this.version=e,this.transformResults=n}}class xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $m{}function PA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ay(t.key,xs.none()):new yf(t.key,t.data,xs.none());{const n=t.data,r=gi.empty();let i=new gr(Ar.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Al(t.key,r,new Mi(i.toArray()),xs.none())}}function tM(t,e,n){t instanceof yf?function(i,s,o){const a=i.value.clone(),l=lb(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Al?function(i,s,o){if(!Zp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=lb(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(TA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ld(t,e,n,r){return t instanceof yf?function(s,o,a,l){if(!Zp(s.precondition,o))return a;const c=s.value.clone(),d=ub(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Al?function(s,o,a,l){if(!Zp(s.precondition,o))return a;const c=ub(s.fieldTransforms,l,o),d=o.data;return d.setAll(TA(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Zp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=AA(r.transform,i||null);s!=null&&(n===null&&(n=gi.empty()),n.set(r.field,s))}return n||null}function ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rh(r,i,(s,o)=>Z8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends $m{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Al extends $m{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lb(t,e,n){const r=new Map;Yt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,X8(o,a,n[i]))}return r}function ub(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,J8(s,o,e))}return r}class Ay extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rM extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ld(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ld(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=PA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ft())}isEqual(e){return this.batchId===e.batchId&&rh(this.mutations,e.mutations,(n,r)=>ab(n,r))&&rh(this.baseMutations,e.baseMutations,(n,r)=>ab(n,r))}}class Cy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Yt(e.mutations.length===r.length);let i=function(){return W8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Cy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,Bt;function aM(t){switch(t){default:return vt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function kA(t){if(t===void 0)return Jo("GRPC error has no .code"),Re.UNKNOWN;switch(t){case Yn.OK:return Re.OK;case Yn.CANCELLED:return Re.CANCELLED;case Yn.UNKNOWN:return Re.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return Re.INTERNAL;case Yn.UNAVAILABLE:return Re.UNAVAILABLE;case Yn.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Yn.NOT_FOUND:return Re.NOT_FOUND;case Yn.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Yn.ABORTED:return Re.ABORTED;case Yn.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Yn.DATA_LOSS:return Re.DATA_LOSS;default:return vt()}}(Bt=Yn||(Yn={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new uu([4294967295,4294967295],0);function cb(t){const e=lM().encode(t),n=new tA;return n.update(e),new Uint8Array(n.digest())}function hb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uu([n,r],0),new uu([i,s],0)]}class xy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ud(`Invalid padding: ${n}`);if(r<0)throw new ud(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ud(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ud(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=uu.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(uu.fromNumber(r)));return i.compare(uM)===1&&(i=new uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=cb(e),[r,i]=hb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new xy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=cb(e),[r,i]=hb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hm(wt.min(),i,new Cn(Vt),Xo(),Ft())}}class wf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class NA{constructor(e,n){this.targetId=e,this.me=n}}class RA{constructor(e,n,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class db{constructor(){this.fe=0,this.ge=pb(),this.pe=Ir.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),n=Ft(),r=Ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:vt()}}),new wf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=pb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xo(),this.qe=fb(),this.Qe=new Cn(Vt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:vt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(D1(s))if(r===0){const o=new lt(s.path);this.Ue(n,o,zr.newNoDocument(o,wt.min()))}else Yt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ml(r).toUint8Array()}catch(l){if(l instanceof cA)return nh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new xy(o,i,s)}catch(l){return nh(l instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&D1(a.target)){const l=new lt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,zr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Hm(e,n,this.Qe,this.ke,r);return this.ke=Xo(),this.qe=fb(),this.Qe=new Cn(Vt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new db,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gr(Vt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new db),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fb(){return new Cn(lt.comparator)}function pb(){return new Cn(lt.comparator)}const hM={asc:"ASCENDING",desc:"DESCENDING"},dM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fM={and:"AND",or:"OR"};class pM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B1(t,e){return t.useProto3Json||Bm(e)?e:{value:e}}function $g(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gM(t,e){return $g(t,e.toTimestamp())}function so(t){return Yt(!!t),wt.fromTimestamp(function(n){const r=gl(n);return new or(r.seconds,r.nanos)}(t))}function Iy(t,e){return V1(t,e).canonicalString()}function V1(t,e){const n=function(i){return new wn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MA(t){const e=wn.fromString(t);return Yt(VA(e)),e}function U1(t,e){return Iy(t.databaseId,e.path)}function a0(t,e){const n=MA(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new lt(jA(n))}function DA(t,e){return Iy(t.databaseId,e)}function mM(t){const e=MA(t);return e.length===4?wn.emptyPath():jA(e)}function z1(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jA(t){return Yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gb(t,e,n){return{name:U1(t,e),fields:n.value.mapValue.fields}}function vM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Yt(d===void 0||typeof d=="string"),Ir.fromBase64String(d||"")):(Yt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ir.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Re.UNKNOWN:kA(c.code);return new Xe(d,c.message||"")}(o);n=new RA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=a0(t,r.document.name),s=so(r.document.updateTime),o=r.document.createTime?so(r.document.createTime):wt.min(),a=new gi({mapValue:{fields:r.document.fields}}),l=zr.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new eg(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=a0(t,r.document),s=r.readTime?so(r.readTime):wt.min(),o=zr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new eg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=a0(t,r.document),s=r.removedTargetIds||[];n=new eg([],s,i,null)}else{if(!("filter"in e))return vt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new oM(i,s),a=r.targetId;n=new NA(a,o)}}return n}function yM(t,e){let n;if(e instanceof yf)n={update:gb(t,e.key,e.value)};else if(e instanceof Ay)n={delete:U1(t,e.key)};else if(e instanceof Al)n={update:gb(t,e.key,e.data),updateMask:xM(e.fieldMask)};else{if(!(e instanceof rM))return vt();n={verify:U1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof zg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ef)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qg)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw vt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:vt()}(t,e.precondition)),n}function wM(t,e){return t&&t.length>0?(Yt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?so(i.updateTime):so(s);return o.isEqual(wt.min())&&(o=so(s)),new eM(o,i.transformResults||[])}(n,e))):[]}function _M(t,e){return{documents:[DA(t,e.path)]}}function bM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DA(t,i);const s=function(c){if(c.length!==0)return BA(Ps.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:fc(m.field),direction:LM(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=B1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function EM(t){let e=mM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=FA(p);return m instanceof Ps&&pA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(E){return new Ug(pc(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Bm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(p){const m=!!p.before,g=p.values||[];return new Vg(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,g=p.values||[];return new Vg(g,m)}(n.endAt)),U8(e,i,o,s,a,"F",l,c)}function SM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pc(n.unaryFilter.field);return Xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pc(n.unaryFilter.field);return Xn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pc(n.unaryFilter.field);return Xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pc(n.unaryFilter.field);return Xn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(t):t.fieldFilter!==void 0?function(n){return Xn.create(pc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ps.create(n.compositeFilter.filters.map(r=>FA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return vt()}}(n.compositeFilter.op))}(t):vt()}function LM(t){return hM[t]}function AM(t){return dM[t]}function CM(t){return fM[t]}function fc(t){return{fieldPath:t.canonicalString()}}function pc(t){return Ar.fromServerFormat(t.fieldPath)}function BA(t){return t instanceof Xn?function(n){if(n.op==="=="){if(tb(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if(eb(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tb(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if(eb(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:AM(n.op),value:n.value}}}(t):t instanceof Ps?function(n){const r=n.getFilters().map(i=>BA(i));return r.length===1?r[0]:{compositeFilter:{op:CM(n.op),filters:r}}}(t):vt()}function xM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,r,i,s=wt.min(),o=wt.min(),a=Ir.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.ct=e}}function PM(t){const e=EM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?F1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.un=new kM}addToCollectionParentIndex(e,n){return this.un.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(pl.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(pl.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class kM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gr(wn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gr(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fi(e,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(41943040,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new oh(0)}static kn(){return new oh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb([t,e],[n,r]){const i=Vt(t,n);return i===0?Vt(e,r):i}class NM{constructor(e){this.Un=e,this.buffer=new gr(vb),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vh(n)?Ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await mh(n)}await this.Hn(3e5)})}}class OM{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ne.resolve(Fm.oe);const r=new NM(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(mb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mb):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),hc()<=jt.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function MM(t,e){return new OM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.changes=new Nu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ld(r.mutation,i,Mi.empty(),or.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ft()){const i=su();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ld();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=su();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xo();const o=Sd(),a=function(){return Sd()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Al)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ld(d.mutation,c,d.mutation.getFieldMask(),or.now())):o.set(c.key,Mi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new jM(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sd();let i=new Cn((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Mi.empty();d=a.applyToLocalView(c,d),r.set(l,d);const p=(i.get(a.batchId)||Ft()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,p=SA();d.forEach(m=>{if(!s.has(m)){const g=PA(n.get(m),r.get(m));g!==null&&p.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return Ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return lt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ne.resolve(su());let a=-1,l=s;return o.next(c=>Ne.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?Ne.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ft())).next(d=>({batchId:a,changes:EA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new lt(n)).next(r=>{let i=ld();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ld();return this.indexManager.getCollectionParents(e,s).next(a=>Ne.forEach(a,l=>{const c=function(p,m){return new vf(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,zr.newInvalidDocument(d)))});let a=ld();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Ld(d.mutation,c,Mi.empty(),or.now()),zm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ne.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:so(i.createTime)}}(n)),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PM(i.bundledQuery),readTime:so(i.readTime)}}(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.overlays=new Cn(lt.comparator),this.Ir=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=su();return Ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const i=su(),s=n.length+1,o=new lt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Cn((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=su(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=su(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Ne.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sM(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.sessionToken=Ir.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.Tr=new gr(hr.Er),this.dr=new gr(hr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new hr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new hr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new lt(new wn([])),r=new hr(n,e),i=new hr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new lt(new wn([])),r=new hr(n,e),i=new hr(n,e+1);let s=Ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new hr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return lt.comparator(e.key,n.key)||Vt(e.wr,n.wr)}static Ar(e,n){return Vt(e.wr,n.wr)||lt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new gr(hr.Er)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new hr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(e,n){return Ne.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hr(n,0),i=new hr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gr(Vt);return n.forEach(i=>{const s=new hr(i,0),o=new hr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ne.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;lt.isDocumentKey(s)||(s=s.child(""));const o=new hr(new lt(s),0);let a=new gr(Vt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),Ne.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Yt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ne.forEach(n.mutations,i=>{const s=new hr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new hr(n,0),i=this.br.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.Mr=e,this.docs=function(){return new Cn(lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():zr.newInvalidDocument(n))}getEntries(e,n){let r=Xo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zr.newInvalidDocument(i))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xo();const o=n.path,a=new lt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_8(w8(d),r)<=0||(i.has(d.key)||zm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){vt()}Or(e,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $M(this)}getSize(e){return Ne.resolve(this.size)}}class $M extends DM{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ne.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.persistence=e,this.Nr=new Nu(n=>by(n),Ey),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Py,this.targetCount=0,this.kr=oh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ne.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new oh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Kn(n),Ne.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ne.waitFor(s).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Fm(0),this.Kr=!1,this.Kr=!0,this.$r=new UM,this.referenceDelegate=e(this),this.Ur=new HM(this),this.indexManager=new TM,this.remoteDocumentCache=function(i){return new qM(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new IM(n),this.Gr=new BM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zM(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ye("MemoryPersistence","Starting transaction:",e);const i=new WM(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ne.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class WM extends E8{constructor(e){super(),this.currentSequenceNumber=e}}class Ty{constructor(e){this.persistence=e,this.Jr=new Py,this.Yr=null}static Zr(e){return new Ty(e)}get Xr(){if(this.Yr)return this.Yr;throw vt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Xr,r=>{const i=lt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,wt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ne.or([()=>Ne.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Hg{constructor(e,n){this.persistence=e,this.ti=new Nu(r=>A8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=MM(this,n)}static Zr(e,n){return new Hg(e,n)}zr(){}jr(e){return Ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return Ne.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?Ne.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,wt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),Ne.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),Ne.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jp(e.data.value)),n}nr(e,n,r){return Ne.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return Ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ft(),i=Ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ky(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return D6()?8:S8(Hr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new GM;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hc()<=jt.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ne.resolve()):(hc()<=jt.DEBUG&&Ye("QueryEngine","Query:",dc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hc()<=jt.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,io(n))):Ne.resolve())}Yi(e,n){if(sb(n))return Ne.resolve(null);let r=io(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=F1(n,null,"F"),r=io(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,F1(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return sb(n)||i.isEqual(wt.min())?Ne.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ne.resolve(null):(hc()<=jt.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dc(n)),this.rs(e,o,n,y8(i,-1)).next(a=>a))})}ts(e,n){let r=new gr(_A(e));return n.forEach((i,s)=>{zm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return hc()<=jt.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",dc(n)),this.Ji.getDocumentsMatchingQuery(e,n,pl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Cn(Vt),this._s=new Nu(s=>by(s),Ey),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function YM(t,e,n,r){return new QM(t,e,n,r)}async function zA(t,e){const n=St(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ft();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function JM(t,e){const n=St(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const p=c.batch,m=p.keys();let g=Ne.resolve();return m.forEach(E=>{g=g.next(()=>d.getEntry(l,E)).next(S=>{const I=c.docVersions.get(E);Yt(I!==null),S.version.compareTo(I)<0&&(p.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ft();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qA(t){const e=St(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XM(t,e){const n=St(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Ir.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(p,g),function(S,I,_){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=Xo(),c=Ft();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(ZM(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(wt.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function ZM(t,e,n){let r=Ft(),i=Ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xo();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(wt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function e7(t,e){const n=St(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t7(t,e){const n=St(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Ne.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ga(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function q1(t,e,n){const r=St(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vh(o))throw o;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function yb(t,e,n){const r=St(t);let i=wt.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const p=St(l),m=p._s.get(d);return m!==void 0?Ne.resolve(p.os.get(m)):p.Ur.getTargetData(c,d)}(r,o,io(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:wt.min(),n?s:Ft())).next(a=>(n7(r,q8(e),a),{documents:a,Ts:s})))}function n7(t,e,n){let r=t.us.get(e)||wt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class wb{constructor(){this.activeTargetIds=Q8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r7{constructor(){this.so=new wb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp=null;function l0(){return bp===null?bp=function(){return 268435456+Math.round(2147483648*Math.random())}():bp++,"0x"+bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="WebChannelConnection";class a7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=l0(),l=this.xo(n,r.toUriEncodedString());Ye("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(Ye("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw nh("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=s7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=l0();return new Promise((o,a)=>{const l=new nA;l.setWithCredentials(!0),l.listenOnce(rA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yp.NO_ERROR:const d=l.getResponseJson();Ye(Mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Yp.TIMEOUT:Ye(Mr,`RPC '${e}' ${s} timed out`),a(new Xe(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Yp.HTTP_ERROR:const p=l.getStatus();if(Ye(Mr,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const E=function(I){const _=I.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(_)>=0?_:Re.UNKNOWN}(g.status);a(new Xe(E,g.message))}else a(new Xe(Re.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Xe(Re.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ye(Mr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Ye(Mr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=l0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oA(),a=sA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Ye(Mr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=o.createWebChannel(d,l);let m=!1,g=!1;const E=new o7({Io:I=>{g?Ye(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Ye(Mr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Ye(Mr,`RPC '${e}' stream ${i} sending:`,I),p.send(I))},To:()=>p.close()}),S=(I,_,b)=>{I.listen(_,R=>{try{b(R)}catch(B){setTimeout(()=>{throw B},0)}})};return S(p,ad.EventType.OPEN,()=>{g||(Ye(Mr,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),S(p,ad.EventType.CLOSE,()=>{g||(g=!0,Ye(Mr,`RPC '${e}' stream ${i} transport closed`),E.So())}),S(p,ad.EventType.ERROR,I=>{g||(g=!0,nh(Mr,`RPC '${e}' stream ${i} transport errored:`,I),E.So(new Xe(Re.UNAVAILABLE,"The operation could not be completed")))}),S(p,ad.EventType.MESSAGE,I=>{var _;if(!g){const b=I.data[0];Yt(!!b);const R=b,B=R.error||((_=R[0])===null||_===void 0?void 0:_.error);if(B){Ye(Mr,`RPC '${e}' stream ${i} received error:`,B);const z=B.status;let K=function(k){const F=Yn[k];if(F!==void 0)return kA(F)}(z),N=B.message;K===void 0&&(K=Re.INTERNAL,N="Unknown error status: "+z+" with message "+B.message),g=!0,E.So(new Xe(K,N)),p.close()}else Ye(Mr,`RPC '${e}' stream ${i} received:`,b),E.bo(b)}}),S(a,iA.STAT_EVENT,I=>{I.stat===N1.PROXY?Ye(Mr,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===N1.NOPROXY&&Ye(Mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function u0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){return new pM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $A(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(Jo(n.toString()),Jo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Xe(Re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l7 extends HA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vM(this.serializer,e),r=function(s){if(!("targetChange"in s))return wt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?wt.min():o.readTime?so(o.readTime):wt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=z1(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=D1(l)?{documents:_M(s,l)}:{query:bM(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OA(s,o.resumeToken);const c=B1(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(wt.min())>0){a.readTime=$g(s,o.snapshotVersion.toTimestamp());const c=B1(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=SM(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=z1(this.serializer),n.removeTarget=e,this.a_(n)}}class u7 extends HA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wM(e.writeResults,e.commitTime),r=so(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=z1(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yM(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Xe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,V1(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xe(Re.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,V1(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Xe(Re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class h7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jo(n),this.D_=!1):Ye("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ru(this)&&(Ye("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=St(l);c.L_.add(4),await _f(c),c.q_.set("Unknown"),c.L_.delete(4),await Gm(c)}(this))})}),this.q_=new h7(r,i)}}async function Gm(t){if(Ru(t))for(const e of t.B_)await e(!0)}async function _f(t){for(const e of t.B_)await e(!1)}function WA(t,e){const n=St(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),My(n)?Oy(n):yh(n).r_()&&Ry(n,e))}function Ny(t,e){const n=St(t),r=yh(n);n.N_.delete(e),r.r_()&&GA(n,e),n.N_.size===0&&(r.r_()?r.o_():Ru(n)&&n.q_.set("Unknown"))}function Ry(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yh(t).A_(e)}function GA(t,e){t.Q_.xe(e),yh(t).R_(e)}function Oy(t){t.Q_=new cM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yh(t).start(),t.q_.v_()}function My(t){return Ru(t)&&!yh(t).n_()&&t.N_.size>0}function Ru(t){return St(t).L_.size===0}function KA(t){t.Q_=void 0}async function f7(t){t.q_.set("Online")}async function p7(t){t.N_.forEach((e,n)=>{Ry(t,e)})}async function g7(t,e){KA(t),My(t)?(t.q_.M_(e),Oy(t)):t.q_.set("Unknown")}async function m7(t,e,n){if(t.q_.set("Online"),e instanceof RA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wg(t,r)}else if(e instanceof eg?t.Q_.Ke(e):e instanceof NA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(wt.min()))try{const r=await qA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Ir.EMPTY_BYTE_STRING,d.snapshotVersion)),GA(s,l);const p=new Ga(d.target,l,c,d.sequenceNumber);Ry(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ye("RemoteStore","Failed to raise snapshot:",r),await Wg(t,r)}}async function Wg(t,e,n){if(!vh(e))throw e;t.L_.add(1),await _f(t),t.q_.set("Offline"),n||(n=()=>qA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ye("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gm(t)})}function QA(t,e){return e().catch(n=>Wg(t,n,e))}async function Km(t){const e=St(t),n=yl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;v7(e);)try{const i=await e7(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,y7(e,i)}catch(i){await Wg(e,i)}YA(e)&&JA(e)}function v7(t){return Ru(t)&&t.O_.length<10}function y7(t,e){t.O_.push(e);const n=yl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YA(t){return Ru(t)&&!yl(t).n_()&&t.O_.length>0}function JA(t){yl(t).start()}async function w7(t){yl(t).p_()}async function _7(t){const e=yl(t);for(const n of t.O_)e.m_(n.mutations)}async function b7(t,e,n){const r=t.O_.shift(),i=Cy.from(r,e,n);await QA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Km(t)}async function E7(t,e){e&&yl(t).V_&&await async function(r,i){if(function(o){return aM(o)&&o!==Re.ABORTED}(i.code)){const s=r.O_.shift();yl(r).s_(),await QA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Km(r)}}(t,e),YA(t)&&JA(t)}async function bb(t,e){const n=St(t);n.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const r=Ru(n);n.L_.add(3),await _f(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gm(n)}async function S7(t,e){const n=St(t);e?(n.L_.delete(2),await Gm(n)):e||(n.L_.add(2),await _f(n),n.q_.set("Unknown"))}function yh(t){return t.K_||(t.K_=function(n,r,i){const s=St(n);return s.w_(),new l7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:f7.bind(null,t),Ro:p7.bind(null,t),mo:g7.bind(null,t),d_:m7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),My(t)?Oy(t):t.q_.set("Unknown")):(await t.K_.stop(),KA(t))})),t.K_}function yl(t){return t.U_||(t.U_=function(n,r,i){const s=St(n);return s.w_(),new u7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w7.bind(null,t),mo:E7.bind(null,t),f_:_7.bind(null,t),g_:b7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Km(t)):(await t.U_.stop(),t.O_.length>0&&(Ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Dy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(t,e){if(Jo("AsyncQueue",`${e}: ${t}`),vh(t))return new Xe(Re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||lt.comparator(n.key,r.key):(n,r)=>lt.comparator(n.key,r.key),this.keyedMap=ld(),this.sortedSet=new Cn(this.comparator)}static emptySet(e){return new Uc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.W_=new Cn(lt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):vt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ah{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ah(e,n,Uc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class A7{constructor(){this.queries=Sb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=St(n),s=i.queries;i.queries=Sb(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Xe(Re.ABORTED,"Firestore shutting down"))}}function Sb(){return new Nu(t=>wA(t),Um)}async function XA(t,e){const n=St(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new L7,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=jy(o,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Fy(n)}async function ZA(t,e){const n=St(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C7(t,e){const n=St(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Fy(n)}function x7(t,e,n){const r=St(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Fy(t){t.Y_.forEach(e=>{e.next()})}var $1,Lb;(Lb=$1||($1={})).ea="default",Lb.Cache="cache";class eC{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ah(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ah.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.key=e}}class nC{constructor(e){this.key=e}}class I7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=_A(e),this.Ra=new Uc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Eb,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),g=zm(this.query,p)?p:null,E=!!m&&this.mutatedKeys.has(m.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;m&&g?m.data.isEqual(g.data)?E!==S&&(r.track({type:3,doc:g}),I=!0):this.ga(m,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),I=!0):m&&!g&&(r.track({type:1,doc:m}),I=!0,(l||c)&&(a=!0)),I&&(g?(o=o.add(g),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(g,E){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return S(g)-S(E)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new ah(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Eb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new nC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new tC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ah.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class P7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T7{constructor(e){this.key=e,this.va=!1}}class k7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Nu(a=>wA(a),Um),this.Ma=new Map,this.xa=new Set,this.Oa=new Cn(lt.comparator),this.Na=new Map,this.La=new Py,this.Ba={},this.ka=new Map,this.qa=oh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function N7(t,e,n=!0){const r=lC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await rC(r,e,n,!0),i}async function R7(t,e){const n=lC(t);await rC(n,e,!0,!1)}async function rC(t,e,n,r){const i=await t7(t.localStore,io(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await O7(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&WA(t.remoteStore,i),a}async function O7(t,e,n,r,i){t.Ka=(p,m,g)=>async function(S,I,_,b){let R=I.view.ma(_);R.ns&&(R=await yb(S.localStore,I.query,!1).then(({documents:N})=>I.view.ma(N,R)));const B=b&&b.targetChanges.get(I.targetId),z=b&&b.targetMismatches.get(I.targetId)!=null,K=I.view.applyChanges(R,S.isPrimaryClient,B,z);return Cb(S,I.targetId,K.wa),K.snapshot}(t,p,m,g);const s=await yb(t.localStore,e,!0),o=new I7(e,s.Ts),a=o.ma(s.documents),l=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Cb(t,n,c.wa);const d=new P7(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function M7(t,e,n){const r=St(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Um(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await q1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ny(r.remoteStore,i.targetId),H1(r,i.targetId)}).catch(mh)):(H1(r,i.targetId),await q1(r.localStore,i.targetId,!0))}async function D7(t,e){const n=St(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ny(n.remoteStore,r.targetId))}async function j7(t,e,n){const r=$7(t);try{const i=await function(o,a){const l=St(o),c=or.now(),d=a.reduce((g,E)=>g.add(E.key),Ft());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Xo(),S=Ft();return l.cs.getEntries(g,d).next(I=>{E=I,E.forEach((_,b)=>{b.isValidDocument()||(S=S.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(I=>{p=I;const _=[];for(const b of a){const R=nM(b,p.get(b.key).overlayedDocument);R!=null&&_.push(new Al(b.key,R,hA(R.value.mapValue),xs.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(I=>{m=I;const _=I.applyToLocalDocumentSet(p,S);return l.documentOverlayCache.saveOverlays(g,I.batchId,_)})}).then(()=>({batchId:m.batchId,changes:EA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Cn(Vt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await bf(r,i.changes),await Km(r.remoteStore)}catch(i){const s=jy(i,"Failed to persist write");n.reject(s)}}async function iC(t,e){const n=St(t);try{const r=await XM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Yt(o.va):i.removedDocuments.size>0&&(Yt(o.va),o.va=!1))}),await bf(n,r,e)}catch(r){await mh(r)}}function Ab(t,e,n){const r=St(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=St(o);l.onlineState=a;let c=!1;l.queries.forEach((d,p)=>{for(const m of p.j_)m.Z_(a)&&(c=!0)}),c&&Fy(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F7(t,e,n){const r=St(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Cn(lt.comparator);o=o.insert(s,zr.newNoDocument(s,wt.min()));const a=Ft().add(s),l=new Hm(wt.min(),new Map,new Cn(Vt),o,a);await iC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),By(r)}else await q1(r.localStore,e,!1).then(()=>H1(r,e,n)).catch(mh)}async function B7(t,e){const n=St(t),r=e.batch.batchId;try{const i=await JM(n.localStore,e);oC(n,r,null),sC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bf(n,i)}catch(i){await mh(i)}}async function V7(t,e,n){const r=St(t);try{const i=await function(o,a){const l=St(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Yt(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);oC(r,e,n),sC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bf(r,i)}catch(i){await mh(i)}}function sC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function oC(t,e,n){const r=St(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function H1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||aC(t,r)})}function aC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Ny(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),By(t))}function Cb(t,e,n){for(const r of n)r instanceof tC?(t.La.addReference(r.key,e),U7(t,r)):r instanceof nC?(Ye("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||aC(t,r.key)):vt()}function U7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ye("SyncEngine","New document in limbo: "+n),t.xa.add(r),By(t))}function By(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new lt(wn.fromString(e)),r=t.qa.next();t.Na.set(r,new T7(n)),t.Oa=t.Oa.insert(n,r),WA(t.remoteStore,new Ga(io(Sy(n.path)),r,"TargetPurposeLimboResolution",Fm.oe))}}async function bf(t,e,n){const r=St(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){i.push(c);const p=ky.Wi(l.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=St(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Ne.forEach(c,m=>Ne.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>Ne.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!vh(p))throw p;Ye("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const g=d.os.get(m),E=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(m,S)}}}(r.localStore,s))}async function z7(t,e){const n=St(t);if(!n.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const r=await zA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Xe(Re.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bf(n,r.hs)}}function q7(t,e){const n=St(t),r=n.Na.get(e);if(r&&r.va)return Ft().add(r.key);{let i=Ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function lC(t){const e=St(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F7.bind(null,e),e.Ca.d_=C7.bind(null,e.eventManager),e.Ca.$a=x7.bind(null,e.eventManager),e}function $7(t){const e=St(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V7.bind(null,e),e}class Gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return YM(this.persistence,new KM,e.initialUser,this.serializer)}Ga(e){return new UA(Ty.Zr,this.serializer)}Wa(e){return new r7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gg.provider={build:()=>new Gg};class H7 extends Gg{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Yt(this.persistence.referenceDelegate instanceof Hg);const r=this.persistence.referenceDelegate.garbageCollector;return new RM(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new UA(r=>Hg.Zr(r,n),this.serializer)}}class W1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ab(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z7.bind(null,this.syncEngine),await S7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A7}()}createDatastore(e){const n=Wm(e.databaseInfo.databaseId),r=function(s){return new a7(s)}(e.databaseInfo);return function(s,o,a,l){return new c7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new d7(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ab(this.syncEngine,n,0),function(){return _b.D()?new _b:new i7}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const p=new k7(i,s,o,a,l,c);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=St(i);Ye("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await _f(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}W1.provider={build:()=>new W1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=lA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ye("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ye("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function c0(t,e){t.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G7(t);Ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bb(e.remoteStore,i)),t._onlineComponents=e}async function G7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await c0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Re.FAILED_PRECONDITION||i.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;nh("Error using user provided cache. Falling back to memory cache: "+n),await c0(t,new Gg)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),await c0(t,new H7(void 0));return t._offlineComponents}async function cC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),await xb(t,t._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),await xb(t,new W1))),t._onlineComponents}function K7(t){return cC(t).then(e=>e.syncEngine)}async function hC(t){const e=await cC(t),n=e.eventManager;return n.onListen=N7.bind(null,e.syncEngine),n.onUnlisten=M7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D7.bind(null,e.syncEngine),n}function Q7(t,e,n={}){const r=new qo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new uC({next:m=>{d.Za(),o.enqueueAndForget(()=>ZA(s,p));const g=m.docs.has(a);!g&&m.fromCache?c.reject(new Xe(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?c.reject(new Xe(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new eC(Sy(a.path),d,{includeMetadataChanges:!0,_a:!0});return XA(s,p)}(await hC(t),t.asyncQueue,e,n,r)),r.promise}function Y7(t,e,n={}){const r=new qo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new uC({next:m=>{d.Za(),o.enqueueAndForget(()=>ZA(s,p)),m.fromCache&&l.source==="server"?c.reject(new Xe(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new eC(a,d,{includeMetadataChanges:!0,_a:!0});return XA(s,p)}(await hC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e,n){if(!n)throw new Xe(Re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J7(t,e,n,r){if(e===!0&&r===!0)throw new Xe(Re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pb(t){if(!lt.isDocumentKey(t))throw new Xe(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tb(t){if(lt.isDocumentKey(t))throw new Xe(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vt()}function Zo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qm(t);throw new Xe(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Xe(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Xe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Xe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Xe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ym{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u8;switch(r.type){case"firstParty":return new f8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xe(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ib.get(n);r&&(Ye("ComponentProvider","Removing Datastore"),Ib.delete(n),r.terminate())}(this),Promise.resolve()}}function X7(t,e,n,r={}){var i;const s=(t=Zo(t,Ym))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&nh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Vr.MOCK_USER;else{a=g3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Xe(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vr(c)}t._authCredentials=new c8(new aA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wh(this.firestore,e,this._query)}}class _i{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _i(this.firestore,e,this._key)}}class cl extends wh{constructor(e,n,r){super(e,n,Sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _i(this.firestore,null,new lt(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function oo(t,e,...n){if(t=ar(t),fC("collection","path",e),t instanceof Ym){const r=wn.fromString(e,...n);return Tb(r),new cl(t,null,r)}{if(!(t instanceof _i||t instanceof cl))throw new Xe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return Tb(r),new cl(t.firestore,null,r)}}function Ys(t,e,...n){if(t=ar(t),arguments.length===1&&(e=lA.newId()),fC("doc","path",e),t instanceof Ym){const r=wn.fromString(e,...n);return Pb(r),new _i(t,null,new lt(r))}{if(!(t instanceof _i||t instanceof cl))throw new Xe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return Pb(r),new _i(t.firestore,t instanceof cl?t.converter:null,new lt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $A(this,"async_queue_retry"),this.Vu=()=>{const r=u0();r&&Ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=u0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=u0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new qo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vh(e))throw e;Ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Dy.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&vt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class _h extends Ym{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Nb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nb(e),this._firestoreClient=void 0,await e}}}function Z7(t,e){const n=typeof t=="object"?t:ly(),r=typeof t=="string"?t:"(default)",i=Om(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=d3("firestore");s&&X7(i,...s)}return i}function Vy(t){if(t._terminated)throw new Xe(Re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eD(t),t._firestoreClient}function eD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new I8(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new W7(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lh(Ir.fromBase64String(e))}catch(n){throw new Xe(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lh(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xe(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xe(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xe(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/^__.*__$/;class nD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Al(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}class pC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Al(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class $y{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Kg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gC(this.Cu)&&tD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wm(e)}Qu(e,n,r,i=!1){return new $y({Cu:e,methodName:n,qu:r,path:Ar.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hy(t){const e=t._freezeSettings(),n=Wm(t._databaseId);return new rD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iD(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Wy("Data must be an object, but it was:",o,r);const a=mC(r,o);let l,c;if(s.merge)l=new Mi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=G1(e,p,n);if(!o.contains(m))throw new Xe(Re.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);yC(d,m)||d.push(m)}l=new Mi(d),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new nD(new gi(a),l,c)}class Xm extends Uy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xm}}function sD(t,e,n,r){const i=t.Qu(1,e,n);Wy("Data must be an object, but it was:",i,r);const s=[],o=gi.empty();Ll(r,(l,c)=>{const d=Gy(e,l,n);c=ar(c);const p=i.Nu(d);if(c instanceof Xm)s.push(d);else{const m=Ef(c,p);m!=null&&(s.push(d),o.set(d,m))}});const a=new Mi(s);return new pC(o,a,i.fieldTransforms)}function oD(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[G1(e,r,n)],l=[i];if(s.length%2!=0)throw new Xe(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(G1(e,s[m])),l.push(s[m+1]);const c=[],d=gi.empty();for(let m=a.length-1;m>=0;--m)if(!yC(c,a[m])){const g=a[m];let E=l[m];E=ar(E);const S=o.Nu(g);if(E instanceof Xm)c.push(g);else{const I=Ef(E,S);I!=null&&(c.push(g),d.set(g,I))}}const p=new Mi(c);return new pC(d,p,o.fieldTransforms)}function aD(t,e,n,r=!1){return Ef(n,t.Qu(r?4:3,e))}function Ef(t,e){if(vC(t=ar(t)))return Wy("Unsupported field value:",e,t),mC(t,e);if(t instanceof Uy)return function(r,i){if(!gC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ef(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ar(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=or.fromDate(r);return{timestampValue:$g(i.serializer,s)}}if(r instanceof or){const s=new or(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$g(i.serializer,s)}}if(r instanceof zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lh)return{bytesValue:OA(i.serializer,r._byteString)};if(r instanceof _i){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Iy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ly(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qm(r)}`)}(t,e)}function mC(t,e){const n={};return uA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(t,(r,i)=>{const s=Ef(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof or||t instanceof zy||t instanceof lh||t instanceof _i||t instanceof Uy||t instanceof qy)}function Wy(t,e,n){if(!vC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function G1(t,e,n){if((e=ar(e))instanceof Jm)return e._internalPath;if(typeof e=="string")return Gy(t,e);throw Kg("Field path arguments must be of type string or ",t,!1,void 0,n)}const lD=new RegExp("[~\\*/\\[\\]]");function Gy(t,e,n){if(e.search(lD)>=0)throw Kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jm(...e.split("."))._internalPath}catch{throw Kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Xe(Re.INVALID_ARGUMENT,a+t+l)}function yC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uD extends wC{data(){return super.data()}}function Ky(t,e){return typeof e=="string"?Gy(t,e):e instanceof Jm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qy{}class hD extends Qy{}function Rb(t,e,...n){let r=[];e instanceof Qy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Yy).length,a=s.filter(l=>l instanceof Zm).length;if(o>1||o>0&&a>0)throw new Xe(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zm extends hD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zm(e,n,r)}_apply(e){const n=this._parse(e);return _C(e._query,n),new wh(e.firestore,e.converter,j1(e._query,n))}_parse(e){const n=Hy(e.firestore);return function(s,o,a,l,c,d,p){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Xe(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Mb(p,d);const g=[];for(const E of p)g.push(Ob(l,s,E));m={arrayValue:{values:g}}}else m=Ob(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Mb(p,d),m=aD(a,o,p,d==="in"||d==="not-in");return Xn.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function h0(t,e,n){const r=e,i=Ky("where",t);return Zm._create(i,r,n)}class Yy extends Qy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)_C(o,l),o=j1(o,l)}(e._query,n),new wh(e.firestore,e.converter,j1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ob(t,e,n){if(typeof(n=ar(n))=="string"){if(n==="")throw new Xe(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yA(e)&&n.indexOf("/")!==-1)throw new Xe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wn.fromString(n));if(!lt.isDocumentKey(r))throw new Xe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Z_(t,new lt(r))}if(n instanceof _i)return Z_(t,n._key);throw new Xe(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qm(n)}.`)}function Mb(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _C(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Xe(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dD{convertValue(e,n="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ll(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Bn(o.doubleValue));return new qy(s)}convertGeoPoint(e){return new zy(Bn(e.latitude),Bn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yd(e));default:return null}}convertTimestamp(e){const n=gl(e);return new or(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wn.fromString(e);Yt(VA(r));const i=new Jd(r.get(1),r.get(3)),s=new lt(r.popFirst(5));return i.isEqual(n)||Jo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bC extends wC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tg extends bC{data(e={}){return super.data(e)}}class pD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tg(this._firestore,this._userDataWriter,r.key,r,new cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xe(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:gD(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){t=Zo(t,_i);const e=Zo(t.firestore,_h);return Q7(Vy(e),t._key).then(n=>vD(e,t,n))}class EC extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new lh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,n)}}function Eu(t){t=Zo(t,wh);const e=Zo(t.firestore,_h),n=Vy(e),r=new EC(e);return cD(t._query),Y7(n,t._query).then(i=>new pD(e,r,t,i))}function Pc(t,e,n,...r){t=Zo(t,_i);const i=Zo(t.firestore,_h),s=Hy(i);let o;return o=typeof(e=ar(e))=="string"||e instanceof Jm?oD(s,"updateDoc",t._key,e,n,r):sD(s,"updateDoc",t._key,e),Jy(i,[o.toMutation(t._key,xs.exists(!0))])}function SC(t){return Jy(Zo(t.firestore,_h),[new Ay(t._key,xs.none())])}function ev(t,e){const n=Zo(t.firestore,_h),r=Ys(t),i=fD(t.converter,e);return Jy(n,[iD(Hy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xs.exists(!1))]).then(()=>r)}function Jy(t,e){return function(r,i){const s=new qo;return r.asyncQueue.enqueueAndForget(async()=>j7(await K7(r),i,s)),s.promise}(Vy(t),e)}function vD(t,e,n){const r=n.docs.get(e._key),i=new EC(t);return new bC(t,i,e._key,r,new cd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gh=i})(Pu),yu(new fl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new _h(new h8(r.getProvider("auth-internal")),new g8(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Xe(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jd(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),no(G_,"4.7.4",e),no(G_,"4.7.4","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebasestorage.googleapis.com",AC="storageBucket",yD=2*60*1e3,wD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends fo{constructor(e,n,r=0){super(d0(e),`Firebase Storage: ${n} (${d0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function d0(t){return"storage/"+t}function Xy(){const t="An unknown error occurred, please check the error payload for server response.";return new Rn(Nn.UNKNOWN,t)}function _D(t){return new Rn(Nn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function bD(t){return new Rn(Nn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ED(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rn(Nn.UNAUTHENTICATED,t)}function SD(){return new Rn(Nn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LD(t){return new Rn(Nn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function AD(){return new Rn(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CD(){return new Rn(Nn.CANCELED,"User canceled the upload/download.")}function xD(t){return new Rn(Nn.INVALID_URL,"Invalid URL '"+t+"'.")}function ID(t){return new Rn(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PD(){return new Rn(Nn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AC+"' property when initializing the app?")}function TD(){return new Rn(Nn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kD(){return new Rn(Nn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ND(t){return new Rn(Nn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function K1(t){return new Rn(Nn.INVALID_ARGUMENT,t)}function CC(){return new Rn(Nn.APP_DELETED,"The Firebase app was deleted.")}function RD(t){return new Rn(Nn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ad(t,e){return new Rn(Nn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Jh(t){throw new Rn(Nn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Di.makeFromUrl(e,n)}catch{return new Di(e,"")}if(r.path==="")return r;throw ID(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(B){B.path_=decodeURIComponent(B.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${p}/${d}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},S=n===LC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",_=new RegExp(`^https?://${S}/${i}/${I}`,"i"),R=[{regex:a,indices:l,postModify:s},{regex:g,indices:E,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let B=0;B<R.length;B++){const z=R[B],K=z.regex.exec(e);if(K){const N=K[z.indices.bucket];let x=K[z.indices.path];x||(x=""),r=new Di(N,x),z.postModify(r);break}}if(r==null)throw xD(e);return r}}class OD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...I){c||(c=!0,e.apply(null,I))}function p(I){i=setTimeout(()=>{i=null,t(g,l())},I)}function m(){s&&clearTimeout(s)}function g(I,..._){if(c){m();return}if(I){m(),d.call(null,I,..._);return}if(l()||o){m(),d.call(null,I,..._);return}r<64&&(r*=2);let R;a===1?(a=2,R=0):R=(r+Math.random())*1e3,p(R)}let E=!1;function S(I){E||(E=!0,m(),!c&&(i!==null?(I||(a=2),clearTimeout(i),p(0)):I||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function DD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){return t!==void 0}function FD(t){return typeof t=="object"&&!Array.isArray(t)}function Zy(t){return typeof t=="string"||t instanceof String}function Db(t){return ew()&&t instanceof Blob}function ew(){return typeof Blob<"u"}function jb(t,e,n,r){if(r<e)throw K1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw K1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function xC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var cu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(cu||(cu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i,s,o,a,l,c,d,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,E)=>{this.resolve_=g,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ep(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===cu.NO_ERROR,l=s.getStatus();if(!a||BD(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===cu.ABORT;r(!1,new Ep(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ep(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jD(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Xy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?CC():CD();o(l)}else{const l=AD();o(l)}};this.canceled_?n(!1,new Ep(!1,null,!0)):this.backoffId_=MD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ep{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function UD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $D(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function HD(t,e,n,r,i,s,o=!0){const a=xC(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return qD(c,e),UD(c,n),zD(c,s),$D(c,r),new VD(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GD(...t){const e=WD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ew())return new Blob(t);throw new Rn(Nn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){if(typeof atob>"u")throw ND("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class f0{constructor(e,n){this.data=e,this.contentType=n||null}}function YD(t,e){switch(t){case Xs.RAW:return new f0(IC(e));case Xs.BASE64:case Xs.BASE64URL:return new f0(PC(t,e));case Xs.DATA_URL:return new f0(XD(e),ZD(e))}throw Xy()}function IC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function JD(t){let e;try{e=decodeURIComponent(t)}catch{throw Ad(Xs.DATA_URL,"Malformed data URL.")}return IC(e)}function PC(t,e){switch(t){case Xs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ad(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ad(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=QD(e)}catch(i){throw i.message.includes("polyfill")?i:Ad(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class TC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ad(Xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ej(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function XD(t){const e=new TC(t);return e.base64?PC(Xs.BASE64,e.rest):JD(e.rest)}function ZD(t){return new TC(t).contentType}function ej(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){let r=0,i="";Db(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Db(this.data_)){const r=this.data_,i=KD(r,e,n);return i===null?null:new qa(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qa(r,!0)}}static getBlob(...e){if(ew()){const n=e.map(r=>r instanceof qa?r.data_:r);return new qa(GD.apply(null,n))}else{const n=e.map(o=>Zy(o)?YD(Xs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new qa(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){let e;try{e=JSON.parse(t)}catch{return null}return FD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function NC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e){return e}class ni{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||rj}}let Sp=null;function ij(t){return!Zy(t)||t.length<2?t:NC(t)}function RC(){if(Sp)return Sp;const t=[];t.push(new ni("bucket")),t.push(new ni("generation")),t.push(new ni("metageneration")),t.push(new ni("name","fullPath",!0));function e(s,o){return ij(o)}const n=new ni("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ni("size");return i.xform=r,t.push(i),t.push(new ni("timeCreated")),t.push(new ni("updated")),t.push(new ni("md5Hash",null,!0)),t.push(new ni("cacheControl",null,!0)),t.push(new ni("contentDisposition",null,!0)),t.push(new ni("contentEncoding",null,!0)),t.push(new ni("contentLanguage",null,!0)),t.push(new ni("contentType",null,!0)),t.push(new ni("metadata","customMetadata",!0)),Sp=t,Sp}function sj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Di(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function oj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return sj(r,t),r}function OC(t,e,n){const r=kC(e);return r===null?null:oj(t,r,n)}function aj(t,e,n,r){const i=kC(e);if(i===null||!Zy(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,p=t.fullPath,m="/b/"+o(d)+"/o/"+o(p),g=tw(m,n,r),E=xC({alt:"media",token:c});return g+E})[0]}function lj(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class MC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){if(!t)throw Xy()}function uj(t,e){function n(r,i){const s=OC(t,i,e);return DC(s!==null),s}return n}function cj(t,e){function n(r,i){const s=OC(t,i,e);return DC(s!==null),aj(s,i,t.host,t._protocol)}return n}function jC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=SD():i=ED():n.getStatus()===402?i=bD(t.bucket):n.getStatus()===403?i=LD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function hj(t){const e=jC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=_D(t.path)),s.serverResponse=i.serverResponse,s}return n}function dj(t,e,n){const r=e.fullServerUrl(),i=tw(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new MC(i,s,cj(t,n),o);return a.errorHandler=hj(e),a}function fj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function pj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=fj(null,e)),r}function gj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let R="";for(let B=0;B<2;B++)R=R+Math.random().toString().slice(2);return R}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=pj(e,r,i),d=lj(c,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",g=qa.getBlob(p,r,m);if(g===null)throw TD();const E={name:c.fullPath},S=tw(s,t.host,t._protocol),I="POST",_=t.maxUploadRetryTime,b=new MC(S,I,uj(t,n),_);return b.urlParams=E,b.headers=o,b.body=g.uploadData(),b.errorHandler=jC(e),b}class mj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Jh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vj extends mj{initXhr(){this.xhr_.responseType="text"}}function FC(){return new vj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this._service=e,n instanceof Di?this._location=n:this._location=Di.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Su(e,n)}get root(){const e=new Di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NC(this._location.path)}get storage(){return this._service}get parent(){const e=tj(this._location.path);if(e===null)return null;const n=new Di(this._location.bucket,e);return new Su(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RD(e)}}function yj(t,e,n){t._throwIfRoot("uploadBytes");const r=gj(t.storage,t._location,RC(),new qa(e,!0),n);return t.storage.makeRequestWithTokens(r,FC).then(i=>({metadata:i,ref:t}))}function wj(t){t._throwIfRoot("getDownloadURL");const e=dj(t.storage,t._location,RC());return t.storage.makeRequestWithTokens(e,FC).then(n=>{if(n===null)throw kD();return n})}function _j(t,e){const n=nj(t._location.path,e),r=new Di(t._location.bucket,n);return new Su(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){return/^[A-Za-z]+:\/\//.test(t)}function Ej(t,e){return new Su(t,e)}function BC(t,e){if(t instanceof nw){const n=t;if(n._bucket==null)throw PD();const r=new Su(n,n._bucket);return e!=null?BC(r,e):r}else return e!==void 0?_j(t,e):t}function Sj(t,e){if(e&&bj(e)){if(t instanceof nw)return Ej(t,e);throw K1("To use ref(service, url), the first argument must be a Storage instance.")}else return BC(t,e)}function Fb(t,e){const n=e==null?void 0:e[AC];return n==null?null:Di.makeFromBucketSpec(n,t)}function Lj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:g3(i,t.app.options.projectId))}class nw{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=LC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yD,this._maxUploadRetryTime=wD,this._requests=new Set,i!=null?this._bucket=Di.makeFromBucketSpec(i,this._host):this._bucket=Fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Di.makeFromBucketSpec(this._url,e):this._bucket=Fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Su(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new OD(CC());{const o=HD(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Bb="@firebase/storage",Vb="0.13.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="storage";function Aj(t,e,n){return t=ar(t),yj(t,e,n)}function Cj(t){return t=ar(t),wj(t)}function xj(t,e){return t=ar(t),Sj(t,e)}function UC(t=ly(),e){t=ar(t);const r=Om(t,VC).getImmediate({identifier:e}),i=d3("storage");return i&&Ij(r,...i),r}function Ij(t,e,n,r={}){Lj(t,e,n,r)}function Pj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nw(n,r,i,e,Pu)}function Tj(){yu(new fl(VC,Pj,"PUBLIC").setMultipleInstances(!0)),no(Bb,Vb,""),no(Bb,Vb,"esm2017")}Tj();const kj={apiKey:"AIzaSyA7-EQ2IUyujkIbyY1M3TAUCAD5Fe8w9iQ",authDomain:"bitacoras-4bee7.firebaseapp.com",projectId:"bitacoras-4bee7",storageBucket:"bitacoras-4bee7.appspot.com",messagingSenderId:"192316556732",appId:"1:192316556732:web:6db8591f064866429cd7b9"},rw=y3(kj),zC=s8(rw),rr=Z7(rw);UC(rw);/*!
* sweetalert2 v11.14.5
* Released under the MIT License.
*/function qC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Nj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ub(t,e){return t.get(qC(t,e))}function Rj(t,e,n){Nj(t,e),e.set(t,n)}function Oj(t,e,n){return t.set(qC(t,e),n),n}const Mj=100,ct={},Dj=()=>{ct.previousActiveElement instanceof HTMLElement?(ct.previousActiveElement.focus(),ct.previousActiveElement=null):document.body&&document.body.focus()},jj=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ct.restoreFocusTimeout=setTimeout(()=>{Dj(),e()},Mj),window.scrollTo(n,r)}),$C="swal2-",Fj=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],Le=Fj.reduce((t,e)=>(t[e]=$C+e,t),{}),Bj=["success","warning","info","question","error"],Qg=Bj.reduce((t,e)=>(t[e]=$C+e,t),{}),HC="SweetAlert2:",iw=t=>t.charAt(0).toUpperCase()+t.slice(1),Ei=t=>{console.warn(`${HC} ${typeof t=="object"?t.join(" "):t}`)},Ou=t=>{console.error(`${HC} ${t}`)},zb=[],Vj=t=>{zb.includes(t)||(zb.push(t),Ei(t))},WC=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Vj(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},tv=t=>typeof t=="function"?t():t,sw=t=>t&&typeof t.toPromise=="function",Sf=t=>sw(t)?t.toPromise():Promise.resolve(t),ow=t=>t&&Promise.resolve(t)===t,Si=()=>document.body.querySelector(`.${Le.container}`),Lf=t=>{const e=Si();return e?e.querySelector(t):null},qi=t=>Lf(`.${t}`),rn=()=>qi(Le.popup),Af=()=>qi(Le.icon),Uj=()=>qi(Le["icon-content"]),GC=()=>qi(Le.title),aw=()=>qi(Le["html-container"]),KC=()=>qi(Le.image),lw=()=>qi(Le["progress-steps"]),nv=()=>qi(Le["validation-message"]),co=()=>Lf(`.${Le.actions} .${Le.confirm}`),bh=()=>Lf(`.${Le.actions} .${Le.cancel}`),Mu=()=>Lf(`.${Le.actions} .${Le.deny}`),zj=()=>qi(Le["input-label"]),Eh=()=>Lf(`.${Le.loader}`),Cf=()=>qi(Le.actions),QC=()=>qi(Le.footer),rv=()=>qi(Le["timer-progress-bar"]),uw=()=>qi(Le.close),qj=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,cw=()=>{const t=rn();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((s,o)=>{const a=parseInt(s.getAttribute("tabindex")||"0"),l=parseInt(o.getAttribute("tabindex")||"0");return a>l?1:a<l?-1:0}),r=t.querySelectorAll(qj),i=Array.from(r).filter(s=>s.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(s=>bi(s))},hw=()=>$o(document.body,Le.shown)&&!$o(document.body,Le["toast-shown"])&&!$o(document.body,Le["no-backdrop"]),iv=()=>{const t=rn();return t?$o(t,Le.toast):!1},$j=()=>{const t=rn();return t?t.hasAttribute("data-loading"):!1},$i=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(o=>{t.appendChild(o)});const s=r.querySelector("body");s&&Array.from(s.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},$o=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},Hj=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Le).includes(n)&&!Object.values(Qg).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Vi=(t,e,n)=>{if(Hj(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Ei(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}$t(t,r)}},sv=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Le.popup} > .${Le[e]}`);case"checkbox":return t.querySelector(`.${Le.popup} > .${Le.checkbox} input`);case"radio":return t.querySelector(`.${Le.popup} > .${Le.radio} input:checked`)||t.querySelector(`.${Le.popup} > .${Le.radio} input:first-child`);case"range":return t.querySelector(`.${Le.popup} > .${Le.range} input`);default:return t.querySelector(`.${Le.popup} > .${Le.input}`)}},YC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},JC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},$t=(t,e)=>{JC(t,e,!0)},ho=(t,e)=>{JC(t,e,!1)},Ka=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&$o(i,e))return i}},hu=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},mr=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},Wr=t=>{t&&(t.style.display="none")},dw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{xf(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},qb=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},xf=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?mr(t,n):Wr(t)},bi=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Wj=()=>!bi(co())&&!bi(Mu())&&!bi(bh()),$b=t=>t.scrollHeight>t.clientHeight,XC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},fw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=rv();n&&bi(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},Gj=()=>{const t=rv();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},Kj=()=>typeof window>"u"||typeof document>"u",Qj=`
 <div aria-labelledby="${Le.title}" aria-describedby="${Le["html-container"]}" class="${Le.popup}" tabindex="-1">
   <button type="button" class="${Le.close}"></button>
   <ul class="${Le["progress-steps"]}"></ul>
   <div class="${Le.icon}"></div>
   <img class="${Le.image}" />
   <h2 class="${Le.title}" id="${Le.title}"></h2>
   <div class="${Le["html-container"]}" id="${Le["html-container"]}"></div>
   <input class="${Le.input}" id="${Le.input}" />
   <input type="file" class="${Le.file}" />
   <div class="${Le.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Le.select}" id="${Le.select}"></select>
   <div class="${Le.radio}"></div>
   <label class="${Le.checkbox}">
     <input type="checkbox" id="${Le.checkbox}" />
     <span class="${Le.label}"></span>
   </label>
   <textarea class="${Le.textarea}" id="${Le.textarea}"></textarea>
   <div class="${Le["validation-message"]}" id="${Le["validation-message"]}"></div>
   <div class="${Le.actions}">
     <div class="${Le.loader}"></div>
     <button type="button" class="${Le.confirm}"></button>
     <button type="button" class="${Le.deny}"></button>
     <button type="button" class="${Le.cancel}"></button>
   </div>
   <div class="${Le.footer}"></div>
   <div class="${Le["timer-progress-bar-container"]}">
     <div class="${Le["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Yj=()=>{const t=Si();return t?(t.remove(),ho([document.documentElement,document.body],[Le["no-backdrop"],Le["toast-shown"],Le["has-column"]]),!0):!1},Wl=()=>{ct.currentInstance.resetValidationMessage()},Jj=()=>{const t=rn(),e=Ka(t,Le.input),n=Ka(t,Le.file),r=t.querySelector(`.${Le.range} input`),i=t.querySelector(`.${Le.range} output`),s=Ka(t,Le.select),o=t.querySelector(`.${Le.checkbox} input`),a=Ka(t,Le.textarea);e.oninput=Wl,n.onchange=Wl,s.onchange=Wl,o.onchange=Wl,a.oninput=Wl,r.oninput=()=>{Wl(),i.value=r.value},r.onchange=()=>{Wl(),i.value=r.value}},Xj=t=>typeof t=="string"?document.querySelector(t):t,Zj=t=>{const e=rn();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},e9=t=>{window.getComputedStyle(t).direction==="rtl"&&$t(Si(),Le.rtl)},t9=t=>{const e=Yj();if(Kj()){Ou("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Le.container,e&&$t(n,Le["no-transition"]),$i(n,Qj);const r=Xj(t.target);r.appendChild(n),Zj(t),e9(r),Jj()},pw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?n9(t,e):t&&$i(e,t)},n9=(t,e)=>{t.jquery?r9(e,t):$i(e,t.toString())},r9=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},i9=(t,e)=>{const n=Cf(),r=Eh();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Wr(n):mr(n),Vi(n,e,"actions"),s9(n,r,e),$i(r,e.loaderHtml||""),Vi(r,e,"loader"))};function s9(t,e,n){const r=co(),i=Mu(),s=bh();!r||!i||!s||(p0(r,"confirm",n),p0(i,"deny",n),p0(s,"cancel",n),o9(r,i,s,n),n.reverseButtons&&(n.toast?(t.insertBefore(s,r),t.insertBefore(i,r)):(t.insertBefore(s,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function o9(t,e,n,r){if(!r.buttonsStyling){ho([t,e,n],Le.styled);return}$t([t,e,n],Le.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,$t(t,Le["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,$t(e,Le["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,$t(n,Le["default-outline"]))}function p0(t,e,n){const r=iw(e);xf(t,n[`show${r}Button`],"inline-block"),$i(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Le[e],Vi(t,n,`${e}Button`)}const a9=(t,e)=>{const n=uw();n&&($i(n,e.closeButtonHtml||""),Vi(n,e,"closeButton"),xf(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},l9=(t,e)=>{const n=Si();n&&(u9(n,e.backdrop),c9(n,e.position),h9(n,e.grow),Vi(n,e,"container"))};function u9(t,e){typeof e=="string"?t.style.background=e:e||$t([document.documentElement,document.body],Le["no-backdrop"])}function c9(t,e){e&&(e in Le?$t(t,Le[e]):(Ei('The "position" parameter is not valid, defaulting to "center"'),$t(t,Le.center)))}function h9(t,e){e&&$t(t,Le[`grow-${e}`])}var fn={innerParams:new WeakMap,domCache:new WeakMap};const d9=["input","file","range","select","radio","checkbox","textarea"],f9=(t,e)=>{const n=rn();if(!n)return;const r=fn.innerParams.get(t),i=!r||e.input!==r.input;d9.forEach(s=>{const o=Ka(n,Le[s]);o&&(m9(s,e.inputAttributes),o.className=Le[s],i&&Wr(o))}),e.input&&(i&&p9(e),v9(e))},p9=t=>{if(!t.input)return;if(!Fn[t.input]){Ou(`Unexpected type of input! Expected ${Object.keys(Fn).join(" | ")}, got "${t.input}"`);return}const e=ZC(t.input);if(!e)return;const n=Fn[t.input](e,t);mr(e),t.inputAutoFocus&&setTimeout(()=>{YC(n)})},g9=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},m9=(t,e)=>{const n=rn();if(!n)return;const r=sv(n,t);if(r){g9(r);for(const i in e)r.setAttribute(i,e[i])}},v9=t=>{if(!t.input)return;const e=ZC(t.input);e&&Vi(e,t,"input")},gw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},If=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=Le["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&$t(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},ZC=t=>{const e=rn();if(e)return Ka(e,Le[t]||Le.input)},Yg=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:ow(e)||Ei(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Fn={};Fn.text=Fn.email=Fn.password=Fn.number=Fn.tel=Fn.url=Fn.search=Fn.date=Fn["datetime-local"]=Fn.time=Fn.week=Fn.month=(t,e)=>(Yg(t,e.inputValue),If(t,t,e),gw(t,e),t.type=e.input,t);Fn.file=(t,e)=>(If(t,t,e),gw(t,e),t);Fn.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Yg(n,e.inputValue),n.type=e.input,Yg(r,e.inputValue),If(n,t,e),t};Fn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");$i(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return If(t,t,e),t};Fn.radio=t=>(t.textContent="",t);Fn.checkbox=(t,e)=>{const n=sv(rn(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return $i(r,e.inputPlaceholder||e.inputLabel),n};Fn.textarea=(t,e)=>{Yg(t,e.inputValue),gw(t,e),If(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(rn()).width),i=()=>{if(!document.body.contains(t))return;const s=t.offsetWidth+n(t);s>r?rn().style.width=`${s}px`:hu(rn(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const y9=(t,e)=>{const n=aw();n&&(dw(n),Vi(n,e,"htmlContainer"),e.html?(pw(e.html,n),mr(n,"block")):e.text?(n.textContent=e.text,mr(n,"block")):Wr(n),f9(t,e))},w9=(t,e)=>{const n=QC();n&&(dw(n),xf(n,e.footer,"block"),e.footer&&pw(e.footer,n),Vi(n,e,"footer"))},_9=(t,e)=>{const n=fn.innerParams.get(t),r=Af();if(r){if(n&&e.icon===n.icon){Wb(r,e),Hb(r,e);return}if(!e.icon&&!e.iconHtml){Wr(r);return}if(e.icon&&Object.keys(Qg).indexOf(e.icon)===-1){Ou(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Wr(r);return}mr(r),Wb(r,e),Hb(r,e),$t(r,e.showClass&&e.showClass.icon)}},Hb=(t,e)=>{for(const[n,r]of Object.entries(Qg))e.icon!==n&&ho(t,r);$t(t,e.icon&&Qg[e.icon]),L9(t,e),b9(),Vi(t,e,"icon")},b9=()=>{const t=rn();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},E9=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,S9=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Wb=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=Gb(e.iconHtml):e.icon==="success"?(r=E9,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=S9:e.icon&&(r=Gb({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&$i(t,r)},L9=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qb(t,n,"background-color",e.iconColor);qb(t,".swal2-success-ring","border-color",e.iconColor)}},Gb=t=>`<div class="${Le["icon-content"]}">${t}</div>`,A9=(t,e)=>{const n=KC();if(n){if(!e.imageUrl){Wr(n);return}mr(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),hu(n,"width",e.imageWidth),hu(n,"height",e.imageHeight),n.className=Le.image,Vi(n,e,"image")}},C9=(t,e)=>{const n=Si(),r=rn();if(!(!n||!r)){if(e.toast){hu(n,"width",e.width),r.style.width="100%";const i=Eh();i&&r.insertBefore(i,Af())}else hu(r,"width",e.width);hu(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Wr(nv()),x9(r,e)}},x9=(t,e)=>{const n=e.showClass||{};t.className=`${Le.popup} ${bi(t)?n.popup:""}`,e.toast?($t([document.documentElement,document.body],Le["toast-shown"]),$t(t,Le.toast)):$t(t,Le.modal),Vi(t,e,"popup"),typeof e.customClass=="string"&&$t(t,e.customClass),e.icon&&$t(t,Le[`icon-${e.icon}`])},I9=(t,e)=>{const n=lw();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){Wr(n);return}mr(n),n.textContent="",i>=r.length&&Ei("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((s,o)=>{const a=P9(s);if(n.appendChild(a),o===i&&$t(a,Le["active-progress-step"]),o!==r.length-1){const l=T9(e);n.appendChild(l)}})},P9=t=>{const e=document.createElement("li");return $t(e,Le["progress-step"]),$i(e,t),e},T9=t=>{const e=document.createElement("li");return $t(e,Le["progress-step-line"]),t.progressStepsDistance&&hu(e,"width",t.progressStepsDistance),e},k9=(t,e)=>{const n=GC();n&&(dw(n),xf(n,e.title||e.titleText,"block"),e.title&&pw(e.title,n),e.titleText&&(n.innerText=e.titleText),Vi(n,e,"title"))},ex=(t,e)=>{C9(t,e),l9(t,e),I9(t,e),_9(t,e),A9(t,e),k9(t,e),a9(t,e),y9(t,e),i9(t,e),w9(t,e);const n=rn();typeof e.didRender=="function"&&n&&e.didRender(n),ct.eventEmitter.emit("didRender",n)},N9=()=>bi(rn()),tx=()=>{var t;return(t=co())===null||t===void 0?void 0:t.click()},R9=()=>{var t;return(t=Mu())===null||t===void 0?void 0:t.click()},O9=()=>{var t;return(t=bh())===null||t===void 0?void 0:t.click()},Sh=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),nx=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},M9=(t,e,n)=>{nx(t),e.toast||(t.keydownHandler=r=>j9(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:rn(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Q1=(t,e)=>{var n;const r=cw();if(r.length){t=t+e,t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=rn())===null||n===void 0||n.focus()},rx=["ArrowRight","ArrowDown"],D9=["ArrowLeft","ArrowUp"],j9=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?F9(e,t):e.key==="Tab"?B9(e):[...rx,...D9].includes(e.key)?V9(e.key):e.key==="Escape"&&U9(e,t,n)))},F9=(t,e)=>{if(!tv(e.allowEnterKey))return;const n=sv(rn(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;tx(),t.preventDefault()}},B9=t=>{const e=t.target,n=cw();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?Q1(r,-1):Q1(r,1),t.stopPropagation(),t.preventDefault()},V9=t=>{const e=Cf(),n=co(),r=Mu(),i=bh();if(!e||!n||!r||!i)return;const s=[n,r,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const o=rx.includes(t)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let l=0;l<e.children.length;l++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&bi(a))break}a instanceof HTMLButtonElement&&a.focus()}},U9=(t,e,n)=>{tv(e.allowEscapeKey)&&(t.preventDefault(),n(Sh.esc))};var uh={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const z9=()=>{const t=Si();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},ix=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},sx=typeof window<"u"&&!!window.GestureEvent,q9=()=>{if(sx&&!$o(document.body,Le.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,$t(document.body,Le.iosfix),$9()}},$9=()=>{const t=Si();if(!t)return;let e;t.ontouchstart=n=>{e=H9(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},H9=t=>{const e=t.target,n=Si(),r=aw();return!n||!r||W9(t)||G9(t)?!1:e===n||!$b(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!($b(r)&&r.contains(e))},W9=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",G9=t=>t.touches&&t.touches.length>1,K9=()=>{if($o(document.body,Le.iosfix)){const t=parseInt(document.body.style.top,10);ho(document.body,Le.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Q9=()=>{const t=document.createElement("div");t.className=Le["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let zc=null;const Y9=t=>{zc===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(zc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${zc+Q9()}px`)},J9=()=>{zc!==null&&(document.body.style.paddingRight=`${zc}px`,zc=null)};function ox(t,e,n,r){iv()?Kb(t,r):(jj(n).then(()=>Kb(t,r)),nx(ct)),sx?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),hw()&&(J9(),K9(),ix()),X9()}function X9(){ho([document.documentElement,document.body],[Le.shown,Le["height-auto"],Le["no-backdrop"],Le["toast-shown"]])}function Qa(t){t=eF(t);const e=uh.swalPromiseResolve.get(this),n=Z9(this);this.isAwaitingPromise?t.isDismissed||(Pf(this),e(t)):n&&e(t)}const Z9=t=>{const e=rn();if(!e)return!1;const n=fn.innerParams.get(t);if(!n||$o(e,n.hideClass.popup))return!1;ho(e,n.showClass.popup),$t(e,n.hideClass.popup);const r=Si();return ho(r,n.showClass.backdrop),$t(r,n.hideClass.backdrop),tF(t,e,n),!0};function ax(t){const e=uh.swalPromiseReject.get(this);Pf(this),e&&e(t)}const Pf=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,fn.innerParams.get(t)||t._destroy())},eF=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),tF=(t,e,n)=>{var r;const i=Si(),s=XC(e);typeof n.willClose=="function"&&n.willClose(e),(r=ct.eventEmitter)===null||r===void 0||r.emit("willClose",e),s?nF(t,e,i,n.returnFocus,n.didClose):ox(t,i,n.returnFocus,n.didClose)},nF=(t,e,n,r,i)=>{ct.swalCloseEventFinishedCallback=ox.bind(null,t,n,r,i);const s=function(o){if(o.target===e){var a;(a=ct.swalCloseEventFinishedCallback)===null||a===void 0||a.call(ct),delete ct.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s)}};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},Kb=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ct.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},ch=t=>{let e=rn();if(e||new Gt,e=rn(),!e)return;const n=Eh();iv()?Wr(Af()):rF(e,t),mr(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},rF=(t,e)=>{const n=Cf(),r=Eh();!n||!r||(!e&&bi(co())&&(e=co()),mr(n),e&&(Wr(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),$t([t,n],Le.loading))},iF=(t,e)=>{e.input==="select"||e.input==="radio"?uF(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(sw(e.inputValue)||ow(e.inputValue))&&(ch(co()),cF(t,e))},sF=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return oF(n);case"radio":return aF(n);case"file":return lF(n);default:return e.inputAutoTrim?n.value.trim():n.value}},oF=t=>t.checked?1:0,aF=t=>t.checked?t.value:null,lF=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,uF=(t,e)=>{const n=rn();if(!n)return;const r=i=>{e.input==="select"?hF(n,Jg(i),e):e.input==="radio"&&dF(n,Jg(i),e)};sw(e.inputOptions)||ow(e.inputOptions)?(ch(co()),Sf(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):Ou(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},cF=(t,e)=>{const n=t.getInput();n&&(Wr(n),Sf(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,mr(n),n.focus(),t.hideLoading()}).catch(r=>{Ou(`Error in inputValue promise: ${r}`),n.value="",mr(n),n.focus(),t.hideLoading()}))};function hF(t,e,n){const r=Ka(t,Le.select);if(!r)return;const i=(s,o,a)=>{const l=document.createElement("option");l.value=a,$i(l,o),l.selected=lx(a,n.inputValue),s.appendChild(l)};e.forEach(s=>{const o=s[0],a=s[1];if(Array.isArray(a)){const l=document.createElement("optgroup");l.label=o,l.disabled=!1,r.appendChild(l),a.forEach(c=>i(l,c[1],c[0]))}else i(r,a,o)}),r.focus()}function dF(t,e,n){const r=Ka(t,Le.radio);if(!r)return;e.forEach(s=>{const o=s[0],a=s[1],l=document.createElement("input"),c=document.createElement("label");l.type="radio",l.name=Le.radio,l.value=o,lx(o,n.inputValue)&&(l.checked=!0);const d=document.createElement("span");$i(d,a),d.className=Le.label,c.appendChild(l),c.appendChild(d),r.appendChild(c)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const Jg=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=Jg(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Jg(r)),e.push([n,r])}),e},lx=(t,e)=>!!e&&e.toString()===t.toString(),fF=t=>{const e=fn.innerParams.get(t);t.disableButtons(),e.input?ux(t,"confirm"):vw(t,!0)},pF=t=>{const e=fn.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?ux(t,"deny"):mw(t,!1)},gF=(t,e)=>{t.disableButtons(),e(Sh.cancel)},ux=(t,e)=>{const n=fn.innerParams.get(t);if(!n.input){Ou(`The "input" parameter is needed to be set when using returnInputValueOn${iw(e)}`);return}const r=t.getInput(),i=sF(t,n);n.inputValidator?mF(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?mw(t,i):vw(t,i)},mF=(t,e,n)=>{const r=fn.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Sf(r.inputValidator(e,r.validationMessage))).then(s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):n==="deny"?mw(t,e):vw(t,e)})},mw=(t,e)=>{const n=fn.innerParams.get(t||void 0);n.showLoaderOnDeny&&ch(Mu()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Sf(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),Pf(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>cx(t||void 0,i))):t.close({isDenied:!0,value:e})},Qb=(t,e)=>{t.close({isConfirmed:!0,value:e})},cx=(t,e)=>{t.rejectPromise(e)},vw=(t,e)=>{const n=fn.innerParams.get(t||void 0);n.showLoaderOnConfirm&&ch(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Sf(n.preConfirm(e,n.validationMessage))).then(i=>{bi(nv())||i===!1?(t.hideLoading(),Pf(t)):Qb(t,typeof i>"u"?e:i)}).catch(i=>cx(t||void 0,i))):Qb(t,e)};function Xg(){const t=fn.innerParams.get(this);if(!t)return;const e=fn.domCache.get(this);Wr(e.loader),iv()?t.icon&&mr(Af()):vF(e),ho([e.popup,e.actions],Le.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const vF=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?mr(e[0],"inline-block"):Wj()&&Wr(t.actions)};function hx(){const t=fn.innerParams.get(this),e=fn.domCache.get(this);return e?sv(e.popup,t.input):null}function dx(t,e,n){const r=fn.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function fx(t,e){const n=rn();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Le.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function px(){dx(this,["confirmButton","denyButton","cancelButton"],!1)}function gx(){dx(this,["confirmButton","denyButton","cancelButton"],!0)}function mx(){fx(this.getInput(),!1)}function vx(){fx(this.getInput(),!0)}function yx(t){const e=fn.domCache.get(this),n=fn.innerParams.get(this);$i(e.validationMessage,t),e.validationMessage.className=Le["validation-message"],n.customClass&&n.customClass.validationMessage&&$t(e.validationMessage,n.customClass.validationMessage),mr(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Le["validation-message"]),YC(r),$t(r,Le.inputerror))}function wx(){const t=fn.domCache.get(this);t.validationMessage&&Wr(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ho(e,Le.inputerror))}const qc={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},yF=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],wF={allowEnterKey:void 0},_F=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],_x=t=>Object.prototype.hasOwnProperty.call(qc,t),bx=t=>yF.indexOf(t)!==-1,Ex=t=>wF[t],bF=t=>{_x(t)||Ei(`Unknown parameter "${t}"`)},EF=t=>{_F.includes(t)&&Ei(`The parameter "${t}" is incompatible with toasts`)},SF=t=>{const e=Ex(t);e&&WC(t,e)},LF=t=>{t.backdrop===!1&&t.allowOutsideClick&&Ei('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)bF(e),t.toast&&EF(e),SF(e)};function Sx(t){const e=rn(),n=fn.innerParams.get(this);if(!e||$o(e,n.hideClass.popup)){Ei("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=AF(t),i=Object.assign({},n,r);ex(this,i),fn.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const AF=t=>{const e={};return Object.keys(t).forEach(n=>{bx(n)?e[n]=t[n]:Ei(`Invalid parameter to update: ${n}`)}),e};function Lx(){const t=fn.domCache.get(this),e=fn.innerParams.get(this);if(!e){Ax(this);return}t.popup&&ct.swalCloseEventFinishedCallback&&(ct.swalCloseEventFinishedCallback(),delete ct.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ct.eventEmitter.emit("didDestroy"),CF(this)}const CF=t=>{Ax(t),delete t.params,delete ct.keydownHandler,delete ct.keydownTarget,delete ct.currentInstance},Ax=t=>{t.isAwaitingPromise?(g0(fn,t),t.isAwaitingPromise=!0):(g0(uh,t),g0(fn,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},g0=(t,e)=>{for(const n in t)t[n].delete(e)};var xF=Object.freeze({__proto__:null,_destroy:Lx,close:Qa,closeModal:Qa,closePopup:Qa,closeToast:Qa,disableButtons:gx,disableInput:vx,disableLoading:Xg,enableButtons:px,enableInput:mx,getInput:hx,handleAwaitingPromise:Pf,hideLoading:Xg,rejectPromise:ax,resetValidationMessage:wx,showValidationMessage:yx,update:Sx});const IF=(t,e,n)=>{t.toast?PF(t,e,n):(kF(e),NF(e),RF(t,e,n))},PF=(t,e,n)=>{e.popup.onclick=()=>{t&&(TF(t)||t.timer||t.input)||n(Sh.close)}},TF=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Zg=!1;const kF=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Zg=!0)}}},NF=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Zg=!0)}}},RF=(t,e,n)=>{e.container.onclick=r=>{if(Zg){Zg=!1;return}r.target===e.container&&tv(t.allowOutsideClick)&&n(Sh.backdrop)}},OF=t=>typeof t=="object"&&t.jquery,Yb=t=>t instanceof Element||OF(t),MF=t=>{const e={};return typeof t[0]=="object"&&!Yb(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||Yb(i)?e[n]=i:i!==void 0&&Ou(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function DF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function jF(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const FF=()=>ct.timeout&&ct.timeout.getTimerLeft(),Cx=()=>{if(ct.timeout)return Gj(),ct.timeout.stop()},xx=()=>{if(ct.timeout){const t=ct.timeout.start();return fw(t),t}},BF=()=>{const t=ct.timeout;return t&&(t.running?Cx():xx())},VF=t=>{if(ct.timeout){const e=ct.timeout.increase(t);return fw(e,!0),e}},UF=()=>!!(ct.timeout&&ct.timeout.isRunning());let Jb=!1;const Y1={};function zF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Y1[t]=this,Jb||(document.body.addEventListener("click",qF),Jb=!0)}const qF=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Y1){const r=e.getAttribute(n);if(r){Y1[n].fire({template:r});return}}};class $F{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){var r=this;const i=function(){r.removeListener(e,i);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];n.apply(r,o)};this.on(e,i)}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,r)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ct.eventEmitter=new $F;const HF=(t,e)=>{ct.eventEmitter.on(t,e)},WF=(t,e)=>{ct.eventEmitter.once(t,e)},GF=(t,e)=>{if(!t){ct.eventEmitter.reset();return}e?ct.eventEmitter.removeListener(t,e):ct.eventEmitter.removeAllListeners(t)};var KF=Object.freeze({__proto__:null,argsToParams:MF,bindClickHandler:zF,clickCancel:O9,clickConfirm:tx,clickDeny:R9,enableLoading:ch,fire:DF,getActions:Cf,getCancelButton:bh,getCloseButton:uw,getConfirmButton:co,getContainer:Si,getDenyButton:Mu,getFocusableElements:cw,getFooter:QC,getHtmlContainer:aw,getIcon:Af,getIconContent:Uj,getImage:KC,getInputLabel:zj,getLoader:Eh,getPopup:rn,getProgressSteps:lw,getTimerLeft:FF,getTimerProgressBar:rv,getTitle:GC,getValidationMessage:nv,increaseTimer:VF,isDeprecatedParameter:Ex,isLoading:$j,isTimerRunning:UF,isUpdatableParameter:bx,isValidParameter:_x,isVisible:N9,mixin:jF,off:GF,on:HF,once:WF,resumeTimer:xx,showLoading:ch,stopTimer:Cx,toggleTimer:BF});class QF{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ix=["swal-title","swal-html","swal-footer"],YF=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return iB(n),Object.assign(JF(n),XF(n),ZF(n),eB(n),tB(n),nB(n),rB(n,Ix))},JF=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Lu(r,["name","value"]);const i=r.getAttribute("name"),s=r.getAttribute("value");!i||!s||(typeof qc[i]=="boolean"?e[i]=s!=="false":typeof qc[i]=="object"?e[i]=JSON.parse(s):e[i]=s)}),e},XF=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),s=r.getAttribute("value");!i||!s||(e[i]=new Function(`return ${s}`)())}),e},ZF=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Lu(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${iw(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},eB=t=>{const e={},n=t.querySelector("swal-image");return n&&(Lu(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},tB=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Lu(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},nB=t=>{const e={},n=t.querySelector("swal-input");n&&(Lu(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Lu(i,["value"]);const s=i.getAttribute("value");if(!s)return;const o=i.innerHTML;e.inputOptions[s]=o})),e},rB=(t,e)=>{const n={};for(const r in e){const i=e[r],s=t.querySelector(i);s&&(Lu(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},iB=t=>{const e=Ix.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Ei(`Unrecognized element <${r}>`)})},Lu=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Ei([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Px=10,sB=t=>{const e=Si(),n=rn();typeof t.willOpen=="function"&&t.willOpen(n),ct.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;lB(e,n,t),setTimeout(()=>{oB(e,n)},Px),hw()&&(aB(e,t.scrollbarPadding,i),z9()),!iv()&&!ct.previousActiveElement&&(ct.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ct.eventEmitter.emit("didOpen",n),ho(e,Le["no-transition"])},em=t=>{const e=rn();if(t.target!==e)return;const n=Si();e.removeEventListener("animationend",em),e.removeEventListener("transitionend",em),n.style.overflowY="auto"},oB=(t,e)=>{XC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",em),e.addEventListener("transitionend",em)):t.style.overflowY="auto"},aB=(t,e,n)=>{q9(),e&&n!=="hidden"&&Y9(n),setTimeout(()=>{t.scrollTop=0})},lB=(t,e,n)=>{$t(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),mr(e,"grid"),setTimeout(()=>{$t(e,n.showClass.popup),e.style.removeProperty("opacity")},Px)):mr(e,"grid"),$t([document.documentElement,document.body],Le.shown),n.heightAuto&&n.backdrop&&!n.toast&&$t([document.documentElement,document.body],Le["height-auto"])};var Xb={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function uB(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=Xb.email),t.input==="url"&&(t.inputValidator=Xb.url))}function cB(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Ei('Target parameter is not valid, defaulting to "body"'),t.target="body")}function hB(t){uB(t),t.showLoaderOnConfirm&&!t.preConfirm&&Ei(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),cB(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),t9(t)}let Ks;var Lp=new WeakMap;class $n{constructor(){if(Rj(this,Lp,void 0),typeof window>"u")return;Ks=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=Object.freeze(this.constructor.argsToParams(n));this.params=i,this.isAwaitingPromise=!1,Oj(Lp,this,this._main(Ks.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(LF(Object.assign({},n,e)),ct.currentInstance){const s=uh.swalPromiseResolve.get(ct.currentInstance),{isAwaitingPromise:o}=ct.currentInstance;ct.currentInstance._destroy(),o||s({isDismissed:!0}),hw()&&ix()}ct.currentInstance=Ks;const r=fB(e,n);hB(r),Object.freeze(r),ct.timeout&&(ct.timeout.stop(),delete ct.timeout),clearTimeout(ct.restoreFocusTimeout);const i=pB(Ks);return ex(Ks,r),fn.innerParams.set(Ks,r),dB(Ks,i,r)}then(e){return Ub(Lp,this).then(e)}finally(e){return Ub(Lp,this).finally(e)}}const dB=(t,e,n)=>new Promise((r,i)=>{const s=o=>{t.close({isDismissed:!0,dismiss:o})};uh.swalPromiseResolve.set(t,r),uh.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{fF(t)},e.denyButton.onclick=()=>{pF(t)},e.cancelButton.onclick=()=>{gF(t,s)},e.closeButton.onclick=()=>{s(Sh.close)},IF(n,e,s),M9(ct,n,s),iF(t,n),sB(n),gB(ct,n,s),mB(e,n),setTimeout(()=>{e.container.scrollTop=0})}),fB=(t,e)=>{const n=YF(t),r=Object.assign({},qc,e,n,t);return r.showClass=Object.assign({},qc.showClass,r.showClass),r.hideClass=Object.assign({},qc.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},pB=t=>{const e={popup:rn(),container:Si(),actions:Cf(),confirmButton:co(),denyButton:Mu(),cancelButton:bh(),loader:Eh(),closeButton:uw(),validationMessage:nv(),progressSteps:lw()};return fn.domCache.set(t,e),e},gB=(t,e,n)=>{const r=rv();Wr(r),e.timer&&(t.timeout=new QF(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(mr(r),Vi(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&fw(e.timer)})))},mB=(t,e)=>{if(!e.toast){if(!tv(e.allowEnterKey)){WC("allowEnterKey"),wB();return}vB(t)||yB(t,e)||Q1(-1,1)}},vB=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&bi(n))return n.focus(),!0;return!1},yB=(t,e)=>e.focusDeny&&bi(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&bi(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&bi(t.confirmButton)?(t.confirmButton.focus(),!0):!1,wB=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}$n.prototype.disableButtons=gx;$n.prototype.enableButtons=px;$n.prototype.getInput=hx;$n.prototype.disableInput=vx;$n.prototype.enableInput=mx;$n.prototype.hideLoading=Xg;$n.prototype.disableLoading=Xg;$n.prototype.showValidationMessage=yx;$n.prototype.resetValidationMessage=wx;$n.prototype.close=Qa;$n.prototype.closePopup=Qa;$n.prototype.closeModal=Qa;$n.prototype.closeToast=Qa;$n.prototype.rejectPromise=ax;$n.prototype.update=Sx;$n.prototype._destroy=Lx;Object.assign($n,KF);Object.keys(xF).forEach(t=>{$n[t]=function(){return Ks&&Ks[t]?Ks[t](...arguments):null}});$n.DismissReason=Sh;$n.version="11.14.5";const Gt=$n;Gt.default=Gt;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');var Tx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zb=Xa.createContext&&Xa.createContext(Tx),_B=["attr","size","title"];function bB(t,e){if(t==null)return{};var n=EB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function eE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(r){SB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SB(t,e,n){return e=LB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LB(t){var e=AB(t,"string");return typeof e=="symbol"?e:e+""}function AB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kx(t){return t&&t.map((e,n)=>Xa.createElement(e.tag,nm({key:n},e.attr),kx(e.child)))}function Du(t){return e=>Xa.createElement(CB,tm({attr:nm({},t.attr)},e),kx(t.child))}function CB(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=bB(t,_B),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Xa.createElement("svg",tm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:nm(nm({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Xa.createElement("title",null,s),t.children)};return Zb!==void 0?Xa.createElement(Zb.Consumer,null,n=>e(n)):e(Tx)}function Nx(t){return Du({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5zm-63.57-320.64L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 0 0 0 11.31L155.17 889a8 8 0 0 0 11.31 0l712.15-712.12a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z"},child:[]},{tag:"path",attr:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 0 0 227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 0 1-112 112z"},child:[]}]})(t)}function Rx(t){return Du({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(t)}function xB(t){return Du({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 1 0-56 0z"},child:[]}]})(t)}function IB(t){return Du({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"},child:[]}]})(t)}function Ap(t){return Du({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"},child:[]}]})(t)}function PB(){const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),[l,c]=A.useState(""),[d,p]=A.useState(""),[m,g]=A.useState(!1),E=cf(),S=_=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(_),I=()=>{if(!l||!d||!t||!i){Gt.fire({title:"Error!",text:"Por favor, complete todos los campos.",icon:"error",confirmButtonText:"OK"});return}if(!S(l)){Gt.fire({title:"Error!",text:"Por favor, ingresa un correo electrnico vlido.",icon:"error",confirmButtonText:"OK"});return}if(d.length<6){Gt.fire({title:"Error!",text:"La contrasea debe tener al menos 6 caracteres.",icon:"error",confirmButtonText:"OK"});return}Gt.fire({title:"Ests seguro?",text:"Quieres crear esta cuenta con el correo: "+l+"?",icon:"warning",showCancelButton:!0,confirmButtonText:"S, crear cuenta",cancelButtonText:"No, cancelar",reverseButtons:!0}).then(_=>{_.isConfirmed&&WR(zC,l,d).then(b=>{const B={uid:b.user.uid,primerNombre:t,segundoNombre:n,primerApellido:i,segundoApellido:o,email:l,password:d,createdAt:new Date};ev(oo(rr,"Usuarios"),B).then(()=>{Gt.fire({title:"Cuenta creada!",text:"Tu cuenta ha sido creada con xito.",icon:"success",confirmButtonText:"OK"}),E("/")}).catch(z=>{console.error("Error al guardar los datos en Firestore",z),Gt.fire({title:"Error!",text:"Hubo un problema al guardar los datos.",icon:"error",confirmButtonText:"OK"})})}).catch(b=>{console.error("Error al crear cuenta",b),Gt.fire({title:"Error!",text:"Hubo un problema al crear la cuenta.",icon:"error",confirmButtonText:"OK"})})})};return Y.jsxs("div",{className:"create-account",children:[Y.jsx("div",{className:"login-background",children:Y.jsx("img",{src:"https://wallpapers.com/images/hd/botanical-garden-1920-x-1080-wallpaper-l83b48hixd1iiozt.jpg",alt:"Background"})}),Y.jsx("div",{className:"background-image",children:Y.jsxs("div",{className:"container",children:[Y.jsx("img",{src:"https://thumbs.dreamstime.com/b/texto-verde-de-la-palabra-escrita-mano-botanica-hoja-para-el-dise%C3%B1o-del-logotipo-tipograf%C3%ADa-138739737.jpg",alt:"logo",className:"logo-img"}),Y.jsx("h2",{className:"title",children:"Crear Cuenta de Usuario"}),Y.jsxs("div",{className:"input-group",children:[Y.jsx(Ap,{className:"input-icon"}),Y.jsx("input",{type:"text",value:t,onChange:_=>e(_.target.value),placeholder:"Primer Nombre",className:"input"})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx(Ap,{className:"input-icon"}),Y.jsx("input",{type:"text",value:n,onChange:_=>r(_.target.value),placeholder:"Segundo Nombre",className:"input"})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx(Ap,{className:"input-icon"}),Y.jsx("input",{type:"text",value:i,onChange:_=>s(_.target.value),placeholder:"Primer Apellido",className:"input"})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx(Ap,{className:"input-icon"}),Y.jsx("input",{type:"text",value:o,onChange:_=>a(_.target.value),placeholder:"Segundo Apellido",className:"input"})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx(IB,{className:"input-icon"}),Y.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Ingrese su correo",className:"input"})]}),Y.jsxs("div",{className:"password-input",children:[Y.jsxs("div",{className:"input-group",children:[Y.jsx(xB,{className:"input-icon"}),Y.jsx("input",{type:m?"text":"password",value:d,onChange:_=>p(_.target.value),placeholder:"Ingrese su contrasea",className:"input"})]}),Y.jsx("span",{className:"toggle-password",onClick:()=>g(!m),children:m?Y.jsx(Nx,{}):Y.jsx(Rx,{})})]}),Y.jsx("button",{onClick:I,className:"create-account-btn",children:"Crear Cuenta"}),Y.jsxs("div",{className:"footer",children:[Y.jsx("span",{children:"Ya tienes cuenta?"}),Y.jsx("button",{onClick:()=>E("/"),className:"login-btn",children:"Iniciar sesin"})]})]})})]})}function TB(t){return Du({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"},child:[]}]})(t)}function kB(t){return Du({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM5 10V20H19V10H5ZM11 14H13V16H11V14ZM7 14H9V16H7V14ZM15 14H17V16H15V14ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16Z"},child:[]}]})(t)}function NB(){const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,s]=A.useState(!1),o=cf(),a=async()=>{try{const c=oo(rr,"Usuarios"),d=Rb(c,h0("email","==",t),h0("password","==",n));(await Eu(d)).empty?Gt.fire({title:"Error",text:"Correo o contrasea incorrectos.",icon:"error",confirmButtonText:"OK"}):(Gt.fire({title:"Bienvenido!",text:"Inicio de sesin exitoso.",icon:"success",confirmButtonText:"OK"}),o("/dashboard"))}catch(c){console.error("Error al iniciar sesin",c),Gt.fire({title:"Error",text:"Hubo un problema al iniciar sesin.",icon:"error",confirmButtonText:"OK"})}},l=async()=>{const c=new Do;try{const p=(await pO(zC,c)).user,m=Rb(oo(rr,"Usuarios"),h0("email","==",p.email));(await Eu(m)).empty&&await ev(oo(rr,"Usuarios"),{email:p.email,displayName:p.displayName,uid:p.uid}),Gt.fire({title:"Bienvenido!",text:`Has iniciado sesin como ${p.displayName}`,icon:"success",confirmButtonText:"OK"}),o("/dashboard")}catch(d){console.error("Error al iniciar sesin con Google",d),Gt.fire({title:"Error",text:"Hubo un problema al iniciar sesin con Google.",icon:"error",confirmButtonText:"OK"})}};return Y.jsxs("div",{className:"login-container",children:[Y.jsx("div",{className:"login-background",children:Y.jsx("img",{src:"https://wallpapers.com/images/hd/botanical-garden-1920-x-1080-wallpaper-l83b48hixd1iiozt.jpg",alt:"Background"})}),Y.jsxs("div",{className:"login-box",children:[Y.jsx("img",{src:"https://thumbs.dreamstime.com/b/texto-verde-de-la-palabra-escrita-mano-botanica-hoja-para-el-dise%C3%B1o-del-logotipo-tipograf%C3%ADa-138739737.jpg",alt:"logo",className:"login-logo"}),Y.jsx("h2",{className:"welcome-text",children:"Bienvenidos"}),Y.jsxs("div",{className:"form-group",children:[Y.jsxs("div",{className:"diseo",children:[Y.jsx(TB,{}),Y.jsx("label",{children:"Usuario"})]}),Y.jsx("input",{type:"text",value:t,onChange:c=>e(c.target.value),placeholder:"Ingrese su usuario o correo"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsxs("div",{className:"diseo",children:[Y.jsx(kB,{}),Y.jsx("label",{children:"Contrasea"})]}),Y.jsx("input",{type:i?"text":"password",value:n,onChange:c=>r(c.target.value),placeholder:"*********"}),Y.jsx("span",{className:"toggle-visibility",onClick:()=>s(!i),children:i?Y.jsx(Nx,{}):Y.jsx(Rx,{})})]}),Y.jsx("button",{onClick:a,className:"login-button",children:"Iniciar"}),Y.jsx("div",{className:"social-login",children:Y.jsx("button",{onClick:l,className:"google-login-button",children:"Iniciar sesin con Google"})}),Y.jsxs("div",{className:"register",children:[Y.jsx("p",{children:"No tiene cuenta?"}),Y.jsx("button",{onClick:()=>o("/create-account"),className:"register-button",children:"Registrarse"})]})]})]})}const RB=()=>{const t=cf(),e=()=>{Gt.fire({title:"Ests seguro?",text:"Se cerrar tu sesin!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S, cerrar sesin",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&t("/")})};return Y.jsx("div",{children:Y.jsx("button",{className:"cerrarSession",onClick:e,children:"Cerrar sesin"})})},Cp=()=>{const t=cf();return Y.jsxs("header",{className:"header",children:[Y.jsx("div",{className:"overlay"}),Y.jsx("h1",{className:"Titulo",children:"Campo botnico"}),Y.jsxs("nav",{className:"botones_encabezado",children:[Y.jsx("button",{className:"cerrarSession",onClick:()=>t("/dashboard"),children:"Inicio"}),Y.jsx("button",{className:"cerrarSession",onClick:()=>t("/crudUsuarios"),children:"Administrar Usuarios"}),Y.jsx("button",{className:"cerrarSession",onClick:()=>t("/Crud_Bitacora"),children:"Administrar Bitacoras"}),Y.jsx(RB,{})]})]})},OB="modulepreload",MB=function(t){return"/ProyectoFinal_WEB/"+t},tE={},J1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=MB(l),l in tE)return;tE[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":OB,c||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),c)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function tn(t){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(t)}var qr=Uint8Array,ji=Uint16Array,yw=Int32Array,ov=new qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),av=new qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),X1=new qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ox=function(t,e){for(var n=new ji(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new yw(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Mx=Ox(ov,2),Dx=Mx.b,Z1=Mx.r;Dx[28]=258,Z1[258]=28;var jx=Ox(av,0),DB=jx.b,nE=jx.r,e2=new ji(32768);for(var _n=0;_n<32768;++_n){var Na=(_n&43690)>>1|(_n&21845)<<1;Na=(Na&52428)>>2|(Na&13107)<<2,Na=(Na&61680)>>4|(Na&3855)<<4,e2[_n]=((Na&65280)>>8|(Na&255)<<8)>>1}var ao=function(t,e,n){for(var r=t.length,i=0,s=new ji(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ji(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ji(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],d=e-t[i],p=o[t[i]-1]++<<d,m=p|(1<<d)-1;p<=m;++p)a[e2[p]>>l]=c}else for(a=new ji(r),i=0;i<r;++i)t[i]&&(a[i]=e2[o[t[i]-1]++]>>15-t[i]);return a},wl=new qr(288);for(var _n=0;_n<144;++_n)wl[_n]=8;for(var _n=144;_n<256;++_n)wl[_n]=9;for(var _n=256;_n<280;++_n)wl[_n]=7;for(var _n=280;_n<288;++_n)wl[_n]=8;var tf=new qr(32);for(var _n=0;_n<32;++_n)tf[_n]=5;var jB=ao(wl,9,0),FB=ao(wl,9,1),BB=ao(tf,5,0),VB=ao(tf,5,1),m0=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ys=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},v0=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},ww=function(t){return(t+7)/8|0},Fx=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new qr(t.subarray(e,n))},UB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],bs=function(t,e,n){var r=new Error(e||UB[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,bs),!n)throw r;return r},zB=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new qr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new qr(i*3));var c=function(Ce){var Be=n.length;if(Ce>Be){var Ve=new qr(Math.max(Be*2,Ce));Ve.set(n),n=Ve}},d=e.f||0,p=e.p||0,m=e.b||0,g=e.l,E=e.d,S=e.m,I=e.n,_=i*8;do{if(!g){d=ys(t,p,1);var b=ys(t,p+1,3);if(p+=3,b)if(b==1)g=FB,E=VB,S=9,I=5;else if(b==2){var K=ys(t,p,31)+257,N=ys(t,p+10,15)+4,x=K+ys(t,p+5,31)+1;p+=14;for(var k=new qr(x),F=new qr(19),L=0;L<N;++L)F[X1[L]]=ys(t,p+L*3,7);p+=N*3;for(var T=m0(F),O=(1<<T)-1,X=ao(F,T,1),L=0;L<x;){var fe=X[ys(t,p,O)];p+=fe&15;var R=fe>>4;if(R<16)k[L++]=R;else{var ge=0,ve=0;for(R==16?(ve=3+ys(t,p,3),p+=2,ge=k[L-1]):R==17?(ve=3+ys(t,p,7),p+=3):R==18&&(ve=11+ys(t,p,127),p+=7);ve--;)k[L++]=ge}}var ee=k.subarray(0,K),ie=k.subarray(K);S=m0(ee),I=m0(ie),g=ao(ee,S,1),E=ao(ie,I,1)}else bs(1);else{var R=ww(p)+4,B=t[R-4]|t[R-3]<<8,z=R+B;if(z>i){l&&bs(0);break}a&&c(m+B),n.set(t.subarray(R,z),m),e.b=m+=B,e.p=p=z*8,e.f=d;continue}if(p>_){l&&bs(0);break}}a&&c(m+131072);for(var ae=(1<<S)-1,Ie=(1<<I)-1,M=p;;M=p){var ge=g[v0(t,p)&ae],H=ge>>4;if(p+=ge&15,p>_){l&&bs(0);break}if(ge||bs(2),H<256)n[m++]=H;else if(H==256){M=p,g=null;break}else{var J=H-254;if(H>264){var L=H-257,G=ov[L];J=ys(t,p,(1<<G)-1)+Dx[L],p+=G}var ne=E[v0(t,p)&Ie],ue=ne>>4;ne||bs(3),p+=ne&15;var ie=DB[ue];if(ue>3){var G=av[ue];ie+=v0(t,p)&(1<<G)-1,p+=G}if(p>_){l&&bs(0);break}a&&c(m+131072);var he=m+J;if(m<ie){var me=s-ie,Ee=Math.min(ie,he);for(me+m<0&&bs(3);m<Ee;++m)n[m]=r[me+m]}for(;m<he;++m)n[m]=n[m-ie]}}e.l=g,e.p=M,e.b=m,e.f=d,g&&(d=1,e.m=S,e.d=E,e.n=I)}while(!d);return m!=n.length&&o?Fx(n,0,m):n.subarray(0,m)},Ro=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Xh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},y0=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Vx,l:0};if(i==1){var o=new qr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(z,K){return z.f-K.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,d=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=n[n[c].f<n[p].f?c++:p++],l=n[c!=d&&n[c].f<n[p].f?c++:p++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var g=new ji(m+1),E=t2(n[d-1],g,0);if(E>e){var r=0,S=0,I=E-e,_=1<<I;for(s.sort(function(K,N){return g[N.s]-g[K.s]||K.f-N.f});r<i;++r){var b=s[r].s;if(g[b]>e)S+=_-(1<<E-g[b]),g[b]=e;else break}for(S>>=I;S>0;){var R=s[r].s;g[R]<e?S-=1<<e-g[R]++-1:++r}for(;r>=0&&S;--r){var B=s[r].s;g[B]==e&&(--g[B],++S)}E=e}return{t:new qr(g),l:E}},t2=function(t,e,n){return t.s==-1?Math.max(t2(t.l,e,n+1),t2(t.r,e,n+1)):e[t.s]=n},rE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ji(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Zh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Bx=function(t,e,n){var r=n.length,i=ww(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},iE=function(t,e,n,r,i,s,o,a,l,c,d){Ro(e,d++,n),++i[256];for(var p=y0(i,15),m=p.t,g=p.l,E=y0(s,15),S=E.t,I=E.l,_=rE(m),b=_.c,R=_.n,B=rE(S),z=B.c,K=B.n,N=new ji(19),x=0;x<b.length;++x)++N[b[x]&31];for(var x=0;x<z.length;++x)++N[z[x]&31];for(var k=y0(N,7),F=k.t,L=k.l,T=19;T>4&&!F[X1[T-1]];--T);var O=c+5<<3,X=Zh(i,wl)+Zh(s,tf)+o,fe=Zh(i,m)+Zh(s,S)+o+14+3*T+Zh(N,F)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&O<=X&&O<=fe)return Bx(e,d,t.subarray(l,l+c));var ge,ve,ee,ie;if(Ro(e,d,1+(fe<X)),d+=2,fe<X){ge=ao(m,g,0),ve=m,ee=ao(S,I,0),ie=S;var ae=ao(F,L,0);Ro(e,d,R-257),Ro(e,d+5,K-1),Ro(e,d+10,T-4),d+=14;for(var x=0;x<T;++x)Ro(e,d+3*x,F[X1[x]]);d+=3*T;for(var Ie=[b,z],M=0;M<2;++M)for(var H=Ie[M],x=0;x<H.length;++x){var J=H[x]&31;Ro(e,d,ae[J]),d+=F[J],J>15&&(Ro(e,d,H[x]>>5&127),d+=H[x]>>12)}}else ge=jB,ve=wl,ee=BB,ie=tf;for(var x=0;x<a;++x){var G=r[x];if(G>255){var J=G>>18&31;Xh(e,d,ge[J+257]),d+=ve[J+257],J>7&&(Ro(e,d,G>>23&31),d+=ov[J]);var ne=G&31;Xh(e,d,ee[ne]),d+=ie[ne],ne>3&&(Xh(e,d,G>>5&8191),d+=av[ne])}else Xh(e,d,ge[G]),d+=ve[G]}return Xh(e,d,ge[256]),d+ve[256]},qB=new yw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vx=new qr(0),$B=function(t,e,n,r,i,s){var o=s.z||t.length,a=new qr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var p=qB[e-1],m=p>>13,g=p&8191,E=(1<<n)-1,S=s.p||new ji(32768),I=s.h||new ji(E+1),_=Math.ceil(n/3),b=2*_,R=function(nt){return(t[nt]^t[nt+1]<<_^t[nt+2]<<b)&E},B=new yw(25e3),z=new ji(288),K=new ji(32),N=0,x=0,k=s.i||0,F=0,L=s.w||0,T=0;k+2<o;++k){var O=R(k),X=k&32767,fe=I[O];if(S[X]=fe,I[O]=X,L<=k){var ge=o-k;if((N>7e3||F>24576)&&(ge>423||!c)){d=iE(t,l,0,B,z,K,x,F,T,k-T,d),F=N=x=0,T=k;for(var ve=0;ve<286;++ve)z[ve]=0;for(var ve=0;ve<30;++ve)K[ve]=0}var ee=2,ie=0,ae=g,Ie=X-fe&32767;if(ge>2&&O==R(k-Ie))for(var M=Math.min(m,ge)-1,H=Math.min(32767,k),J=Math.min(258,ge);Ie<=H&&--ae&&X!=fe;){if(t[k+ee]==t[k+ee-Ie]){for(var G=0;G<J&&t[k+G]==t[k+G-Ie];++G);if(G>ee){if(ee=G,ie=Ie,G>M)break;for(var ne=Math.min(Ie,G-2),ue=0,ve=0;ve<ne;++ve){var he=k-Ie+ve&32767,me=S[he],Ee=he-me&32767;Ee>ue&&(ue=Ee,fe=he)}}}X=fe,fe=S[X],Ie+=X-fe&32767}if(ie){B[F++]=268435456|Z1[ee]<<18|nE[ie];var Ce=Z1[ee]&31,Be=nE[ie]&31;x+=ov[Ce]+av[Be],++z[257+Ce],++K[Be],L=k+ee,++N}else B[F++]=t[k],++z[t[k]]}}for(k=Math.max(k,L);k<o;++k)B[F++]=t[k],++z[t[k]];d=iE(t,l,c,B,z,K,x,F,T,k-T,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=I,s.p=S,s.i=k,s.w=L)}else{for(var k=s.w||0;k<o+c;k+=65535){var Ve=k+65535;Ve>=o&&(l[d/8|0]=c,Ve=o),d=Bx(l,d+1,t.subarray(k,Ve))}s.i=o}return Fx(a,0,r+ww(d)+i)},Ux=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},HB=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new qr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return $B(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},zx=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},WB=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Ux();i.p(e.dictionary),zx(t,2,i.d())}},GB=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&bs(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&bs(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function n2(t,e){e||(e={});var n=Ux();n.p(t);var r=HB(t,e,e.dictionary?6:2,4);return WB(r,e),zx(r,r.length-4,n.d()),r}function KB(t,e){return zB(t.subarray(GB(t,e),-4),{i:2},e,e)}var QB=typeof TextDecoder<"u"&&new TextDecoder,YB=0;try{QB.decode(Vx,{stream:!0}),YB=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function w0(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var un={log:w0,warn:function(t){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):w0.call(null,arguments))},error:function(t){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):w0(t))}};function _0(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Xl(r.response,e,n)},r.onerror=function(){un.error("could not download file")},r.send()}function sE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Cd,r2,Xl=pt.saveAs||((typeof window>"u"?"undefined":tn(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=pt.URL||pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?sE(i.href)?_0(t,e,n):xp(i,i.target="_blank"):xp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){xp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(sE(t))_0(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){xp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:tn(s)!=="object"&&(un.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return _0(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(pt.HTMLElement)||pt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":tn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=pt.URL||pt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qx(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function b0(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Dr(n,r,i,s,e[0],7,-680876936),s=Dr(s,n,r,i,e[1],12,-389564586),i=Dr(i,s,n,r,e[2],17,606105819),r=Dr(r,i,s,n,e[3],22,-1044525330),n=Dr(n,r,i,s,e[4],7,-176418897),s=Dr(s,n,r,i,e[5],12,1200080426),i=Dr(i,s,n,r,e[6],17,-1473231341),r=Dr(r,i,s,n,e[7],22,-45705983),n=Dr(n,r,i,s,e[8],7,1770035416),s=Dr(s,n,r,i,e[9],12,-1958414417),i=Dr(i,s,n,r,e[10],17,-42063),r=Dr(r,i,s,n,e[11],22,-1990404162),n=Dr(n,r,i,s,e[12],7,1804603682),s=Dr(s,n,r,i,e[13],12,-40341101),i=Dr(i,s,n,r,e[14],17,-1502002290),n=jr(n,r=Dr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=jr(s,n,r,i,e[6],9,-1069501632),i=jr(i,s,n,r,e[11],14,643717713),r=jr(r,i,s,n,e[0],20,-373897302),n=jr(n,r,i,s,e[5],5,-701558691),s=jr(s,n,r,i,e[10],9,38016083),i=jr(i,s,n,r,e[15],14,-660478335),r=jr(r,i,s,n,e[4],20,-405537848),n=jr(n,r,i,s,e[9],5,568446438),s=jr(s,n,r,i,e[14],9,-1019803690),i=jr(i,s,n,r,e[3],14,-187363961),r=jr(r,i,s,n,e[8],20,1163531501),n=jr(n,r,i,s,e[13],5,-1444681467),s=jr(s,n,r,i,e[2],9,-51403784),i=jr(i,s,n,r,e[7],14,1735328473),n=Fr(n,r=jr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Fr(s,n,r,i,e[8],11,-2022574463),i=Fr(i,s,n,r,e[11],16,1839030562),r=Fr(r,i,s,n,e[14],23,-35309556),n=Fr(n,r,i,s,e[1],4,-1530992060),s=Fr(s,n,r,i,e[4],11,1272893353),i=Fr(i,s,n,r,e[7],16,-155497632),r=Fr(r,i,s,n,e[10],23,-1094730640),n=Fr(n,r,i,s,e[13],4,681279174),s=Fr(s,n,r,i,e[0],11,-358537222),i=Fr(i,s,n,r,e[3],16,-722521979),r=Fr(r,i,s,n,e[6],23,76029189),n=Fr(n,r,i,s,e[9],4,-640364487),s=Fr(s,n,r,i,e[12],11,-421815835),i=Fr(i,s,n,r,e[15],16,530742520),n=Br(n,r=Fr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Br(s,n,r,i,e[7],10,1126891415),i=Br(i,s,n,r,e[14],15,-1416354905),r=Br(r,i,s,n,e[5],21,-57434055),n=Br(n,r,i,s,e[12],6,1700485571),s=Br(s,n,r,i,e[3],10,-1894986606),i=Br(i,s,n,r,e[10],15,-1051523),r=Br(r,i,s,n,e[1],21,-2054922799),n=Br(n,r,i,s,e[8],6,1873313359),s=Br(s,n,r,i,e[15],10,-30611744),i=Br(i,s,n,r,e[6],15,-1560198380),r=Br(r,i,s,n,e[13],21,1309151649),n=Br(n,r,i,s,e[4],6,-145523070),s=Br(s,n,r,i,e[11],10,-1120210379),i=Br(i,s,n,r,e[2],15,718787259),r=Br(r,i,s,n,e[9],21,-343485551),t[0]=Ya(n,t[0]),t[1]=Ya(r,t[1]),t[2]=Ya(i,t[2]),t[3]=Ya(s,t[3])}function lv(t,e,n,r,i,s){return e=Ya(Ya(e,t),Ya(r,s)),Ya(e<<i|e>>>32-i,n)}function Dr(t,e,n,r,i,s,o){return lv(e&n|~e&r,t,e,i,s,o)}function jr(t,e,n,r,i,s,o){return lv(e&r|n&~r,t,e,i,s,o)}function Fr(t,e,n,r,i,s,o){return lv(e^n^r,t,e,i,s,o)}function Br(t,e,n,r,i,s,o){return lv(n^(e|~r),t,e,i,s,o)}function $x(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)b0(r,JB(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(b0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,b0(r,i),r}function JB(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Cd=pt.atob.bind(pt),r2=pt.btoa.bind(pt);var oE="0123456789abcdef".split("");function XB(t){for(var e="",n=0;n<4;n++)e+=oE[t>>8*n+4&15]+oE[t>>8*n&15];return e}function ZB(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function i2(t){return $x(t).map(ZB).join("")}var eV=function(t){for(var e=0;e<t.length;e++)t[e]=XB(t[e]);return t.join("")}($x("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ya(t,e){if(eV){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function s2(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+o.charCodeAt(l))%256,a[l]=a[c],a[c]=d}n=t,r=a}else a=r;var p=e.length,m=0,g=0,E="";for(l=0;l<p;l++)g=(g+(d=a[m=(m+1)%256]))%256,a[m]=a[g],a[g]=d,o=a[(a[m]+a[g])%256],E+=String.fromCharCode(e.charCodeAt(l)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var aE={print:4,modify:8,copy:16,"annot-forms":32};function gc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(aE.perm!==void 0)throw new Error("Invalid permission: "+a);i+=aE[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=i2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=s2(this.encryptionKey,this.padding)}function mc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function lE(t){if(tn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){pt.console&&un.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function rm(t){if(!(this instanceof rm))return new rm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Hx(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Zl(t,e,n,r,i){if(!(this instanceof Zl))return new Zl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Hx.call(this,r,i)}function Tc(t,e,n,r,i){if(!(this instanceof Tc))return new Tc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Hx.call(this,r,i)}function ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",d=null;tn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=lE;var E="1.3",S=g.__private__.getPdfVersion=function(){return E};g.__private__.setPdfVersion=function(v){E=v};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return I};var _=g.__private__.getPageFormat=function(v){return I[v]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},R=b.COMPAT;function B(){this.saveGraphicsState(),te(new Ke($e,0,0,-$e,0,Nr()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),c="n",R=b.ADVANCED}function z(){this.restoreGraphicsState(),c="S",R=b.COMPAT}var K=g.__private__.combineFontStyleAndFontWeight=function(v,D){if(v=="bold"&&D=="normal"||v=="bold"&&D==400||v=="normal"&&D=="italic"||v=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(v=D==400||D==="normal"?v==="italic"?"italic":"normal":D!=700&&D!=="bold"||v!=="normal"?(D==700?"bold":D)+""+v:"bold"),v};g.advancedAPI=function(v){var D=R===b.COMPAT;return D&&B.call(this),typeof v!="function"||(v(this),D&&z.call(this)),this},g.compatAPI=function(v){var D=R===b.ADVANCED;return D&&z.call(this),typeof v!="function"||(v(this),D&&B.call(this)),this},g.isAdvancedAPI=function(){return R===b.ADVANCED};var N,x=function(v){if(R!==b.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=g.roundToPrecision=g.__private__.roundToPrecision=function(v,D){var Z=e||D;if(isNaN(v)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Z).replace(/0+$/,"")};N=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,16)};var F=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return k(v,2)},L=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return k(v,3)},T=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return R===b.COMPAT?v*$e:R===b.ADVANCED?v:void 0},O=function(v){return R===b.COMPAT?Nr()-v:R===b.ADVANCED?v:void 0},X=function(v){return T(O(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var fe,ge="00000000000000000000000000000000",ve=g.__private__.getFileId=function(){return ge},ee=g.__private__.setFileId=function(v){return ge=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(vn=new gc(d.userPermissions,d.userPassword,d.ownerPassword,ge)),ge};g.setFileId=function(v){return ee(v),this},g.getFileId=function(){return ve()};var ie=g.__private__.convertDateToPDFDate=function(v){var D=v.getTimezoneOffset(),Z=D<0?"+":"-",re=Math.floor(Math.abs(D/60)),de=Math.abs(D%60),Ae=[Z,J(re),"'",J(de),"'"].join("");return["D:",v.getFullYear(),J(v.getMonth()+1),J(v.getDate()),J(v.getHours()),J(v.getMinutes()),J(v.getSeconds()),Ae].join("")},ae=g.__private__.convertPDFDateToDate=function(v){var D=parseInt(v.substr(2,4),10),Z=parseInt(v.substr(6,2),10)-1,re=parseInt(v.substr(8,2),10),de=parseInt(v.substr(10,2),10),Ae=parseInt(v.substr(12,2),10),Me=parseInt(v.substr(14,2),10);return new Date(D,Z,re,de,Ae,Me,0)},Ie=g.__private__.setCreationDate=function(v){var D;if(v===void 0&&(v=new Date),v instanceof Date)D=ie(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=v}return fe=D},M=g.__private__.getCreationDate=function(v){var D=fe;return v==="jsDate"&&(D=ae(fe)),D};g.setCreationDate=function(v){return Ie(v),this},g.getCreationDate=function(v){return M(v)};var H,J=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},G=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ne=0,ue=[],he=[],me=0,Ee=[],Ce=[],Be=!1,Ve=he,nt=function(){ne=0,me=0,he=[],ue=[],Ee=[],os=xn(),kr=xn()};g.__private__.setCustomOutputDestination=function(v){Be=!0,Ve=v};var _e=function(v){Be||(Ve=v)};g.__private__.resetCustomOutputDestination=function(){Be=!1,Ve=he};var te=g.__private__.out=function(v){return v=v.toString(),me+=v.length+1,Ve.push(v),Ve},dt=g.__private__.write=function(v){return te(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ze=g.__private__.getArrayBuffer=function(v){for(var D=v.length,Z=new ArrayBuffer(D),re=new Uint8Array(Z);D--;)re[D]=v.charCodeAt(D);return Z},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return je};var Ue=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Ue=R===b.ADVANCED?v/$e:v,this};var ze,qe=g.__private__.getFontSize=g.getFontSize=function(){return R===b.COMPAT?Ue:Ue*$e},et=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return et=v,this},g.__private__.getR2L=g.getR2L=function(){return et};var ht,mt=g.__private__.setZoomMode=function(v){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))ze=v;else if(isNaN(v)){if(D.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');ze=v}else ze=parseInt(v,10)};g.__private__.getZoomMode=function(){return ze};var rt,at=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');ht=v};g.__private__.getPageMode=function(){return ht};var Rt=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');rt=v};g.__private__.getLayoutMode=function(){return rt},g.__private__.setDisplayMode=g.setDisplayMode=function(v,D,Z){return mt(v),Rt(D),at(Z),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(st).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[v]},g.__private__.getDocumentProperties=function(){return st},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var D in st)st.hasOwnProperty(D)&&v[D]&&(st[D]=v[D]);return this},g.__private__.setDocumentProperty=function(v,D){if(Object.keys(st).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[v]=D};var Lt,$e,pn,xt,vr,Ot={},Jt={},yr=[],Tt={},Gr={},sn={},Hn={},Pr=null,Ht=0,ot=[],It=new lE(g),Kr=t.hotfixes||[],gn={},Zn={},Qr=[],Ke=function v(D,Z,re,de,Ae,Me){if(!(this instanceof v))return new v(D,Z,re,de,Ae,Me);isNaN(D)&&(D=1),isNaN(Z)&&(Z=0),isNaN(re)&&(re=0),isNaN(de)&&(de=1),isNaN(Ae)&&(Ae=0),isNaN(Me)&&(Me=0),this._matrix=[D,Z,re,de,Ae,Me]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(v)},Ke.prototype.multiply=function(v){var D=v.sx*this.sx+v.shy*this.shx,Z=v.sx*this.shy+v.shy*this.sy,re=v.shx*this.sx+v.sy*this.shx,de=v.shx*this.shy+v.sy*this.sy,Ae=v.tx*this.sx+v.ty*this.shx+this.tx,Me=v.tx*this.shy+v.ty*this.sy+this.ty;return new Ke(D,Z,re,de,Ae,Me)},Ke.prototype.decompose=function(){var v=this.sx,D=this.shy,Z=this.shx,re=this.sy,de=this.tx,Ae=this.ty,Me=Math.sqrt(v*v+D*D),We=(v/=Me)*Z+(D/=Me)*re;Z-=v*We,re-=D*We;var h=Math.sqrt(Z*Z+re*re);return We/=h,v*(re/=h)<D*(Z/=h)&&(v=-v,D=-D,We=-We,Me=-Me),{scale:new Ke(Me,0,0,h,0,0),translate:new Ke(1,0,0,1,de,Ae),rotate:new Ke(v,D,-D,v,0,0),skew:new Ke(1,0,We,1,0,0)}},Ke.prototype.toString=function(v){return this.join(" ")},Ke.prototype.inversed=function(){var v=this.sx,D=this.shy,Z=this.shx,re=this.sy,de=this.tx,Ae=this.ty,Me=1/(v*re-D*Z),We=re*Me,h=-D*Me,w=-Z*Me,P=v*Me;return new Ke(We,h,w,P,-We*de-w*Ae,-h*de-P*Ae)},Ke.prototype.applyToPoint=function(v){var D=v.x*this.sx+v.y*this.shx+this.tx,Z=v.x*this.shy+v.y*this.sy+this.ty;return new Lo(D,Z)},Ke.prototype.applyToRectangle=function(v){var D=this.applyToPoint(v),Z=this.applyToPoint(new Lo(v.x+v.w,v.y+v.h));return new ga(D.x,D.y,Z.x-D.x,Z.y-D.y)},Ke.prototype.clone=function(){var v=this.sx,D=this.shy,Z=this.shx,re=this.sy,de=this.tx,Ae=this.ty;return new Ke(v,D,Z,re,de,Ae)},g.Matrix=Ke;var it=g.matrixMult=function(v,D){return D.multiply(v)},Tr=new Ke(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Tr;var Wn=function(v,D){if(!Gr[v]){var Z=(D instanceof Zl?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);D.id=Z,Gr[v]=Z,Tt[Z]=D,It.publish("addPattern",D)}};g.ShadingPattern=Zl,g.TilingPattern=Tc,g.addShadingPattern=function(v,D){return x("addShadingPattern()"),Wn(v,D),this},g.beginTilingPattern=function(v){x("beginTilingPattern()"),ma(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,D){x("endTilingPattern()"),D.stream=Ce[H].join(`
`),Wn(v,D),It.publish("endTilingPattern",D),Qr.pop().restore()};var On=g.__private__.newObject=function(){var v=xn();return Gn(v,!0),v},xn=g.__private__.newObjectDeferred=function(){return ne++,ue[ne]=function(){return me},ne},Gn=function(v,D){return D=typeof D=="boolean"&&D,ue[v]=me,D&&te(v+" 0 obj"),v},ta=g.__private__.newAdditionalObject=function(){var v={objId:xn(),content:""};return Ee.push(v),v},os=xn(),kr=xn(),ai=g.__private__.decodeColorString=function(v){var D=v.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var Z=parseFloat(D[0]);D=[Z,Z,Z,"r"]}for(var re="#",de=0;de<3;de++)re+=("0"+Math.floor(255*parseFloat(D[de])).toString(16)).slice(-2);return re},Yr=g.__private__.encodeColorString=function(v){var D;typeof v=="string"&&(v={ch1:v});var Z=v.ch1,re=v.ch2,de=v.ch3,Ae=v.ch4,Me=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var We=new qx(Z);if(We.ok)Z=We.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var h=parseInt(Z.substr(1),16);Z=h>>16&255,re=h>>8&255,de=255&h}if(re===void 0||Ae===void 0&&Z===re&&re===de)if(typeof Z=="string")D=Z+" "+Me[0];else switch(v.precision){case 2:D=F(Z/255)+" "+Me[0];break;case 3:default:D=L(Z/255)+" "+Me[0]}else if(Ae===void 0||tn(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return D=["1.","1.","1.",Me[1]].join(" ");if(typeof Z=="string")D=[Z,re,de,Me[1]].join(" ");else switch(v.precision){case 2:D=[F(Z/255),F(re/255),F(de/255),Me[1]].join(" ");break;default:case 3:D=[L(Z/255),L(re/255),L(de/255),Me[1]].join(" ")}}else if(typeof Z=="string")D=[Z,re,de,Ae,Me[2]].join(" ");else switch(v.precision){case 2:D=[F(Z),F(re),F(de),F(Ae),Me[2]].join(" ");break;case 3:default:D=[L(Z),L(re),L(de),L(Ae),Me[2]].join(" ")}return D},Jr=g.__private__.getFilters=function(){return o},Mn=g.__private__.putStream=function(v){var D=(v=v||{}).data||"",Z=v.filters||Jr(),re=v.alreadyAppliedFilters||[],de=v.addLength1||!1,Ae=D.length,Me=v.objectId,We=function(_t){return _t};if(d!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(We=vn.encryptor(Me,0));var h={};Z===!0&&(Z=["FlateEncode"]);var w=v.additionalKeyValues||[],P=(h=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(D,Z):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(h.data.length!==0&&(w.push({key:"Length",value:h.data.length}),de===!0&&w.push({key:"Length1",value:Ae})),P.length!=0)if(P.split("/").length-1==1)w.push({key:"Filter",value:P});else{w.push({key:"Filter",value:"["+P+"]"});for(var q=0;q<w.length;q+=1)if(w[q].key==="DecodeParms"){for(var ce=[],be=0;be<h.reverseChain.split("/").length-1;be+=1)ce.push("null");ce.push(w[q].value),w[q].value="["+ce.join(" ")+"]"}}te("<<");for(var De=0;De<w.length;De++)te("/"+w[De].key+" "+w[De].value);te(">>"),h.data.length!==0&&(te("stream"),te(We(h.data)),te("endstream"))},Ai=g.__private__.putPage=function(v){var D=v.number,Z=v.data,re=v.objId,de=v.contentsObjId;Gn(re,!0),te("<</Type /Page"),te("/Parent "+v.rootDictionaryObjId+" 0 R"),te("/Resources "+v.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(N(v.mediaBox.bottomLeftX))+" "+parseFloat(N(v.mediaBox.bottomLeftY))+" "+N(v.mediaBox.topRightX)+" "+N(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&te("/CropBox ["+N(v.cropBox.bottomLeftX)+" "+N(v.cropBox.bottomLeftY)+" "+N(v.cropBox.topRightX)+" "+N(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&te("/BleedBox ["+N(v.bleedBox.bottomLeftX)+" "+N(v.bleedBox.bottomLeftY)+" "+N(v.bleedBox.topRightX)+" "+N(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&te("/TrimBox ["+N(v.trimBox.bottomLeftX)+" "+N(v.trimBox.bottomLeftY)+" "+N(v.trimBox.topRightX)+" "+N(v.trimBox.topRightY)+"]"),v.artBox!==null&&te("/ArtBox ["+N(v.artBox.bottomLeftX)+" "+N(v.artBox.bottomLeftY)+" "+N(v.artBox.topRightX)+" "+N(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&te("/UserUnit "+v.userUnit),It.publish("putPage",{objId:re,pageContext:ot[D],pageNumber:D,page:Z}),te("/Contents "+de+" 0 R"),te(">>"),te("endobj");var Ae=Z.join(`
`);return R===b.ADVANCED&&(Ae+=`
Q`),Gn(de,!0),Mn({data:Ae,filters:Jr(),objectId:de}),te("endobj"),re},Ns=g.__private__.putPages=function(){var v,D,Z=[];for(v=1;v<=Ht;v++)ot[v].objId=xn(),ot[v].contentsObjId=xn();for(v=1;v<=Ht;v++)Z.push(Ai({number:v,data:Ce[v],objId:ot[v].objId,contentsObjId:ot[v].contentsObjId,mediaBox:ot[v].mediaBox,cropBox:ot[v].cropBox,bleedBox:ot[v].bleedBox,trimBox:ot[v].trimBox,artBox:ot[v].artBox,userUnit:ot[v].userUnit,rootDictionaryObjId:os,resourceDictionaryObjId:kr}));Gn(os,!0),te("<</Type /Pages");var re="/Kids [";for(D=0;D<Ht;D++)re+=Z[D]+" 0 R ";te(re+"]"),te("/Count "+Ht),te(">>"),te("endobj"),It.publish("postPutPages")},Rs=function(v){It.publish("putFont",{font:v,out:te,newObject:On,putStream:Mn}),v.isAlreadyPutted!==!0&&(v.objectNumber=On(),te("<<"),te("/Type /Font"),te("/BaseFont /"+mc(v.postScriptName)),te("/Subtype /Type1"),typeof v.encoding=="string"&&te("/Encoding /"+v.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Os=function(){for(var v in Ot)Ot.hasOwnProperty(v)&&(p===!1||p===!0&&m.hasOwnProperty(v))&&Rs(Ot[v])},go=function(v){v.objectNumber=On();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[N(v.x),N(v.y),N(v.x+v.width),N(v.y+v.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Z=v.pages[1].join(`
`);Mn({data:Z,additionalKeyValues:D,objectId:v.objectNumber}),te("endobj")},mo=function(){for(var v in gn)gn.hasOwnProperty(v)&&go(gn[v])},Fu=function(v,D){var Z,re=[],de=1/(D-1);for(Z=0;Z<1;Z+=de)re.push(Z);if(re.push(1),v[0].offset!=0){var Ae={offset:0,color:v[0].color};v.unshift(Ae)}if(v[v.length-1].offset!=1){var Me={offset:1,color:v[v.length-1].color};v.push(Me)}for(var We="",h=0,w=0;w<re.length;w++){for(Z=re[w];Z>v[h+1].offset;)h++;var P=v[h].offset,q=(Z-P)/(v[h+1].offset-P),ce=v[h].color,be=v[h+1].color;We+=G(Math.round((1-q)*ce[0]+q*be[0]).toString(16))+G(Math.round((1-q)*ce[1]+q*be[1]).toString(16))+G(Math.round((1-q)*ce[2]+q*be[2]).toString(16))}return We.trim()},na=function(v,D){D||(D=21);var Z=On(),re=Fu(v.colors,D),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+D+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mn({data:re,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),te("endobj"),v.objectNumber=On(),te("<< /ShadingType "+v.type),te("/ColorSpace /DeviceRGB");var Ae="/Coords ["+N(parseFloat(v.coords[0]))+" "+N(parseFloat(v.coords[1]))+" ";v.type===2?Ae+=N(parseFloat(v.coords[2]))+" "+N(parseFloat(v.coords[3])):Ae+=N(parseFloat(v.coords[2]))+" "+N(parseFloat(v.coords[3]))+" "+N(parseFloat(v.coords[4]))+" "+N(parseFloat(v.coords[5])),te(Ae+="]"),v.matrix&&te("/Matrix ["+v.matrix.toString()+"]"),te("/Function "+Z+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Bu=function(v,D){var Z=xn(),re=On();D.push({resourcesOid:Z,objectOid:re}),v.objectNumber=re;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+v.boundingBox.map(N).join(" ")+"]"}),de.push({key:"XStep",value:N(v.xStep)}),de.push({key:"YStep",value:N(v.yStep)}),de.push({key:"Resources",value:Z+" 0 R"}),v.matrix&&de.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Mn({data:v.stream,additionalKeyValues:de,objectId:v.objectNumber}),te("endobj")},Ms=function(v){var D;for(D in Tt)Tt.hasOwnProperty(D)&&(Tt[D]instanceof Zl?na(Tt[D]):Tt[D]instanceof Tc&&Bu(Tt[D],v))},Ds=function(v){for(var D in v.objectNumber=On(),te("<<"),v)switch(D){case"opacity":te("/ca "+F(v[D]));break;case"stroke-opacity":te("/CA "+F(v[D]))}te(">>"),te("endobj")},as=function(){var v;for(v in sn)sn.hasOwnProperty(v)&&Ds(sn[v])},vo=function(){for(var v in te("/XObject <<"),gn)gn.hasOwnProperty(v)&&gn[v].objectNumber>=0&&te("/"+v+" "+gn[v].objectNumber+" 0 R");It.publish("putXobjectDict"),te(">>")},Ah=function(){vn.oid=On(),te("<<"),te("/Filter /Standard"),te("/V "+vn.v),te("/R "+vn.r),te("/U <"+vn.toHexString(vn.U)+">"),te("/O <"+vn.toHexString(vn.O)+">"),te("/P "+vn.P),te(">>"),te("endobj")},Cl=function(){for(var v in te("/Font <<"),Ot)Ot.hasOwnProperty(v)&&(p===!1||p===!0&&m.hasOwnProperty(v))&&te("/"+v+" "+Ot[v].objectNumber+" 0 R");te(">>")},Vu=function(){if(Object.keys(Tt).length>0){for(var v in te("/Shading <<"),Tt)Tt.hasOwnProperty(v)&&Tt[v]instanceof Zl&&Tt[v].objectNumber>=0&&te("/"+v+" "+Tt[v].objectNumber+" 0 R");It.publish("putShadingPatternDict"),te(">>")}},yo=function(v){if(Object.keys(Tt).length>0){for(var D in te("/Pattern <<"),Tt)Tt.hasOwnProperty(D)&&Tt[D]instanceof g.TilingPattern&&Tt[D].objectNumber>=0&&Tt[D].objectNumber<v&&te("/"+D+" "+Tt[D].objectNumber+" 0 R");It.publish("putTilingPatternDict"),te(">>")}},xl=function(){if(Object.keys(sn).length>0){var v;for(v in te("/ExtGState <<"),sn)sn.hasOwnProperty(v)&&sn[v].objectNumber>=0&&te("/"+v+" "+sn[v].objectNumber+" 0 R");It.publish("putGStateDict"),te(">>")}},mn=function(v){Gn(v.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Cl(),Vu(),yo(v.objectOid),xl(),vo(),te(">>"),te("endobj")},Il=function(){var v=[];Os(),as(),mo(),Ms(v),It.publish("putResources"),v.forEach(mn),mn({resourcesOid:kr,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources")},Pl=function(){It.publish("putAdditionalObjects");for(var v=0;v<Ee.length;v++){var D=Ee[v];Gn(D.objId,!0),te(D.content),te("endobj")}It.publish("postPutAdditionalObjects")},Uu=function(v){Jt[v.fontName]=Jt[v.fontName]||{},Jt[v.fontName][v.fontStyle]=v.id},Tl=function(v,D,Z,re,de){var Ae={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:v,fontName:D,fontStyle:Z,encoding:re,isStandardFont:de||!1,metadata:{}};return It.publish("addFont",{font:Ae,instance:this}),Ot[Ae.id]=Ae,Uu(Ae),Ae.id},zu=function(v){for(var D=0,Z=je.length;D<Z;D++){var re=Tl.call(this,v[D][0],v[D][1],v[D][2],je[D][3],!0);p===!1&&(m[re]=!0);var de=v[D][0].split("-");Uu({id:re,fontName:de[0],fontStyle:de[1]||""})}It.publish("addFonts",{fonts:Ot,dictionary:Jt})},li=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(re){var D=re.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var Z="Error in function "+D.split(`
`)[0].split("<")[0]+": "+re.message;if(!pt.console)throw new Error(Z);pt.console.error(Z,re),pt.alert&&alert(Z)}},v.foo.bar=v,v.foo},ra=function(v,D){var Z,re,de,Ae,Me,We,h,w,P;if(de=(D=D||{}).sourceEncoding||"Unicode",Me=D.outputEncoding,(D.autoencode||Me)&&Ot[Lt].metadata&&Ot[Lt].metadata[de]&&Ot[Lt].metadata[de].encoding&&(Ae=Ot[Lt].metadata[de].encoding,!Me&&Ot[Lt].encoding&&(Me=Ot[Lt].encoding),!Me&&Ae.codePages&&(Me=Ae.codePages[0]),typeof Me=="string"&&(Me=Ae[Me]),Me)){for(h=!1,We=[],Z=0,re=v.length;Z<re;Z++)(w=Me[v.charCodeAt(Z)])?We.push(String.fromCharCode(w)):We.push(v[Z]),We[Z].charCodeAt(0)>>8&&(h=!0);v=We.join("")}for(Z=v.length;h===void 0&&Z!==0;)v.charCodeAt(Z-1)>>8&&(h=!0),Z--;if(!h)return v;for(We=D.noBOM?[]:[254,255],Z=0,re=v.length;Z<re;Z++){if((P=(w=v.charCodeAt(Z))>>8)>>8)throw new Error("Character at position "+Z+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(P),We.push(w-(P<<8))}return String.fromCharCode.apply(void 0,We)},In=g.__private__.pdfEscape=g.pdfEscape=function(v,D){return ra(v,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xr=g.__private__.beginPage=function(v){Ce[++Ht]=[],ot[Ht]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},kl(Ht),_e(Ce[H])},wo=function(v,D){var Z,re,de;switch(n=D||n,typeof v=="string"&&(Z=_(v.toLowerCase()),Array.isArray(Z)&&(re=Z[0],de=Z[1])),Array.isArray(v)&&(re=v[0]*$e,de=v[1]*$e),isNaN(re)&&(re=i[0],de=i[1]),(re>14400||de>14400)&&(un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),de=Math.min(14400,de)),i=[re,de],n.substr(0,1)){case"l":de>re&&(i=[de,re]);break;case"p":re>de&&(i=[de,re])}Xr(i),Dl(Ml),te(wr),Bl!==0&&te(Bl+" J"),pa!==0&&te(pa+" j"),It.publish("addPage",{pageNumber:Ht})},ia=function(v){v>0&&v<=Ht&&(Ce.splice(v,1),ot.splice(v,1),Ht--,H>Ht&&(H=Ht),this.setPage(H))},kl=function(v){v>0&&v<=Ht&&(H=v)},Xt=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ce.length-1},_o=function(v,D,Z){var re,de=void 0;return Z=Z||{},v=v!==void 0?v:Ot[Lt].fontName,D=D!==void 0?D:Ot[Lt].fontStyle,re=v.toLowerCase(),Jt[re]!==void 0&&Jt[re][D]!==void 0?de=Jt[re][D]:Jt[v]!==void 0&&Jt[v][D]!==void 0?de=Jt[v][D]:Z.disableWarning===!1&&un.warn("Unable to look up font label for font '"+v+"', '"+D+"'. Refer to getFontList() for available fonts."),de||Z.noFallback||(de=Jt.times[D])==null&&(de=Jt.times.normal),de},bo=g.__private__.putInfo=function(){var v=On(),D=function(re){return re};for(var Z in d!==null&&(D=vn.encryptor(v,0)),te("<<"),te("/Producer ("+In(D("jsPDF "+ft.version))+")"),st)st.hasOwnProperty(Z)&&st[Z]&&te("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+In(D(st[Z]))+")");te("/CreationDate ("+In(D(fe))+")"),te(">>"),te("endobj")},ls=g.__private__.putCatalog=function(v){var D=(v=v||{}).rootDictionaryObjId||os;switch(On(),te("<<"),te("/Type /Catalog"),te("/Pages "+D+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+ze;Z.substr(Z.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&te("/OpenAction [3 0 R /XYZ null null "+F(ze)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}ht&&te("/PageMode /"+ht),It.publish("putCatalog"),te(">>"),te("endobj")},Ch=g.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ne+1)),te("/Root "+ne+" 0 R"),te("/Info "+(ne-1)+" 0 R"),d!==null&&te("/Encrypt "+vn.oid+" 0 R"),te("/ID [ <"+ge+"> <"+ge+"> ]"),te(">>")},qu=g.__private__.putHeader=function(){te("%PDF-"+E),te("%")},xh=g.__private__.putXRef=function(){var v="0000000000";te("xref"),te("0 "+(ne+1)),te("0000000000 65535 f ");for(var D=1;D<=ne;D++)typeof ue[D]=="function"?te((v+ue[D]()).slice(-10)+" 00000 n "):ue[D]!==void 0?te((v+ue[D]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},us=g.__private__.buildDocument=function(){nt(),_e(he),It.publish("buildDocument"),qu(),Ns(),Pl(),Il(),d!==null&&Ah(),bo(),ls();var v=me;return xh(),Ch(),te("startxref"),te(""+v),te("%%EOF"),_e(Ce[H]),he.join(`
`)},sa=g.__private__.getBlob=function(v){return new Blob([Ze(v)],{type:"application/pdf"})},oa=g.output=g.__private__.output=li(function(v,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",v){case void 0:return us();case"save":g.save(D.filename);break;case"arraybuffer":return Ze(us());case"blob":return sa(us());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(sa(us()))||void 0;un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",re=us();try{Z=r2(re)}catch{Z=r2(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+D.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(de=D.pdfObjectUrl,Ae="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",We=pt.open();return We!==null&&We.document.write(Me),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',w=pt.open();if(w!==null){w.document.write(h);var P=this;w.document.documentElement.querySelector("#pdfViewer").onload=function(){w.document.title=D.filename,w.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(P.output("bloburl"))}}return w}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var q='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',ce=pt.open();if(ce!==null&&(ce.document.write(q),ce.document.title=D.filename),ce||typeof safari>"u")return ce;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",D);default:return null}}),js=function(v){return Array.isArray(Kr)===!0&&Kr.indexOf(v)>-1};switch(r){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=js("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$e=r}var vn=null;Ie(),ee();var $u=function(v){return d!==null?vn.encryptor(v,0):function(D){return D}},Nl=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[v].objId,pageNumber:v,pageContext:ot[v]}},gt=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in ot)if(ot[D].objId===v)break;return Nl(D)},Fs=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ot[H].objId,pageNumber:H,pageContext:ot[H]}};g.addPage=function(){return wo.apply(this,arguments),this},g.setPage=function(){return kl.apply(this,arguments),_e.call(this,Ce[H]),this},g.insertPage=function(v){return this.addPage(),this.movePage(H,v),this},g.movePage=function(v,D){var Z,re;if(v>D){Z=Ce[v],re=ot[v];for(var de=v;de>D;de--)Ce[de]=Ce[de-1],ot[de]=ot[de-1];Ce[D]=Z,ot[D]=re,this.setPage(D)}else if(v<D){Z=Ce[v],re=ot[v];for(var Ae=v;Ae<D;Ae++)Ce[Ae]=Ce[Ae+1],ot[Ae]=ot[Ae+1];Ce[D]=Z,ot[D]=re,this.setPage(D)}return this},g.deletePage=function(){return ia.apply(this,arguments),this},g.__private__.text=g.text=function(v,D,Z,re,de){var Ae,Me,We,h,w,P,q,ce,be,De=(re=re||{}).scope||this;if(typeof v=="number"&&typeof D=="number"&&(typeof Z=="string"||Array.isArray(Z))){var _t=Z;Z=D,D=v,v=_t}if(arguments[3]instanceof Ke?(x("The transform parameter of text() with a Matrix value"),be=de):(We=arguments[4],h=arguments[5],tn(q=arguments[3])==="object"&&q!==null||(typeof We=="string"&&(h=We,We=null),typeof q=="string"&&(h=q,q=null),typeof q=="number"&&(We=q,q=null),re={flags:q,angle:We,align:h})),isNaN(D)||isNaN(Z)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return De;var Mt="",bt=!1,Qt=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:Kt,an=De.internal.scaleFactor;function ps(cn){return cn=cn.split("	").join(Array(re.TabLen||9).join(" ")),In(cn,q)}function _r(cn){for(var hn,jn=cn.concat(),tr=[],Po=jn.length;Po--;)typeof(hn=jn.shift())=="string"?tr.push(hn):Array.isArray(cn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?tr.push(hn[0]):tr.push([hn[0],hn[1],hn[2]]);return tr}function zs(cn,hn){var jn;if(typeof cn=="string")jn=hn(cn)[0];else if(Array.isArray(cn)){for(var tr,Po,Dh=cn.concat(),rc=[],Of=Dh.length;Of--;)typeof(tr=Dh.shift())=="string"?rc.push(hn(tr)[0]):Array.isArray(tr)&&typeof tr[0]=="string"&&(Po=hn(tr[0],tr[1],tr[2]),rc.push([Po[0],Po[1],Po[2]]));jn=rc}return jn}var qs=!1,Ph=!0;if(typeof v=="string")qs=!0;else if(Array.isArray(v)){var Th=v.concat();Me=[];for(var Qu,br=Th.length;br--;)(typeof(Qu=Th.shift())!="string"||Array.isArray(Qu)&&typeof Qu[0]!="string")&&(Ph=!1);qs=Ph}if(qs===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Yu=Ue/De.internal.scaleFactor,Ju=Yu*(Qt-1);switch(re.baseline){case"bottom":Z-=Ju;break;case"top":Z+=Yu-Ju;break;case"hanging":Z+=Yu-2*Ju;break;case"middle":Z+=Yu/2-Ju}if((P=re.maxWidth||0)>0&&(typeof v=="string"?v=De.splitTextToSize(v,P):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(cn,hn){return cn.concat(De.splitTextToSize(hn,P))},[]))),Ae={text:v,x:D,y:Z,options:re,mutex:{pdfEscape:In,activeFontKey:Lt,fonts:Ot,activeFontSize:Ue}},It.publish("preProcessText",Ae),v=Ae.text,We=(re=Ae.options).angle,!(be instanceof Ke)&&We&&typeof We=="number"){We*=Math.PI/180,re.rotationDirection===0&&(We=-We),R===b.ADVANCED&&(We=-We);var Xu=Math.cos(We),kh=Math.sin(We);be=new Ke(Xu,kh,-kh,Xu,0,0)}else We&&We instanceof Ke&&(be=We);R!==b.ADVANCED||be||(be=Tr),(w=re.charSpace||So)!==void 0&&(Mt+=N(T(w))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ce=re.horizontalScale)!==void 0&&(Mt+=N(100*ce)+` Tz
`),re.lang;var ui=-1,uv=re.renderingMode!==void 0?re.renderingMode:re.stroke,Nh=De.internal.getCurrentPageInfo().pageContext;switch(uv){case 0:case!1:case"fill":ui=0;break;case 1:case!0:case"stroke":ui=1;break;case 2:case"fillThenStroke":ui=2;break;case 3:case"invisible":ui=3;break;case 4:case"fillAndAddForClipping":ui=4;break;case 5:case"strokeAndAddPathForClipping":ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ui=6;break;case 7:case"addToPathForClipping":ui=7}var Tf=Nh.usedRenderingMode!==void 0?Nh.usedRenderingMode:-1;ui!==-1?Mt+=ui+` Tr
`:Tf!==-1&&(Mt+=`0 Tr
`),ui!==-1&&(Nh.usedRenderingMode=ui),h=re.align||"left";var Wi,Zu=Ue*Qt,kf=De.internal.pageSize.getWidth(),Nf=Ot[Lt];w=re.charSpace||So,P=re.maxWidth||0,q=Object.assign({autoencode:!0,noBOM:!0},re.flags);var wa=[],Vl=function(cn){return De.getStringUnitWidth(cn,{font:Nf,charSpace:w,fontSize:Ue,doKerning:!1})*Ue/an};if(Object.prototype.toString.call(v)==="[object Array]"){var ci;Me=_r(v),h!=="left"&&(Wi=Me.map(Vl));var Zr,_a=0;if(h==="right"){D-=Wi[0],v=[],br=Me.length;for(var Co=0;Co<br;Co++)Co===0?(Zr=Ii(D),ci=er(Z)):(Zr=T(_a-Wi[Co]),ci=-Zu),v.push([Me[Co],Zr,ci]),_a=Wi[Co]}else if(h==="center"){D-=Wi[0]/2,v=[],br=Me.length;for(var xo=0;xo<br;xo++)xo===0?(Zr=Ii(D),ci=er(Z)):(Zr=T((_a-Wi[xo])/2),ci=-Zu),v.push([Me[xo],Zr,ci]),_a=Wi[xo]}else if(h==="left"){v=[],br=Me.length;for(var ec=0;ec<br;ec++)v.push(Me[ec])}else if(h==="justify"&&Nf.encoding==="Identity-H"){v=[],br=Me.length,P=P!==0?P:kf;for(var Io=0,Dn=0;Dn<br;Dn++)if(ci=Dn===0?er(Z):-Zu,Zr=Dn===0?Ii(D):Io,Dn<br-1){var Rh=T((P-Wi[Dn])/(Me[Dn].split(" ").length-1)),ei=Me[Dn].split(" ");v.push([ei[0]+" ",Zr,ci]),Io=0;for(var Gi=1;Gi<ei.length;Gi++){var tc=(Vl(ei[Gi-1]+" "+ei[Gi])-Vl(ei[Gi]))*an+Rh;Gi==ei.length-1?v.push([ei[Gi],tc,0]):v.push([ei[Gi]+" ",tc,0]),Io-=tc}}else v.push([Me[Dn],Zr,ci]);v.push(["",Io,0])}else{if(h!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],br=Me.length,P=P!==0?P:kf,Dn=0;Dn<br;Dn++)ci=Dn===0?er(Z):-Zu,Zr=Dn===0?Ii(D):0,Dn<br-1?wa.push(N(T((P-Wi[Dn])/(Me[Dn].split(" ").length-1)))):wa.push(0),v.push([Me[Dn],Zr,ci])}}var Rf=typeof re.R2L=="boolean"?re.R2L:et;Rf===!0&&(v=zs(v,function(cn,hn,jn){return[cn.split("").reverse().join(""),hn,jn]})),Ae={text:v,x:D,y:Z,options:re,mutex:{pdfEscape:In,activeFontKey:Lt,fonts:Ot,activeFontSize:Ue}},It.publish("postProcessText",Ae),v=Ae.text,bt=Ae.mutex.isHex||!1;var Oh=Ot[Lt].encoding;Oh!=="WinAnsiEncoding"&&Oh!=="StandardEncoding"||(v=zs(v,function(cn,hn,jn){return[ps(cn),hn,jn]})),Me=_r(v),v=[];for(var Ul,zl,ba,ql=0,nc=1,$l=Array.isArray(Me[0])?nc:ql,Ea="",Mh=function(cn,hn,jn){var tr="";return jn instanceof Ke?(jn=typeof re.angle=="number"?it(jn,new Ke(1,0,0,1,cn,hn)):it(new Ke(1,0,0,1,cn,hn),jn),R===b.ADVANCED&&(jn=it(new Ke(1,0,0,-1,0,0),jn)),tr=jn.join(" ")+` Tm
`):tr=N(cn)+" "+N(hn)+` Td
`,tr},Ki=0;Ki<Me.length;Ki++){switch(Ea="",$l){case nc:ba=(bt?"<":"(")+Me[Ki][0]+(bt?">":")"),Ul=parseFloat(Me[Ki][1]),zl=parseFloat(Me[Ki][2]);break;case ql:ba=(bt?"<":"(")+Me[Ki]+(bt?">":")"),Ul=Ii(D),zl=er(Z)}wa!==void 0&&wa[Ki]!==void 0&&(Ea=wa[Ki]+` Tw
`),Ki===0?v.push(Ea+Mh(Ul,zl,be)+ba):$l===ql?v.push(Ea+ba):$l===nc&&v.push(Ea+Mh(Ul,zl,be)+ba)}v=$l===ql?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Qi=`BT
/`;return Qi+=Lt+" "+Ue+` Tf
`,Qi+=N(Ue*Qt)+` TL
`,Qi+=ds+`
`,Qi+=Mt,Qi+=v,te(Qi+="ET"),m[Lt]=!0,De};var Ih=g.__private__.clip=g.clip=function(v){return te(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ih("evenodd")},g.__private__.discardPath=g.discardPath=function(){return te("n"),this};var Hi=g.__private__.isValidStyle=function(v){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(D=!0),D};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return Hi(v)&&(c=v),this};var Hu=g.__private__.getStyle=g.getStyle=function(v){var D=c;switch(v){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=v}return D},Ci=g.close=function(){return te("h"),this};g.stroke=function(){return te("S"),this},g.fill=function(v){return aa("f",v),this},g.fillEvenOdd=function(v){return aa("f*",v),this},g.fillStroke=function(v){return aa("B",v),this},g.fillStrokeEvenOdd=function(v){return aa("B*",v),this};var aa=function(v,D){tn(D)==="object"?ua(D,v):te(v)},Rl=function(v){v===null||R===b.ADVANCED&&v===void 0||(v=Hu(v),te(v))};function la(v,D,Z,re,de){var Ae=new Tc(D||this.boundingBox,Z||this.xStep,re||this.yStep,this.gState,de||this.matrix);Ae.stream=this.stream;var Me=v+"$$"+this.cloneIndex+++"$$";return Wn(Me,Ae),Ae}var ua=function(v,D){var Z=Gr[v.key],re=Tt[Z];if(re instanceof Zl)te("q"),te(Wu(D)),re.gState&&g.setGState(re.gState),te(v.matrix.toString()+" cm"),te("/"+Z+" sh"),te("Q");else if(re instanceof Tc){var de=new Ke(1,0,0,-1,0,Nr());v.matrix&&(de=de.multiply(v.matrix||Tr),Z=la.call(re,v.key,v.boundingBox,v.xStep,v.yStep,de).id),te("q"),te("/Pattern cs"),te("/"+Z+" scn"),re.gState&&g.setGState(re.gState),te(D),te("Q")}},Wu=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cs=g.moveTo=function(v,D){return te(N(T(v))+" "+N(X(D))+" m"),this},xi=g.lineTo=function(v,D){return te(N(T(v))+" "+N(X(D))+" l"),this},hs=g.curveTo=function(v,D,Z,re,de,Ae){return te([N(T(v)),N(X(D)),N(T(Z)),N(X(re)),N(T(de)),N(X(Ae)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,D,Z,re,de){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(re)||!Hi(de))throw new Error("Invalid arguments passed to jsPDF.line");return R===b.COMPAT?this.lines([[Z-v,re-D]],v,D,[1,1],de||"S"):this.lines([[Z-v,re-D]],v,D,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,D,Z,re,de,Ae){var Me,We,h,w,P,q,ce,be,De,_t,Mt,bt;if(typeof v=="number"&&(bt=Z,Z=D,D=v,v=bt),re=re||[1,1],Ae=Ae||!1,isNaN(D)||isNaN(Z)||!Array.isArray(v)||!Array.isArray(re)||!Hi(de)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(cs(D,Z),Me=re[0],We=re[1],w=v.length,_t=D,Mt=Z,h=0;h<w;h++)(P=v[h]).length===2?(_t=P[0]*Me+_t,Mt=P[1]*We+Mt,xi(_t,Mt)):(q=P[0]*Me+_t,ce=P[1]*We+Mt,be=P[2]*Me+_t,De=P[3]*We+Mt,_t=P[4]*Me+_t,Mt=P[5]*We+Mt,hs(q,ce,be,De,_t,Mt));return Ae&&Ci(),Rl(de),this},g.path=function(v){for(var D=0;D<v.length;D++){var Z=v[D],re=Z.c;switch(Z.op){case"m":cs(re[0],re[1]);break;case"l":xi(re[0],re[1]);break;case"c":hs.apply(this,re);break;case"h":Ci()}}return this},g.__private__.rect=g.rect=function(v,D,Z,re,de){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(re)||!Hi(de))throw new Error("Invalid arguments passed to jsPDF.rect");return R===b.COMPAT&&(re=-re),te([N(T(v)),N(X(D)),N(T(Z)),N(T(re)),"re"].join(" ")),Rl(de),this},g.__private__.triangle=g.triangle=function(v,D,Z,re,de,Ae,Me){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(re)||isNaN(de)||isNaN(Ae)||!Hi(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-v,re-D],[de-Z,Ae-re],[v-de,D-Ae]],v,D,[1,1],Me,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,D,Z,re,de,Ae,Me){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(re)||isNaN(de)||isNaN(Ae)||!Hi(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*Z),Ae=Math.min(Ae,.5*re),this.lines([[Z-2*de,0],[de*We,0,de,Ae-Ae*We,de,Ae],[0,re-2*Ae],[0,Ae*We,-de*We,Ae,-de,Ae],[2*de-Z,0],[-de*We,0,-de,-Ae*We,-de,-Ae],[0,2*Ae-re],[0,-Ae*We,de*We,-Ae,de,-Ae]],v+de,D,[1,1],Me,!0),this},g.__private__.ellipse=g.ellipse=function(v,D,Z,re,de){if(isNaN(v)||isNaN(D)||isNaN(Z)||isNaN(re)||!Hi(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*Z,Me=4/3*(Math.SQRT2-1)*re;return cs(v+Z,D),hs(v+Z,D-Me,v+Ae,D-re,v,D-re),hs(v-Ae,D-re,v-Z,D-Me,v-Z,D),hs(v-Z,D+Me,v-Ae,D+re,v,D+re),hs(v+Ae,D+re,v+Z,D+Me,v+Z,D),Rl(de),this},g.__private__.circle=g.circle=function(v,D,Z,re){if(isNaN(v)||isNaN(D)||isNaN(Z)||!Hi(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,D,Z,Z,re)},g.setFont=function(v,D,Z){return Z&&(D=K(D,Z)),Lt=_o(v,D,{disableWarning:!1}),this};var Ol=g.__private__.getFont=g.getFont=function(){return Ot[_o.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,D,Z={};for(v in Jt)if(Jt.hasOwnProperty(v))for(D in Z[v]=[],Jt[v])Jt[v].hasOwnProperty(D)&&Z[v].push(D);return Z},g.addFont=function(v,D,Z,re,de){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(Z=K(Z,re)),de=de||"Identity-H",Tl.call(this,v,D,Z,de)};var Kt,Ml=t.lineWidth||.200025,ca=g.__private__.getLineWidth=g.getLineWidth=function(){return Ml},Dl=g.__private__.setLineWidth=g.setLineWidth=function(v){return Ml=v,te(N(T(v))+" w"),this};g.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(v,D){if(v=v||[],D=D||0,isNaN(D)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Z){return N(T(Z))}).join(" "),D=N(T(D)),te("["+v+"] "+D+" d"),this};var jl=g.__private__.getLineHeight=g.getLineHeight=function(){return Ue*Kt};g.__private__.getLineHeight=g.getLineHeight=function(){return Ue*Kt};var Fl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Kt=v),this},Eo=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Kt};Fl(t.lineHeight);var Ii=g.__private__.getHorizontalCoordinate=function(v){return T(v)},er=g.__private__.getVerticalCoordinate=function(v){return R===b.ADVANCED?v:ot[H].mediaBox.topRightY-ot[H].mediaBox.bottomLeftY-T(v)},Gu=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return N(Ii(v))},Bs=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return N(er(v))},wr=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ai(wr)},g.__private__.setStrokeColor=g.setDrawColor=function(v,D,Z,re){return wr=Yr({ch1:v,ch2:D,ch3:Z,ch4:re,pdfColorType:"draw",precision:2}),te(wr),this};var ha=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ai(ha)},g.__private__.setFillColor=g.setFillColor=function(v,D,Z,re){return ha=Yr({ch1:v,ch2:D,ch3:Z,ch4:re,pdfColorType:"fill",precision:2}),te(ha),this};var ds=t.textColor||"0 g",da=g.__private__.getTextColor=g.getTextColor=function(){return ai(ds)};g.__private__.setTextColor=g.setTextColor=function(v,D,Z,re){return ds=Yr({ch1:v,ch2:D,ch3:Z,ch4:re,pdfColorType:"text",precision:3}),this};var So=t.charSpace,fa=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(So||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return So=v,this};var Bl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var D=g.CapJoinStyles[v];if(D===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bl=D,te(D+" J"),this};var pa=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var D=g.CapJoinStyles[v];if(D===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pa=D,te(D+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(N(T(v))+" M"),this},g.GState=rm,g.setGState=function(v){(v=typeof v=="string"?sn[Hn[v]]:Vs(null,v)).equals(Pr)||(te("/"+v.id+" gs"),Pr=v)};var Vs=function(v,D){if(!v||!Hn[v]){var Z=!1;for(var re in sn)if(sn.hasOwnProperty(re)&&sn[re].equals(D)){Z=!0;break}if(Z)D=sn[re];else{var de="GS"+(Object.keys(sn).length+1).toString(10);sn[de]=D,D.id=de}return v&&(Hn[v]=D.id),It.publish("addGState",D),D}};g.addGState=function(v,D){return Vs(v,D),this},g.saveGraphicsState=function(){return te("q"),yr.push({key:Lt,size:Ue,color:ds}),this},g.restoreGraphicsState=function(){te("Q");var v=yr.pop();return Lt=v.key,Ue=v.size,ds=v.color,Pr=null,this},g.setCurrentTransformationMatrix=function(v){return te(v.toString()+" cm"),this},g.comment=function(v){return te("#"+v),this};var Lo=function(v,D){var Z=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(Ae){isNaN(Ae)||(Z=parseFloat(Ae))}});var re=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(Ae){isNaN(Ae)||(re=parseFloat(Ae))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Ae){de=Ae.toString()}}),this},ga=function(v,D,Z,re){Lo.call(this,v,D),this.type="rect";var de=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Me){isNaN(Me)||(de=parseFloat(Me))}});var Ae=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Me){isNaN(Me)||(Ae=parseFloat(Me))}}),this},Ao=function(){this.page=Ht,this.currentPage=H,this.pages=Ce.slice(0),this.pagesContext=ot.slice(0),this.x=pn,this.y=xt,this.matrix=vr,this.width=Us(H),this.height=Nr(H),this.outputDestination=Ve,this.id="",this.objectNumber=-1};Ao.prototype.restore=function(){Ht=this.page,H=this.currentPage,ot=this.pagesContext,Ce=this.pages,pn=this.x,xt=this.y,vr=this.matrix,va(H,this.width),ya(H,this.height),Ve=this.outputDestination};var ma=function(v,D,Z,re,de){Qr.push(new Ao),Ht=H=0,Ce=[],pn=v,xt=D,vr=de,Xr([Z,re])},Ku=function(v){if(Zn[v])Qr.pop().restore();else{var D=new Ao,Z="Xo"+(Object.keys(gn).length+1).toString(10);D.id=Z,Zn[v]=Z,gn[Z]=D,It.publish("addFormObject",D),Qr.pop().restore()}};for(var fs in g.beginFormObject=function(v,D,Z,re,de){return ma(v,D,Z,re,de),this},g.endFormObject=function(v){return Ku(v),this},g.doFormObject=function(v,D){var Z=gn[Zn[v]];return te("q"),te(D.toString()+" cm"),te("/"+Z.id+" Do"),te("Q"),this},g.getFormObject=function(v){var D=gn[Zn[v]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},g.save=function(v,D){return v=v||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Xl(sa(us()),v),typeof Xl.unload=="function"&&pt.setTimeout&&setTimeout(Xl.unload,911),this):new Promise(function(Z,re){try{var de=Xl(sa(us()),v);typeof Xl.unload=="function"&&pt.setTimeout&&setTimeout(Xl.unload,911),Z(de)}catch(Ae){re(Ae.message)}})},ft.API)ft.API.hasOwnProperty(fs)&&(fs==="events"&&ft.API.events.length?function(v,D){var Z,re,de;for(de=D.length-1;de!==-1;de--)Z=D[de][0],re=D[de][1],v.subscribe.apply(v,[Z].concat(typeof re=="function"?[re]:re))}(It,ft.API.events):g[fs]=ft.API[fs]);var Us=g.getPageWidth=function(v){return(ot[v=v||H].mediaBox.topRightX-ot[v].mediaBox.bottomLeftX)/$e},va=g.setPageWidth=function(v,D){ot[v].mediaBox.topRightX=D*$e+ot[v].mediaBox.bottomLeftX},Nr=g.getPageHeight=function(v){return(ot[v=v||H].mediaBox.topRightY-ot[v].mediaBox.bottomLeftY)/$e},ya=g.setPageHeight=function(v,D){ot[v].mediaBox.topRightY=D*$e+ot[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:In,getStyle:Hu,getFont:Ol,getFontSize:qe,getCharSpace:fa,getTextColor:da,getLineHeight:jl,getLineHeightFactor:Eo,getLineWidth:ca,write:dt,getHorizontalCoordinate:Ii,getVerticalCoordinate:er,getCoordinateString:Gu,getVerticalCoordinateString:Bs,collections:{},newObject:On,newAdditionalObject:ta,newObjectDeferred:xn,newObjectDeferredBegin:Gn,getFilters:Jr,putStream:Mn,events:It,scaleFactor:$e,pageSize:{getWidth:function(){return Us(H)},setWidth:function(v){va(H,v)},getHeight:function(){return Nr(H)},setHeight:function(v){ya(H,v)}},encryptionOptions:d,encryption:vn,getEncryptor:$u,output:oa,getNumberOfPages:Xt,pages:Ce,out:te,f2:F,f3:L,getPageInfo:Nl,getPageInfoByObjId:gt,getCurrentPageInfo:Fs,getPDFVersion:S,Point:Lo,Rectangle:ga,Matrix:Ke,hasHotfix:js},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Us(H)},set:function(v){va(H,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Nr(H)},set:function(v){ya(H,v)},enumerable:!0,configurable:!0}),zu.call(g,je),Lt="F1",wo(i,n),It.publish("initialized"),g}gc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},gc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},gc.prototype.processOwnerPassword=function(t,e){return s2(i2(e).substr(0,5),t)},gc.prototype.encryptor=function(t,e){var n=i2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return s2(n,r)}},rm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||tn(t)!==tn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ft.API={events:[]},ft.version="2.5.2";var Tn=ft.API,_w=1,ju=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(t){return t.toFixed(2)},Ra=function(t){return t.toFixed(5)};Tn.__acroform__={};var Li=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},uE=function(t){return t*_w},Ws=function(t){var e=new Gx,n=tt.internal.getHeight(t)||0,r=tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Et(r)),Number(Et(n))],e},tV=Tn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},nV=Tn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},rV=Tn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Un=Tn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rV(t,e-1)},zn=Tn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tV(t,e-1)},qn=Tn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nV(t,e-1)},iV=Tn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Et(l.lowerLeft_X)),Number(Et(l.lowerLeft_Y)),Number(Et(l.upperRight_X)),Number(Et(l.upperRight_Y))]},sV=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=o2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ws(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},o2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var s=n,o=tt.internal.getHeight(t)||0;o=o<0?-o:o;var a=tt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(L,T,O){if(L+1<i.length){var X=T+" "+i[L+1][0];return Ip(X,t,O).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,d,p=Ip("3",t,s).height,m=t.multiline?o-s:(o-p)/2,g=m+=2,E=0,S=0,I=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ip(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",b=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var B=!1;if(i[R].length!==1&&I!==i[R].length-1){if((p+2)*(b+2)+2>o)continue e;_+=i[R][I],B=!0,S=R,R--}else{_=(_+=i[R][I]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var z=parseInt(R),K=l(z,_,s),N=R>=i.length-1;if(K&&!N){_+=" ",I=0;continue}if(K||N){if(N)S=z;else if(t.multiline&&(p+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(p+2)*(b+2)+2>o)continue e;S=z}}for(var x="",k=E;k<=S;k++){var F=i[k];if(t.multiline){if(k===S){x+=F[I]+" ",I=(I+1)%F.length;continue}if(k===E){x+=F[F.length-1]+" ";continue}}x+=F[0]+" "}switch(x=x.substr(x.length-1)==" "?x.substr(0,x.length-1):x,d=Ip(x,t,s).width,t.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}e+=Et(c)+" "+Et(g)+` Td
`,e+="("+ju(x)+`) Tj
`,e+=-Et(c)+` 0 Td
`,g=-(s+2),d=0,E=B?S:S+1,b++,_=""}break}return r.text=e,r.fontSize=s,r},Ip=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},oV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aV=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},lV=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),tn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},uV=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ts.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(oV)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_w=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Kx,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&aV(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=iV(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=tt.createDefaultAppearanceStream(a),tn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=sV(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var p="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var g=a.appearanceStreamContent[m];if(p+="/"+m+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var E=g[o];typeof E=="function"&&(E=E.call(i,a)),p+="/"+o+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=g)=="function"&&(E=E.call(i,a)),p+="/"+o+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&lV(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Wx=Tn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),tn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+ju(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},E0=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ju(r(t))+")"},Zs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zs.prototype.toString=function(){return this.objId+" 0 R"},Zs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Zs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Wx(i,this.objId,this.scope)}):i instanceof Zs?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Gx=function(){Zs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Li(Gx,Zs);var Kx=function(){Zs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ju(n(t))+")"}},set:function(n){t=n}})};Li(Kx,Zs);var Ts=function t(){Zs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Un(e,3)},set:function(_){_?this.F=zn(e,3):this.F=qn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof im)return;s="FieldObject"+t.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+ju(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/_w:c},set:function(_){c=_}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof im||this instanceof du))return E0(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof fr?m:E0(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof fr?_:_.substr(0,1)==="("?uc(_.substr(1,_.length-2)):uc(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fr?uc(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof fr?"/"+_:_}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof fr?g:E0(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof fr?_:_.substr(0,1)==="("?uc(_.substr(1,_.length-2)):uc(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fr?uc(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof fr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(_){_=!!_,S=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(_){E=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,1)},set:function(_){_?this.Ff=zn(this.Ff,1):this.Ff=qn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,2)},set:function(_){_?this.Ff=zn(this.Ff,2):this.Ff=qn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,3)},set:function(_){_?this.Ff=zn(this.Ff,3):this.Ff=qn(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');I=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(I){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Li(Ts,Zs);var $c=function(){Ts.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Wx(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,18)},set:function(n){n?this.Ff=zn(this.Ff,18):this.Ff=qn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=zn(this.Ff,19):this.Ff=qn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,20)},set:function(n){n?(this.Ff=zn(this.Ff,20),e.sort()):this.Ff=qn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,22)},set:function(n){n?this.Ff=zn(this.Ff,22):this.Ff=qn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,23)},set:function(n){n?this.Ff=zn(this.Ff,23):this.Ff=qn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,27)},set:function(n){n?this.Ff=zn(this.Ff,27):this.Ff=qn(this.Ff,27)}}),this.hasAppearanceStream=!1};Li($c,Ts);var Hc=function(){$c.call(this),this.fontName="helvetica",this.combo=!1};Li(Hc,$c);var Wc=function(){Hc.call(this),this.combo=!0};Li(Wc,Hc);var ng=function(){Wc.call(this),this.edit=!0};Li(ng,Wc);var fr=function(){Ts.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,15)},set:function(n){n?this.Ff=zn(this.Ff,15):this.Ff=qn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,16)},set:function(n){n?this.Ff=zn(this.Ff,16):this.Ff=qn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,17)},set:function(n){n?this.Ff=zn(this.Ff,17):this.Ff=qn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,26)},set:function(n){n?this.Ff=zn(this.Ff,26):this.Ff=qn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ju(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){tn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Li(fr,Ts);var rg=function(){fr.call(this),this.pushButton=!0};Li(rg,fr);var Gc=function(){fr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Li(Gc,fr);var im=function(){var t,e;Ts.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+ju(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){tn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Li(im,Ts),Gc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Gc.prototype.createOption=function(t){var e=new im;return e.Parent=this,e.optionName=t,this.Kids.push(e),cV.call(this.scope,e),e};var ig=function(){fr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};Li(ig,fr);var du=function(){Ts.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,13)},set:function(e){e?this.Ff=zn(this.Ff,13):this.Ff=qn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,21)},set:function(e){e?this.Ff=zn(this.Ff,21):this.Ff=qn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,23)},set:function(e){e?this.Ff=zn(this.Ff,23):this.Ff=qn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,24)},set:function(e){e?this.Ff=zn(this.Ff,24):this.Ff=qn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,25)},set:function(e){e?this.Ff=zn(this.Ff,25):this.Ff=qn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,26)},set:function(e){e?this.Ff=zn(this.Ff,26):this.Ff=qn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Li(du,Ts);var sg=function(){du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,14)},set:function(t){t?this.Ff=zn(this.Ff,14):this.Ff=qn(this.Ff,14)}}),this.password=!0};Li(sg,du);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=o2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Et(tt.internal.getWidth(t))+" "+Et(tt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Et(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=tt.internal.getHeight(t),o=tt.internal.getWidth(t),a=o2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Et(o)+" "+Et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Et(o-1)+" "+Et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Et(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(tt.internal.getWidth(t))+" "+Et(tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=tt.RadioButton.Circle.YesNormal,e.D[t]=tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ra(tt.internal.getWidth(t)/2)+" "+Ra(tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5)),o=Number((r*tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ra(tt.internal.getWidth(t)/2)+" "+Ra(tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ra(tt.internal.getWidth(t)/2)+" "+Ra(tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ra(tt.internal.getWidth(t)/2)+" "+Ra(tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=tt.RadioButton.Cross.YesNormal,e.D[t]=tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ws(t);e.scope=t.scope;var n=[],r=tt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Et(tt.internal.getWidth(t)-2)+" "+Et(tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),n.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),n.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),n.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=tt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(tt.internal.getWidth(t))+" "+Et(tt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Et(tt.internal.getWidth(t)-2)+" "+Et(tt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(n.x1.x)+" "+Et(n.x1.y)+" m"),r.push(Et(n.x2.x)+" "+Et(n.x2.y)+" l"),r.push(Et(n.x4.x)+" "+Et(n.x4.y)+" m"),r.push(Et(n.x3.x)+" "+Et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ws(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(tt.internal.getWidth(t))+" "+Et(tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=tt.internal.getWidth(t),n=tt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},tt.internal.getWidth=function(t){var e=0;return tn(t)==="object"&&(e=uE(t.Rect[2])),e},tt.internal.getHeight=function(t){var e=0;return tn(t)==="object"&&(e=uE(t.Rect[3])),e};var cV=Tn.addField=function(t){if(uV(this,t),!(t instanceof Ts))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Tn.AcroFormChoiceField=$c,Tn.AcroFormListBox=Hc,Tn.AcroFormComboBox=Wc,Tn.AcroFormEditBox=ng,Tn.AcroFormButton=fr,Tn.AcroFormPushButton=rg,Tn.AcroFormRadioButton=Gc,Tn.AcroFormCheckBox=ig,Tn.AcroFormTextField=du,Tn.AcroFormPasswordField=sg,Tn.AcroFormAppearance=tt,Tn.AcroForm={ChoiceField:$c,ListBox:Hc,ComboBox:Wc,EditBox:ng,Button:fr,PushButton:rg,RadioButton:Gc,CheckBox:ig,TextField:du,PasswordField:sg,Appearance:tt},ft.AcroForm={ChoiceField:$c,ListBox:Hc,ComboBox:Wc,EditBox:ng,Button:fr,PushButton:rg,RadioButton:Gc,CheckBox:ig,TextField:du,PasswordField:sg,Appearance:tt};function Qx(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(L,T){var O,X,fe,ge,ve,ee=e;if((T=T||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(K(L))for(ve in n)for(fe=n[ve],O=0;O<fe.length;O+=1){for(ge=!0,X=0;X<fe[O].length;X+=1)if(fe[O][X]!==void 0&&fe[O][X]!==L[X]){ge=!1;break}if(ge===!0){ee=ve;break}}else for(ve in n)for(fe=n[ve],O=0;O<fe.length;O+=1){for(ge=!0,X=0;X<fe[O].length;X+=1)if(fe[O][X]!==void 0&&fe[O][X]!==L.charCodeAt(X)){ge=!1;break}if(ge===!0){ee=ve;break}}return ee===e&&T!==e&&(ee=T),ee},i=function L(T){for(var O=this.internal.write,X=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:T.width}),ge.push({key:"Height",value:T.height}),T.colorSpace===I.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===I.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var ve="",ee=0,ie=T.transparency.length;ee<ie;ee++)ve+=T.transparency[ee]+" "+T.transparency[ee]+" ";ge.push({key:"Mask",value:"["+ve+"]"})}T.sMask!==void 0&&ge.push({key:"SMask",value:T.objectId+1+" 0 R"});var ae=T.filter!==void 0?["/"+T.filter]:void 0;if(X({data:T.data,additionalKeyValues:ge,alreadyAppliedFilters:ae,objectId:T.objectId}),O("endobj"),"sMask"in T&&T.sMask!==void 0){var Ie="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,M={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Ie,data:T.sMask};"filter"in T&&(M.filter=T.filter),L.call(this,M)}if(T.colorSpace===I.INDEXED){var H=this.internal.newObject();X({data:x(new Uint8Array(T.palette)),objectId:H}),O("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var T in L)i.call(this,L[T])},o=function(){var L,T=this.internal.collections.addImage_images,O=this.internal.write;for(var X in T)O("/I"+(L=T[X]).index,L.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var L=this.internal.collections.addImage_images;return a.call(this),L},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(L){return typeof t["process"+L.toUpperCase()]=="function"},p=function(L){return tn(L)==="object"&&L.nodeType===1},m=function(L,T){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var O=""+L.getAttribute("src");if(O.indexOf("data:image/")===0)return Cd(unescape(O).split("base64,").pop());var X=t.loadFile(O,!0);if(X!==void 0)return X}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var fe;switch(T){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return Cd(L.toDataURL(fe,1).split("base64,").pop())}},g=function(L){var T=this.internal.collections.addImage_images;if(T){for(var O in T)if(L===T[O].alias)return T[O]}},E=function(L,T,O){return L||T||(L=-96,T=-96),L<0&&(L=-1*O.width*72/L/this.internal.scaleFactor),T<0&&(T=-1*O.height*72/T/this.internal.scaleFactor),L===0&&(L=T*O.width/O.height),T===0&&(T=L*O.height/O.width),[L,T]},S=function(L,T,O,X,fe,ge){var ve=E.call(this,O,X,fe),ee=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,ae=l.call(this);if(O=ve[0],X=ve[1],ae[fe.index]=fe,ge){ge*=Math.PI/180;var Ie=Math.cos(ge),M=Math.sin(ge),H=function(G){return G.toFixed(4)},J=[H(Ie),H(M),H(-1*M),H(Ie),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,ee(L),ie(T+X),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ee(O),"0","0",ee(X),"0","0","cm"].join(" "))):this.internal.write([ee(O),"0","0",ee(X),ee(L),ie(T+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},I=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(L){var T,O,X=0;if(typeof L=="string")for(O=L.length,T=0;T<O;T++)X=(X<<5)-X+L.charCodeAt(T),X|=0;else if(K(L))for(O=L.byteLength/2,T=0;T<O;T++)X=(X<<5)-X+L[T],X|=0;return X},R=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var T=!0;return L.length===0&&(T=!1),L.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(T=!1),T},B=t.__addimage__.extractImageFromDataUrl=function(L){var T=(L=L||"").split("base64,"),O=null;if(T.length===2){var X=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(X)&&(O={mimeType:X[1],charset:X[2],data:T[1]})}return O},z=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(L){return z()&&L instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(L){return z()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function(L){for(var T=L.length,O=new Uint8Array(T),X=0;X<T;X++)O[X]=L.charCodeAt(X);return O},x=t.__addimage__.arrayBufferToBinaryString=function(L){for(var T="",O=K(L)?L:new Uint8Array(L),X=0;X<O.length;X+=8192)T+=String.fromCharCode.apply(null,O.subarray(X,X+8192));return T};t.addImage=function(){var L,T,O,X,fe,ge,ve,ee,ie;if(typeof arguments[1]=="number"?(T=e,O=arguments[1],X=arguments[2],fe=arguments[3],ge=arguments[4],ve=arguments[5],ee=arguments[6],ie=arguments[7]):(T=arguments[1],O=arguments[2],X=arguments[3],fe=arguments[4],ge=arguments[5],ve=arguments[6],ee=arguments[7],ie=arguments[8]),tn(L=arguments[0])==="object"&&!p(L)&&"imageData"in L){var ae=L;L=ae.imageData,T=ae.format||T||e,O=ae.x||O||0,X=ae.y||X||0,fe=ae.w||ae.width||fe,ge=ae.h||ae.height||ge,ve=ae.alias||ve,ee=ae.compression||ee,ie=ae.rotation||ae.angle||ie}var Ie=this.internal.getFilters();if(ee===void 0&&Ie.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(O)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=k.call(this,L,T,ve,ee);return S.call(this,O,X,fe,ge,M,ie),this};var k=function(L,T,O,X){var fe,ge,ve;if(typeof L=="string"&&r(L)===e){L=unescape(L);var ee=F(L,!1);(ee!==""||(ee=t.loadFile(L,!0))!==void 0)&&(L=ee)}if(p(L)&&(L=m(L,T)),T=r(L,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ve=O)==null||ve.length===0)&&(O=function(ie){return typeof ie=="string"||K(ie)?b(ie):K(ie.data)?b(ie.data):null}(L)),(fe=g.call(this,O))||(z()&&(L instanceof Uint8Array||T==="RGBA"||(ge=L,L=N(L))),fe=this["process"+T.toUpperCase()](L,c.call(this),O,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:_.NONE}(X),ge)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},F=t.__addimage__.convertBase64ToBinaryString=function(L,T){var O;T=typeof T!="boolean"||T;var X,fe="";if(typeof L=="string"){X=(O=B(L))!==null?O.data:L;try{fe=Cd(X)}catch(ge){if(T)throw R(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};t.getImageProperties=function(L){var T,O,X="";if(p(L)&&(L=m(L)),typeof L=="string"&&r(L)===e&&((X=F(L,!1))===""&&(X=t.loadFile(L)||""),L=X),O=r(L),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!z()||L instanceof Uint8Array||(L=N(L)),!(T=this["process"+O.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=O,T}})(ft.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,d=!1,p=0;p<c.length&&!d;p++)switch((r=c[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var g=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(S.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(_(r.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(_(b))+") >>",S.content=s;var R=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(S.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(E(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var K=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+K+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(c*d)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=t.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(S){var I=0,_=n,b="",R=0;for(I=0;I<S.length;I+=1)_[S.charCodeAt(I)]!==void 0?(R++,typeof(_=_[S.charCodeAt(I)])=="number"&&(b+=String.fromCharCode(_),_=n,R=0),I===S.length-1&&(_=n,b+=S.charAt(I-(R-1)),I-=R-1,R=0)):(_=n,b+=S.charAt(I-R),I-=R,R=0);return b};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(S,I,_){return o(S)?s(S)===!1?-1:!c(S)||!o(I)&&!o(_)||!o(_)&&a(I)||a(S)&&!o(I)||a(S)&&l(I)||a(S)&&a(I)?0:d(S)&&o(I)&&!a(I)&&o(_)&&c(_)?3:a(S)||!o(_)?1:2:-1},g=function(S){var I=0,_=0,b=0,R="",B="",z="",K=(S=S||"").split("\\s+"),N=[];for(I=0;I<K.length;I+=1){for(N.push(""),_=0;_<K[I].length;_+=1)R=K[I][_],B=K[I][_-1],z=K[I][_+1],o(R)?(b=m(R,B,z),N[I]+=b!==-1?String.fromCharCode(e[R.charCodeAt(0)][b]):R):N[I]+=R;N[I]=p(N[I])}return N.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var S,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(I)){var b=0;for(_=[],b=0;b<I.length;b+=1)Array.isArray(I[b])?_.push([g(I[b][0]),I[b][1],I[b][2]]):_.push([g(I[b])]);S=_}else S=g(I);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",E])}(ft.API),ft.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(S){E=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),p=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,g=0,E=0,S=0,I=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(R,B){return R.concat(I.splitTextToSize(B,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)g<(S=this.getStringUnitWidth(l[b],{font:p})*d)&&(g=S);return g!==0&&(E=l.length),{w:g/=m,h:Math.max((E*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,g&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,p,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,E,S,I,_=[],b=[],R=[],B={},z={},K=[],N=[],x=(m=m||{}).autoSize||!1,k=m.printHeaders!==!1,F=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,L=m.margins||Object.assign({width:this.getPageWidth()},e),T=typeof m.padding=="number"?m.padding:3,O=m.headerBackgroundColor||"#c8c8c8",X=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=X,this.setFontSize(F),p==null)b=_=Object.keys(d[0]),R=_.map(function(){return"left"});else if(Array.isArray(p)&&tn(p[0])==="object")for(_=p.map(function(ae){return ae.name}),b=p.map(function(ae){return ae.prompt||ae.name||""}),R=p.map(function(ae){return ae.align||"left"}),g=0;g<p.length;g+=1)z[p[g].name]=p[g].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(b=_=p,R=_.map(function(){return"left"}));if(x||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<_.length;g+=1){for(B[I=_[g]]=d.map(function(ae){return ae[I]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(b[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=B[I],this.setFont(void 0,"normal"),S=0;S<E.length;S+=1)K.push(this.getTextDimensions(E[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[I]=Math.max.apply(null,K)+T+T,K=[]}if(k){var fe={};for(g=0;g<_.length;g+=1)fe[_[g]]={},fe[_[g]].text=b[g],fe[_[g]].align=R[g];var ge=a.call(this,fe,z);N=_.map(function(ae){return new s(l,c,z[ae],ge,fe[ae].text,void 0,fe[ae].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var ve=p.reduce(function(ae,Ie){return ae[Ie.name]=Ie.align,ae},{});for(g=0;g<d.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:d[g]},this);var ee=a.call(this,d[g],z);for(S=0;S<_.length;S+=1){var ie=d[g][_[S]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:S,data:ie},this),o.call(this,new s(l,c,z[_[S]],ee,ie,g+2,ve[_[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(g){var E=l[g];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,c[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/m+d+d},this).reduce(function(g,E){return Math.max(g,E)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(E)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(ft.API);var Yx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Jx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],a2=Qx(Jx),Xx=[100,200,300,400,500,600,700,800,900],hV=Qx(Xx);function l2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Yx[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof a2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function cE(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var dV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function fV(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},dV,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=l2(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+dE(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var d=a2[l],p=d<=a2.normal?-1:1,m=cE(c,Jx,d,p);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var d=Yx[l],p=0;p<d.length;++p)if(c[d[p]])return c[d[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=hV[l],p=cE(c,Xx,d,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+dE(s)+"'.");return o}function fE(t){return t.trimLeft()}function pV(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function gV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Pp,pE,gE,S0=["times"];(function(t){var e,n,r,i,s,o,a,l,c,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(_e){J=!!_e}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(_e){G=!!_e}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(_e){isNaN(_e)||(ne=_e)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(_e){isNaN(_e)||(ue=_e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(_e){var te;typeof _e=="number"?te=[_e,_e,_e,_e]:((te=new Array(4))[0]=_e[0],te[1]=_e.length>=2?_e[1]:te[0],te[2]=_e.length>=3?_e[2]:te[0],te[3]=_e.length>=4?_e[3]:te[1]),c.margin=te}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(_e){he=_e}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(_e){me=_e}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(_e){Ee=_e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(_e){_e instanceof d&&(c=_e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(_e){c.path=_e}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(_e){Ce=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var te;te=m(_e),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var te=m(_e);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Be=null;function Ve(_e,te){if(Be===null){var dt=function(Ze){var je=[];return Object.keys(Ze).forEach(function(Ue){Ze[Ue].forEach(function(ze){var qe=null;switch(ze){case"bold":qe={family:Ue,weight:"bold"};break;case"italic":qe={family:Ue,style:"italic"};break;case"bolditalic":qe={family:Ue,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:Ue}}qe!==null&&(qe.ref={name:Ue,style:ze},je.push(qe))})}),je}(_e.getFontList());Be=function(Ze){for(var je={},Ue=0;Ue<Ze.length;++Ue){var ze=l2(Ze[Ue]),qe=ze.family,et=ze.stretch,ht=ze.style,mt=ze.weight;je[qe]=je[qe]||{},je[qe][et]=je[qe][et]||{},je[qe][et][ht]=je[qe][et][ht]||{},je[qe][et][ht][mt]=ze}return je}(dt.concat(te))}return Be}var nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(_e){Be=null,nt=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var te;if(this.ctx.font=_e,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var dt=te[1],Ze=(te[2],te[3]),je=te[4],Ue=(te[5],te[6]),ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(ze==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var qe=function(st){var Lt,$e,pn=[],xt=st.trim();if(xt==="")return S0;if(xt in hE)return[hE[xt]];for(;xt!=="";){switch($e=null,Lt=(xt=fE(xt)).charAt(0)){case'"':case"'":$e=pV(xt.substring(1),Lt);break;default:$e=gV(xt)}if($e===null||(pn.push($e[0]),(xt=fE($e[1]))!==""&&xt.charAt(0)!==","))return S0;xt=xt.replace(/^,/,"")}return pn}(Ue);if(this.fontFaces){var et=fV(Ve(this.pdf,this.fontFaces),qe.map(function(st){return{family:st,stretch:"normal",weight:Ze,style:dt}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var ht="";(Ze==="bold"||parseInt(Ze,10)>=700||dt==="bold")&&(ht="bold"),dt==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var mt="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<qe.length;at++){if(this.pdf.internal.getFont(qe[at],ht,{noFallback:!0,disableWarning:!0})!==void 0){mt=qe[at];break}if(ht==="bolditalic"&&this.pdf.internal.getFont(qe[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=qe[at],ht="bold";else if(this.pdf.internal.getFont(qe[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=qe[at],ht="normal";break}}if(mt===""){for(var Rt=0;Rt<qe.length;Rt++)if(rt[qe[Rt]]){mt=rt[qe[Rt]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){B.call(this,"fill",!1)},p.prototype.stroke=function(){B.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(M,H)},p.prototype.closePath=function(){var M=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&tn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},p.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,H,J,G){if(isNaN(J)||isNaN(G)||isNaN(M)||isNaN(H))throw un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(J,G)),ue=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},p.prototype.bezierCurveTo=function(M,H,J,G,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(M)||isNaN(H)||isNaN(J)||isNaN(G))throw un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(ne,ue)),me=this.ctx.transform.applyToPoint(new o(M,H)),Ee=this.ctx.transform.applyToPoint(new o(J,G));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Ee.x,y2:Ee.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},p.prototype.arc=function(M,H,J,G,ne,ue){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(G)||isNaN(ne))throw un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(M,H));M=he.x,H=he.y;var me=this.ctx.transform.applyToPoint(new o(0,J)),Ee=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(me.x-Ee.x,2)+Math.pow(me.y-Ee.y,2))}Math.abs(ne-G)>=2*Math.PI&&(G=0,ne=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:J,startAngle:G,endAngle:ne,counterclockwise:ue})},p.prototype.arcTo=function(M,H,J,G,ne){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,H,J,G){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(G))throw un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+J,H),this.lineTo(M+J,H+G),this.lineTo(M,H+G),this.lineTo(M,H),this.lineTo(M+J,H),this.lineTo(M,H)},p.prototype.fillRect=function(M,H,J,G){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(G))throw un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,J,G),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},p.prototype.strokeRect=function(M,H,J,G){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(G))throw un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(M,H,J,G),this.stroke())},p.prototype.clearRect=function(M,H,J,G){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(G))throw un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,J,G))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(M){var H,J,G,ne;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,J=0,G=0,ne=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ue!==null)H=parseInt(ue[1]),J=parseInt(ue[2]),G=parseInt(ue[3]),ne=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(ue[1]),J=parseInt(ue[2]),G=parseInt(ue[3]),ne=parseFloat(ue[4]);else{if(ne=1,typeof M=="string"&&M.charAt(0)!=="#"){var he=new qx(M);M=he.ok?he.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,J=M.substring(2,3),J+=J,G=M.substring(3,4),G+=G):(H=M.substring(1,3),J=M.substring(3,5),G=M.substring(5,7)),H=parseInt(H,16),J=parseInt(J,16),G=parseInt(G,16)}}return{r:H,g:J,b:G,a:ne,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,H,J,G){if(isNaN(H)||isNaN(J)||typeof M!="string")throw un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!g.call(this)){var ne=ee(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:M,x:H,y:J,scale:ue,angle:ne,align:this.textAlign,maxWidth:G})}},p.prototype.strokeText=function(M,H,J,G){if(isNaN(H)||isNaN(J)||typeof M!="string")throw un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){G=isNaN(G)?void 0:G;var ne=ee(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:M,x:H,y:J,scale:ue,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:G})}},p.prototype.measureText=function(M){if(typeof M!="string")throw un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,J=this.pdf.internal.scaleFactor,G=H.internal.getFontSize(),ne=H.getStringUnitWidth(M)*G/H.internal.scaleFactor,ue=function(he){var me=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new ue({width:ne*=Math.round(96*J/72*1e4)/1e4})},p.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.rotate=function(M){if(isNaN(M))throw un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.transform=function(M,H,J,G,ne,ue){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(G)||isNaN(ne)||isNaN(ue))throw un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(M,H,J,G,ne,ue);this.ctx.transform=this.ctx.transform.multiply(he)},p.prototype.setTransform=function(M,H,J,G,ne,ue){M=isNaN(M)?1:M,H=isNaN(H)?0:H,J=isNaN(J)?0:J,G=isNaN(G)?1:G,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(M,H,J,G,ne,ue)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,H,J,G,ne,ue,he,me,Ee){var Ce=this.pdf.getImageProperties(M),Be=1,Ve=1,nt=1,_e=1;G!==void 0&&me!==void 0&&(nt=me/G,_e=Ee/ne,Be=Ce.width/G*me/G,Ve=Ce.height/ne*Ee/ne),ue===void 0&&(ue=H,he=J,H=0,J=0),G!==void 0&&me===void 0&&(me=G,Ee=ne),G===void 0&&me===void 0&&(me=Ce.width,Ee=Ce.height);for(var te,dt=this.ctx.transform.decompose(),Ze=ee(dt.rotate.shx),je=new l,Ue=(je=(je=(je=je.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new a(ue-H*nt,he-J*_e,G*Be,ne*Ve)),ze=I.call(this,Ue),qe=[],et=0;et<ze.length;et+=1)qe.indexOf(ze[et])===-1&&qe.push(ze[et]);if(R(qe),this.autoPaging)for(var ht=qe[0],mt=qe[qe.length-1],rt=ht;rt<mt+1;rt++){this.pdf.setPage(rt);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=rt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=rt===1?0:st+(rt-2)*Lt;if(this.ctx.clip_path.length!==0){var pn=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(te,this.posX+this.margin[3],-$e+Rt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=pn}var xt=JSON.parse(JSON.stringify(Ue));xt=b([xt],this.posX+this.margin[3],-$e+Rt+this.ctx.prevPageLastElemOffset)[0];var vr=(rt>ht||rt<mt)&&S.call(this);vr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Lt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,Ze),vr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,Ze)};var I=function(M,H,J){var G=[];H=H||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":G.push(Math.floor((M.y+ne)/J)+1);break;case"arc":G.push(Math.floor((M.y+ne-M.radius)/J)+1),G.push(Math.floor((M.y+ne+M.radius)/J)+1);break;case"qct":var ue=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);G.push(Math.floor((ue.y+ne)/J)+1),G.push(Math.floor((ue.y+ue.h+ne)/J)+1);break;case"bct":var he=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);G.push(Math.floor((he.y+ne)/J)+1),G.push(Math.floor((he.y+he.h+ne)/J)+1);break;case"rect":G.push(Math.floor((M.y+ne)/J)+1),G.push(Math.floor((M.y+M.h+ne)/J)+1)}for(var me=0;me<G.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<G[me];)_.call(this);return G},_=function(){var M=this.fillStyle,H=this.strokeStyle,J=this.font,G=this.lineCap,ne=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=J,this.lineCap=G,this.lineWidth=ne,this.lineJoin=ue},b=function(M,H,J){for(var G=0;G<M.length;G++)switch(M[G].type){case"bct":M[G].x2+=H,M[G].y2+=J;case"qct":M[G].x1+=H,M[G].y1+=J;case"mt":case"lt":case"arc":default:M[G].x+=H,M[G].y+=J}return M},R=function(M){return M.sort(function(H,J){return H-J})},B=function(M,H){for(var J,G,ne=this.fillStyle,ue=this.strokeStyle,he=this.lineCap,me=this.lineWidth,Ee=Math.abs(me*this.ctx.transform.scaleX),Ce=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),nt=[],_e=0;_e<Ve.length;_e++)if(Ve[_e].x!==void 0)for(var te=I.call(this,Ve[_e]),dt=0;dt<te.length;dt+=1)nt.indexOf(te[dt])===-1&&nt.push(te[dt]);for(var Ze=0;Ze<nt.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<nt[Ze];)_.call(this);if(R(nt),this.autoPaging)for(var je=nt[0],Ue=nt[nt.length-1],ze=je;ze<Ue+1;ze++){this.pdf.setPage(ze),this.fillStyle=ne,this.strokeStyle=ue,this.lineCap=he,this.lineWidth=Ee,this.lineJoin=Ce;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=ze===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=ze===1?0:ht+(ze-2)*mt;if(this.ctx.clip_path.length!==0){var at=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(J,this.posX+this.margin[3],-rt+et+this.ctx.prevPageLastElemOffset),z.call(this,M,!0),this.path=at}if(G=JSON.parse(JSON.stringify(Be)),this.path=b(G,this.posX+this.margin[3],-rt+et+this.ctx.prevPageLastElemOffset),H===!1||ze===0){var Rt=(ze>je||ze<Ue)&&S.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,mt,null).clip().discardPath()),z.call(this,M,H),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Ee,z.call(this,M,H),this.lineWidth=me;this.path=Be},z=function(M,H){if((M!=="stroke"||H||!E.call(this))&&(M==="stroke"||H||!g.call(this))){for(var J,G,ne=[],ue=this.path,he=0;he<ue.length;he++){var me=ue[he];switch(me.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:me,deltas:[],abs:[]});break;case"lt":var Ee=ne.length;if(ue[he-1]&&!isNaN(ue[he-1].x)&&(J=[me.x-ue[he-1].x,me.y-ue[he-1].y],Ee>0)){for(;Ee>=0;Ee--)if(ne[Ee-1].close!==!0&&ne[Ee-1].begin!==!0){ne[Ee-1].deltas.push(J),ne[Ee-1].abs.push(me);break}}break;case"bct":J=[me.x1-ue[he-1].x,me.y1-ue[he-1].y,me.x2-ue[he-1].x,me.y2-ue[he-1].y,me.x-ue[he-1].x,me.y-ue[he-1].y],ne[ne.length-1].deltas.push(J);break;case"qct":var Ce=ue[he-1].x+2/3*(me.x1-ue[he-1].x),Be=ue[he-1].y+2/3*(me.y1-ue[he-1].y),Ve=me.x+2/3*(me.x1-me.x),nt=me.y+2/3*(me.y1-me.y),_e=me.x,te=me.y;J=[Ce-ue[he-1].x,Be-ue[he-1].y,Ve-ue[he-1].x,nt-ue[he-1].y,_e-ue[he-1].x,te-ue[he-1].y],ne[ne.length-1].deltas.push(J);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(me)}}G=H?null:M==="stroke"?"stroke":"fill";for(var dt=!1,Ze=0;Ze<ne.length;Ze++)if(ne[Ze].arc)for(var je=ne[Ze].abs,Ue=0;Ue<je.length;Ue++){var ze=je[Ue];ze.type==="arc"?x.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,H,!dt):O.call(this,ze.x,ze.y),dt=!0}else if(ne[Ze].close===!0)this.pdf.internal.out("h"),dt=!1;else if(ne[Ze].begin!==!0){var qe=ne[Ze].start.x,et=ne[Ze].start.y;X.call(this,ne[Ze].deltas,qe,et),dt=!0}G&&k.call(this,G),H&&F.call(this)}},K=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-J;case"top":return M+H-J;case"hanging":return M+H-2*J;case"middle":return M+H/2-J;case"ideographic":return M;case"alphabetic":default:return M}},N=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,J){this.colorStops.push([H,J])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(M,H,J,G,ne,ue,he,me,Ee){for(var Ce=ge.call(this,J,G,ne,ue),Be=0;Be<Ce.length;Be++){var Ve=Ce[Be];Be===0&&(Ee?L.call(this,Ve.x1+M,Ve.y1+H):O.call(this,Ve.x1+M,Ve.y1+H)),fe.call(this,M,H,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}me?F.call(this):k.call(this,he)},k=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(M,H){this.pdf.internal.out(n(M)+" "+r(H)+" m")},T=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var J=this.pdf.getTextDimensions(M.text),G=K.call(this,M.y),ne=N.call(this,G)-J.h,ue=this.ctx.transform.applyToPoint(new o(M.x,G)),he=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ee,Ce,Be,Ve=this.ctx.transform.applyToRectangle(new a(M.x,G,J.w,J.h)),nt=me.applyToRectangle(new a(M.x,ne,J.w,J.h)),_e=I.call(this,nt),te=[],dt=0;dt<_e.length;dt+=1)te.indexOf(_e[dt])===-1&&te.push(_e[dt]);if(R(te),this.autoPaging)for(var Ze=te[0],je=te[te.length-1],Ue=Ze;Ue<je+1;Ue++){this.pdf.setPage(Ue);var ze=Ue===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],ht=et-this.margin[0],mt=this.pdf.internal.pageSize.width-this.margin[1],rt=mt-this.margin[3],at=Ue===1?0:qe+(Ue-2)*ht;if(this.ctx.clip_path.length!==0){var Rt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ee,this.posX+this.margin[3],-1*at+ze),z.call(this,"fill",!0),this.path=Rt}var st=b([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-at+ze+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*M.scale),Be=this.lineWidth,this.lineWidth=Be*M.scale);var Lt=this.autoPaging!=="text";if(Lt||st.y+st.h<=et){if(Lt||st.y>=ze&&st.x<=mt){var $e=Lt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||mt-st.x)[0],pn=b([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-at+ze+this.ctx.prevPageLastElemOffset)[0],xt=Lt&&(Ue>Ze||Ue<je)&&S.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,ht,null).clip().discardPath()),this.pdf.text($e,pn.x,pn.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else st.y<et&&(this.ctx.prevPageLastElemOffset+=et-st.y);M.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Be)}else M.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*M.scale),Be=this.lineWidth,this.lineWidth=Be*M.scale),this.pdf.text(M.text,ue.x+this.posX,ue.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Be)},O=function(M,H,J,G){J=J||0,G=G||0,this.pdf.internal.out(n(M+J)+" "+r(H+G)+" l")},X=function(M,H,J){return this.pdf.lines(M,H,J,null,null)},fe=function(M,H,J,G,ne,ue,he,me){this.pdf.internal.out([e(i(J+M)),e(s(G+H)),e(i(ne+M)),e(s(ue+H)),e(i(he+M)),e(s(me+H)),"c"].join(" "))},ge=function(M,H,J,G){for(var ne=2*Math.PI,ue=Math.PI/2;H>J;)H-=ne;var he=Math.abs(J-H);he<ne&&G&&(he=ne-he);for(var me=[],Ee=G?-1:1,Ce=H;he>1e-5;){var Be=Ce+Ee*Math.min(he,ue);me.push(ve.call(this,M,Ce,Be)),he-=Math.abs(Be-Ce),Ce=Be}return me},ve=function(M,H,J){var G=(J-H)/2,ne=M*Math.cos(G),ue=M*Math.sin(G),he=ne,me=-ue,Ee=he*he+me*me,Ce=Ee+he*ne+me*ue,Be=4/3*(Math.sqrt(2*Ee*Ce)-Ce)/(he*ue-me*ne),Ve=he-Be*me,nt=me+Be*he,_e=Ve,te=-nt,dt=G+H,Ze=Math.cos(dt),je=Math.sin(dt);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:Ve*Ze-nt*je,y2:Ve*je+nt*Ze,x3:_e*Ze-te*je,y3:_e*je+te*Ze,x4:M*Math.cos(J),y4:M*Math.sin(J)}},ee=function(M){return 180*M/Math.PI},ie=function(M,H,J,G,ne,ue){var he=M+.5*(J-M),me=H+.5*(G-H),Ee=ne+.5*(J-ne),Ce=ue+.5*(G-ue),Be=Math.min(M,ne,he,Ee),Ve=Math.max(M,ne,he,Ee),nt=Math.min(H,ue,me,Ce),_e=Math.max(H,ue,me,Ce);return new a(Be,nt,Ve-Be,_e-nt)},ae=function(M,H,J,G,ne,ue,he,me){var Ee,Ce,Be,Ve,nt,_e,te,dt,Ze,je,Ue,ze,qe,et,ht=J-M,mt=G-H,rt=ne-J,at=ue-G,Rt=he-ne,st=me-ue;for(Ce=0;Ce<41;Ce++)Ze=(te=(Be=M+(Ee=Ce/40)*ht)+Ee*((nt=J+Ee*rt)-Be))+Ee*(nt+Ee*(ne+Ee*Rt-nt)-te),je=(dt=(Ve=H+Ee*mt)+Ee*((_e=G+Ee*at)-Ve))+Ee*(_e+Ee*(ue+Ee*st-_e)-dt),Ce==0?(Ue=Ze,ze=je,qe=Ze,et=je):(Ue=Math.min(Ue,Ze),ze=Math.min(ze,je),qe=Math.max(qe,Ze),et=Math.max(et,je));return new a(Math.round(Ue),Math.round(ze),Math.round(qe-Ue),Math.round(et-ze))},Ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,J=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ft.API),function(t){var e=function(s){var o,a,l,c,d,p,m,g,E,S;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(d=((d=((d=((d=(d-(S=d%85))/85)-(E=d%85))/85)-(g=d%85))/85)-(m=d%85))/85)%85,a.push(p+33,m+33,g+33,E+33,S+33)):a.push(122);return function(I,_){for(var b=_;b>0;b--)I.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,d,p=String,m="length",g=255,E="charCodeAt",S="slice",I="replace";for(s[S](-2),s=s[S](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),l=[],c=0,d=(s+=o="uuuuu"[S](s[m]%5||5))[m];d>c;c+=5)a=52200625*(s[E](c)-33)+614125*(s[E](c+1)-33)+7225*(s[E](c+2)-33)+85*(s[E](c+3)-33)+(s[E](c+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(_,b){for(var R=b;R>0;R--)_.pop()}(l,o[m]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=n2(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ft.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,d){var p=new XMLHttpRequest,m=0,g=function(E){var S=E.length,I=[],_=String.fromCharCode;for(m=0;m<S;m+=1)I.push(_(255&E.charCodeAt(m)));return I.join("")};if(p.open("GET",l,!c),p.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(p.onload=function(){p.status===200?d(g(this.responseText)):d(void 0)}),p.send(null),c&&p.status===200)return g(p.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ft.API),function(t){function e(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):J1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):J1(()=>import("./purify.es-a-CayzAK.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=tn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var p=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||p.appendChild(l(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(p.width=c.width,p.height=c.height,p.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(p.value=c.value),p.addEventListener("load",function(){p.scrollTop=c.scrollTop,p.scrollLeft=c.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var g=c[m],E=g.src.find(function(S){return S.format==="truetype"});E&&l.addFont(E.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,c),p}).then(c,d).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(c,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ft.getPageSize=function(o,a,l){if(tn(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,p=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var g,E=0,S=0;if(m.hasOwnProperty(p))E=m[p][1]/d,S=m[p][0]/d;else try{E=l[1],S=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",S>E&&(g=S,S=E,E=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>S&&(g=S,S=E,E=g)}return{width:S,height:E,unit:a,k:d,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(l2):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ft.API),ft.API.addJS=function(t){return gE=t,this.internal.events.subscribe("postPutResources",function(){Pp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pp!==void 0&&pE!==void 0&&this.internal.out("/Names <</JavaScript "+Pp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var p=n.internal.newObject();d.push(p);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var m,g=256*p.charCodeAt(4)+p.charCodeAt(5),E=p.length,S={width:0,height:0,numcomponents:1},I=4;I<E;I+=2){if(I+=g,e.indexOf(p.charCodeAt(I+1))!==-1){m=256*p.charCodeAt(I+5)+p.charCodeAt(I+6),S={width:256*p.charCodeAt(I+7)+p.charCodeAt(I+8),height:m,numcomponents:p.charCodeAt(I+9)};break}g=256*p.charCodeAt(I+2)+p.charCodeAt(I+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(ft.API);var cc,Tp,mE,vE,yE,mV=function(){var t,e,n;function r(s){var o,a,l,c,d,p,m,g,E,S,I,_,b,R;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),E=(function(){var B,z;for(z=[],B=0;B<4;++B)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,p.delay=1e3*d/c,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(b=0;0<=S?b<S:b>S;0<=S?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(I=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,I.slice(0,m)),this.text[g]=String.fromCharCode.apply(String,I.slice(m+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(R=this.colorType)===4||R===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(p,m,g,E){var S,I,_,b,R,B,z,K,N,x,k,F,L,T,O,X,fe,ge,ve,ee,ie,ae=Math.ceil((c.width-p)/g),Ie=Math.ceil((c.height-m)/E),M=c.width==ae&&c.height==Ie;for(T=o*ae,F=M?a:new Uint8Array(T*Ie),B=s.length,L=0,I=0;L<Ie&&l<B;){switch(s[l++]){case 0:for(b=fe=0;fe<T;b=fe+=1)F[I++]=s[l++];break;case 1:for(b=ge=0;ge<T;b=ge+=1)S=s[l++],R=b<o?0:F[I-o],F[I++]=(S+R)%256;break;case 2:for(b=ve=0;ve<T;b=ve+=1)S=s[l++],_=(b-b%o)/o,O=L&&F[(L-1)*T+_*o+b%o],F[I++]=(O+S)%256;break;case 3:for(b=ee=0;ee<T;b=ee+=1)S=s[l++],_=(b-b%o)/o,R=b<o?0:F[I-o],O=L&&F[(L-1)*T+_*o+b%o],F[I++]=(S+Math.floor((R+O)/2))%256;break;case 4:for(b=ie=0;ie<T;b=ie+=1)S=s[l++],_=(b-b%o)/o,R=b<o?0:F[I-o],L===0?O=X=0:(O=F[(L-1)*T+_*o+b%o],X=_&&F[(L-1)*T+(_-1)*o+b%o]),z=R+O-X,K=Math.abs(z-R),x=Math.abs(z-O),k=Math.abs(z-X),N=K<=x&&K<=k?R:x<=k?O:X,F[I++]=(S+N)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var H=((m+L*E)*c.width+p)*o,J=L*T;for(b=0;b<ae;b+=1){for(var G=0;G<o;G+=1)a[H++]=F[J++];H+=(g-1)*o}}L++}}return s=KB(s),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,d,p,m,g;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,s=0,o=p=0,m=a.length;p<m;o=p+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(g=d[s++])!=null?g:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,d,p,m,g,E,S,I,_;if(l=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),E=(c=s.data||s).length,p=S||o,d=m=0,l===1)for(;d<E;)g=S?4*o[d/4]:m,I=p[g++],c[d++]=I,c[d++]=I,c[d++]=I,c[d++]=a?p[g++]:255,m=g;else for(;d<E;)g=S?4*o[d/4]:m,c[d++]=p[g++],c[d++]=p[g++],c[d++]=p[g++],c[d++]=a?p[g++]:255,m=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{e=pt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,d,p,m,g;if(this.animation){for(g=[],a=d=0,p=(m=this.animation.frames).length;d<p;a=++d)o=m[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,g.push(o.image=t(l));return g}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,d,p,m=this;return a=0,p=this.animation,c=p.numFrames,l=p.frames,d=p.numPlays,(o=function(){var g,E;if(g=a++%c,E=l[g],m.renderFrame(s,g),c>1&&a/c<d)return m.animation._timeout=setTimeout(o,E.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function vV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,d=[],p=0,m=null,g=0,E=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];p=t[e++]|t[e++]<<8,m=t[e++],!(1&S)&&(m=null),g=S>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var I=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,B=t[e++],z=B>>6&1,K=1<<(7&B)+1,N=a,x=l,k=!1;B>>7&&(k=!0,N=e,x=K,e+=3*K);var F=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}d.push({x:I,y:_,width:b,height:R,has_local_palette:k,palette_offset:N,palette_size:x,data_offset:F,data_length:e-F,transparent_index:m,interlaced:!!z,delay:p,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return E},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,O){var X=this.frameInfo(T),fe=X.width*X.height,ge=new Uint8Array(fe);wE(t,X.data_offset,ge,fe);var ve=X.palette_offset,ee=X.transparent_index;ee===null&&(ee=256);var ie=X.width,ae=n-ie,Ie=ie,M=4*(X.y*n+X.x),H=4*((X.y+X.height)*n+X.x),J=M,G=4*ae;X.interlaced===!0&&(G+=4*n*7);for(var ne=8,ue=0,he=ge.length;ue<he;++ue){var me=ge[ue];if(Ie===0&&(Ie=ie,(J+=G)>=H&&(G=4*ae+4*n*(ne-1),J=M+(ie+ae)*(ne<<1),ne>>=1)),me===ee)J+=4;else{var Ee=t[ve+3*me],Ce=t[ve+3*me+1],Be=t[ve+3*me+2];O[J++]=Be,O[J++]=Ce,O[J++]=Ee,O[J++]=255}--Ie}},this.decodeAndBlitFrameRGBA=function(T,O){var X=this.frameInfo(T),fe=X.width*X.height,ge=new Uint8Array(fe);wE(t,X.data_offset,ge,fe);var ve=X.palette_offset,ee=X.transparent_index;ee===null&&(ee=256);var ie=X.width,ae=n-ie,Ie=ie,M=4*(X.y*n+X.x),H=4*((X.y+X.height)*n+X.x),J=M,G=4*ae;X.interlaced===!0&&(G+=4*n*7);for(var ne=8,ue=0,he=ge.length;ue<he;++ue){var me=ge[ue];if(Ie===0&&(Ie=ie,(J+=G)>=H&&(G=4*ae+4*n*(ne-1),J=M+(ie+ae)*(ne<<1),ne>>=1)),me===ee)J+=4;else{var Ee=t[ve+3*me],Ce=t[ve+3*me+1],Be=t[ve+3*me+2];O[J++]=Ee,O[J++]=Ce,O[J++]=Be,O[J++]=255}--Ie}}}function wE(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,d=0,p=0,m=0,g=t[e++],E=new Int32Array(4096),S=null;;){for(;d<16&&g!==0;)p|=t[e++]<<d,d+=8,g===1?g=t[e++]:--g;if(d<l)break;var I=p&c;if(p>>=l,d-=l,I!==s){if(I===o)break;for(var _=I<a?I:S,b=0,R=_;R>s;)R=E[R]>>8,++b;var B=R;if(m+b+(_!==I?1:0)>r)return void un.log("Warning, gif stream longer than expected.");n[m++]=B;var z=m+=b;for(_!==I&&(n[m++]=B),R=_;b--;)R=E[R],n[--z]=255&R,R>>=8;S!==null&&a<4096&&(E[a++]=S<<8|B,a>=c+1&&l<12&&(++l,c=c<<1|1)),S=I}else a=o+1,c=(1<<(l=i+1))-1,S=null}return m!==r&&un.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function L0(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),p=new Array(65535),m=new Array(65535),g=new Array(64),E=new Array(64),S=[],I=0,_=7,b=new Array(64),R=new Array(64),B=new Array(64),z=new Array(256),K=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(M,H){for(var J=0,G=0,ne=new Array,ue=1;ue<=16;ue++){for(var he=1;he<=M[ue];he++)ne[H[G]]=[],ne[H[G]][0]=J,ne[H[G]][1]=ue,G++,J++;J*=2}return ne}function ve(M){for(var H=M[0],J=M[1]-1;J>=0;)H&1<<J&&(I|=1<<_),J--,--_<0&&(I==255?(ee(255),ee(0)):ee(I),_=7,I=0)}function ee(M){S.push(M)}function ie(M){ee(M>>8&255),ee(255&M)}function ae(M,H,J,G,ne){for(var ue,he=ne[0],me=ne[240],Ee=function(je,Ue){var ze,qe,et,ht,mt,rt,at,Rt,st,Lt,$e=0;for(st=0;st<8;++st){ze=je[$e],qe=je[$e+1],et=je[$e+2],ht=je[$e+3],mt=je[$e+4],rt=je[$e+5],at=je[$e+6];var pn=ze+(Rt=je[$e+7]),xt=ze-Rt,vr=qe+at,Ot=qe-at,Jt=et+rt,yr=et-rt,Tt=ht+mt,Gr=ht-mt,sn=pn+Tt,Hn=pn-Tt,Pr=vr+Jt,Ht=vr-Jt;je[$e]=sn+Pr,je[$e+4]=sn-Pr;var ot=.707106781*(Ht+Hn);je[$e+2]=Hn+ot,je[$e+6]=Hn-ot;var It=.382683433*((sn=Gr+yr)-(Ht=Ot+xt)),Kr=.5411961*sn+It,gn=1.306562965*Ht+It,Zn=.707106781*(Pr=yr+Ot),Qr=xt+Zn,Ke=xt-Zn;je[$e+5]=Ke+Kr,je[$e+3]=Ke-Kr,je[$e+1]=Qr+gn,je[$e+7]=Qr-gn,$e+=8}for($e=0,st=0;st<8;++st){ze=je[$e],qe=je[$e+8],et=je[$e+16],ht=je[$e+24],mt=je[$e+32],rt=je[$e+40],at=je[$e+48];var it=ze+(Rt=je[$e+56]),Tr=ze-Rt,Wn=qe+at,On=qe-at,xn=et+rt,Gn=et-rt,ta=ht+mt,os=ht-mt,kr=it+ta,ai=it-ta,Yr=Wn+xn,Jr=Wn-xn;je[$e]=kr+Yr,je[$e+32]=kr-Yr;var Mn=.707106781*(Jr+ai);je[$e+16]=ai+Mn,je[$e+48]=ai-Mn;var Ai=.382683433*((kr=os+Gn)-(Jr=On+Tr)),Ns=.5411961*kr+Ai,Rs=1.306562965*Jr+Ai,Os=.707106781*(Yr=Gn+On),go=Tr+Os,mo=Tr-Os;je[$e+40]=mo+Ns,je[$e+24]=mo-Ns,je[$e+8]=go+Rs,je[$e+56]=go-Rs,$e++}for(st=0;st<64;++st)Lt=je[st]*Ue[st],g[st]=Lt>0?Lt+.5|0:Lt-.5|0;return g}(M,H),Ce=0;Ce<64;++Ce)E[N[Ce]]=Ee[Ce];var Be=E[0]-J;J=E[0],Be==0?ve(G[0]):(ve(G[m[ue=32767+Be]]),ve(p[ue]));for(var Ve=63;Ve>0&&E[Ve]==0;)Ve--;if(Ve==0)return ve(he),J;for(var nt,_e=1;_e<=Ve;){for(var te=_e;E[_e]==0&&_e<=Ve;)++_e;var dt=_e-te;if(dt>=16){nt=dt>>4;for(var Ze=1;Ze<=nt;++Ze)ve(me);dt&=15}ue=32767+E[_e],ve(ne[(dt<<4)+m[ue]]),ve(p[ue]),_e++}return Ve!=63&&ve(he),J}function Ie(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(H){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var ne=o((J[G]*H+50)/100);ne=Math.min(Math.max(ne,1),255),a[N[G]]=ne}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var me=o((ue[he]*H+50)/100);me=Math.min(Math.max(me,1),255),l[N[he]]=me}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Be=0;Be<8;Be++)for(var Ve=0;Ve<8;Ve++)c[Ce]=1/(a[N[Ce]]*Ee[Be]*Ee[Ve]*8),d[Ce]=1/(l[N[Ce]]*Ee[Be]*Ee[Ve]*8),Ce++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,H){H&&Ie(H),S=new Array,I=0,_=7,ie(65496),ie(65504),ie(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),ie(1),ie(1),ee(0),ee(0),function(){ie(65499),ie(132),ee(0);for(var qe=0;qe<64;qe++)ee(a[qe]);ee(1);for(var et=0;et<64;et++)ee(l[et])}(),function(qe,et){ie(65472),ie(17),ee(8),ie(et),ie(qe),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(M.width,M.height),function(){ie(65476),ie(418),ee(0);for(var qe=0;qe<16;qe++)ee(x[qe+1]);for(var et=0;et<=11;et++)ee(k[et]);ee(16);for(var ht=0;ht<16;ht++)ee(F[ht+1]);for(var mt=0;mt<=161;mt++)ee(L[mt]);ee(1);for(var rt=0;rt<16;rt++)ee(T[rt+1]);for(var at=0;at<=11;at++)ee(O[at]);ee(17);for(var Rt=0;Rt<16;Rt++)ee(X[Rt+1]);for(var st=0;st<=161;st++)ee(fe[st])}(),ie(65498),ie(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var J=0,G=0,ne=0;I=0,_=7,this.encode.displayName="_encode_";for(var ue,he,me,Ee,Ce,Be,Ve,nt,_e,te=M.data,dt=M.width,Ze=M.height,je=4*dt,Ue=0;Ue<Ze;){for(ue=0;ue<je;){for(Ce=je*Ue+ue,Ve=-1,nt=0,_e=0;_e<64;_e++)Be=Ce+(nt=_e>>3)*je+(Ve=4*(7&_e)),Ue+nt>=Ze&&(Be-=je*(Ue+1+nt-Ze)),ue+Ve>=je&&(Be-=ue+Ve-je+4),he=te[Be++],me=te[Be++],Ee=te[Be++],b[_e]=(K[he]+K[me+256>>0]+K[Ee+512>>0]>>16)-128,R[_e]=(K[he+768>>0]+K[me+1024>>0]+K[Ee+1280>>0]>>16)-128,B[_e]=(K[he+1280>>0]+K[me+1536>>0]+K[Ee+1792>>0]>>16)-128;J=ae(b,c,J,e,r),G=ae(R,d,G,n,i),ne=ae(B,d,ne,n,i),ue+=32}Ue+=8}if(_>=0){var ze=[];ze[1]=_+1,ze[0]=(1<<_+1)-1,ve(ze)}return ie(65497),new Uint8Array(S)},t=t||50,function(){for(var M=String.fromCharCode,H=0;H<256;H++)z[H]=M(H)}(),e=ge(x,k),n=ge(T,O),r=ge(F,L),i=ge(X,fe),function(){for(var M=1,H=2,J=1;J<=15;J++){for(var G=M;G<H;G++)m[32767+G]=J,p[32767+G]=[],p[32767+G][1]=J,p[32767+G][0]=G;for(var ne=-(H-1);ne<=-M;ne++)m[32767+ne]=J,p[32767+ne]=[],p[32767+ne][1]=J,p[32767+ne][0]=H-1+ne;M<<=1,H<<=1}}(),function(){for(var M=0;M<256;M++)K[M]=19595*M,K[M+256>>0]=38470*M,K[M+512>>0]=7471*M+32768,K[M+768>>0]=-11059*M,K[M+1024>>0]=-21709*M,K[M+1280>>0]=32768*M+8421375,K[M+1536>>0]=-27439*M,K[M+1792>>0]=-5329*M}(),Ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ws(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _E(t){function e(x){if(!x)throw Error("assert :P")}function n(x,k,F){for(var L=0;4>L;L++)if(x[k+L]!=F.charCodeAt(L))return!0;return!1}function r(x,k,F,L,T){for(var O=0;O<T;O++)x[k+O]=F[L+O]}function i(x,k,F,L){for(var T=0;T<L;T++)x[k+T]=F}function s(x){return new Int32Array(x)}function o(x,k){for(var F=[],L=0;L<x;L++)F.push(new k);return F}function a(x,k){var F=[];return function L(T,O,X){for(var fe=X[O],ge=0;ge<fe&&(T.push(X.length>O+1?[]:new k),!(X.length<O+1));ge++)L(T[ge],O+1,X)}(F,0,x),F}var l=function(){var x=this;function k(u,f){for(var y=1<<f-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function F(u,f,y,C,j){e(!(C%y));do u[f+(C-=y)]=j;while(0<C)}function L(u,f,y,C,j){if(e(2328>=j),512>=j)var V=s(512);else if((V=s(j))==null)return 0;return function(U,$,W,Q,se,ye){var we,pe,ke=$,Se=1<<W,oe=s(16),le=s(16);for(e(se!=0),e(Q!=null),e(U!=null),e(0<W),pe=0;pe<se;++pe){if(15<Q[pe])return 0;++oe[Q[pe]]}if(oe[0]==se)return 0;for(le[1]=0,we=1;15>we;++we){if(oe[we]>1<<we)return 0;le[we+1]=le[we]+oe[we]}for(pe=0;pe<se;++pe)we=Q[pe],0<Q[pe]&&(ye[le[we]++]=pe);if(le[15]==1)return(Q=new T).g=0,Q.value=ye[0],F(U,ke,1,Se,Q),Se;var Pe,Oe=-1,Te=Se-1,Qe=0,He=1,ut=1,Ge=1<<W;for(pe=0,we=1,se=2;we<=W;++we,se<<=1){if(He+=ut<<=1,0>(ut-=oe[we]))return 0;for(;0<oe[we];--oe[we])(Q=new T).g=we,Q.value=ye[pe++],F(U,ke+Qe,se,Ge,Q),Qe=k(Qe,we)}for(we=W+1,se=2;15>=we;++we,se<<=1){if(He+=ut<<=1,0>(ut-=oe[we]))return 0;for(;0<oe[we];--oe[we]){if(Q=new T,(Qe&Te)!=Oe){for(ke+=Ge,Pe=1<<(Oe=we)-W;15>Oe&&!(0>=(Pe-=oe[Oe]));)++Oe,Pe<<=1;Se+=Ge=1<<(Pe=Oe-W),U[$+(Oe=Qe&Te)].g=Pe+W,U[$+Oe].value=ke-$-Oe}Q.g=we-W,Q.value=ye[pe++],F(U,ke+(Qe>>W),se,Ge,Q),Qe=k(Qe,we)}}return He!=2*le[15]-1?0:Se}(u,f,y,C,j,V)}function T(){this.value=this.g=0}function O(){this.value=this.g=0}function X(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(br,O)}function fe(u,f,y,C){e(u!=null),e(f!=null),e(2147483648>C),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=y,u.Jd=f,u.Yc=y+C,u.Zc=4<=C?y+C-4+1:y,ue(u)}function ge(u,f){for(var y=0;0<f--;)y|=me(u,128)<<f;return y}function ve(u,f){var y=ge(u,f);return he(u)?-y:y}function ee(u,f,y,C){var j,V=0;for(e(u!=null),e(f!=null),e(4294967288>C),u.Sb=C,u.Ra=0,u.u=0,u.h=0,4<C&&(C=4),j=0;j<C;++j)V+=f[y+j]<<8*j;u.Ra=V,u.bb=C,u.oa=f,u.pa=y}function ie(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Xu-8>>>0,++u.bb,u.u-=8;J(u)&&(u.h=1,u.u=0)}function ae(u,f){if(e(0<=f),!u.h&&f<=Ju){var y=H(u)&Yu[f];return u.u+=f,ie(u),y}return u.h=1,u.u=0}function Ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(u){return u.Ra>>>(u.u&Xu-1)>>>0}function J(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Xu}function G(u,f){u.u=f,u.h=J(u)}function ne(u){u.u>=kh&&(e(u.u>=kh),ie(u))}function ue(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return ge(u,1)}function me(u,f){var y=u.Ca;0>u.b&&ue(u);var C=u.b,j=y*f>>>8,V=(u.I>>>C>j)+0;for(V?(y-=j,u.I-=j+1<<C>>>0):y=j+1,C=y,j=0;256<=C;)j+=8,C>>=8;return C=7^j+ui[C],u.b-=C,u.Ca=(y<<C)-1,V}function Ee(u,f,y){u[f+0]=y>>24&255,u[f+1]=y>>16&255,u[f+2]=y>>8&255,u[f+3]=y>>0&255}function Ce(u,f){return u[f+0]<<0|u[f+1]<<8}function Be(u,f){return Ce(u,f)|u[f+2]<<16}function Ve(u,f){return Ce(u,f)|Ce(u,f+2)<<16}function nt(u,f){var y=1<<f;return e(u!=null),e(0<f),u.X=s(y),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function _e(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function dt(u,f,y,C){e(y!=null),e(C!=null);var j=y[0],V=C[0];return j==0&&(j=(u*V+f/2)/f),V==0&&(V=(f*j+u/2)/u),0>=j||0>=V?0:(y[0]=j,C[0]=V,1)}function Ze(u,f){return u+(1<<f)-1>>>f}function je(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Ue(u,f){x[f]=function(y,C,j,V,U,$,W){var Q;for(Q=0;Q<U;++Q){var se=x[u]($[W+Q-1],j,V+Q);$[W+Q]=je(y[C+Q],se)}}}function ze(){this.ud=this.hd=this.jd=0}function qe(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function et(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ht(u,f){return et(u+(u-f+.5>>1))}function mt(u,f,y){return Math.abs(f-y)-Math.abs(u-y)}function rt(u,f,y,C,j,V,U){for(C=V[U-1],y=0;y<j;++y)V[U+y]=C=je(u[f+y],C)}function at(u,f,y,C,j){var V;for(V=0;V<y;++V){var U=u[f+V],$=U>>8&255,W=16711935&(W=(W=16711935&U)+(($<<16)+$));C[j+V]=(4278255360&U)+W>>>0}}function Rt(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function st(u,f,y,C,j,V){var U;for(U=0;U<C;++U){var $=f[y+U],W=$>>>8,Q=$,se=255&(se=(se=$>>>16)+((u.jd<<24>>24)*(W<<24>>24)>>>5));Q=255&(Q=(Q=Q+((u.hd<<24>>24)*(W<<24>>24)>>>5))+((u.ud<<24>>24)*(se<<24>>24)>>>5)),j[V+U]=(4278255360&$)+(se<<16)+Q}}function Lt(u,f,y,C,j){x[f]=function(V,U,$,W,Q,se,ye,we,pe){for(W=ye;W<we;++W)for(ye=0;ye<pe;++ye)Q[se++]=j($[C(V[U++])])},x[u]=function(V,U,$,W,Q,se,ye){var we=8>>V.b,pe=V.Ea,ke=V.K[0],Se=V.w;if(8>we)for(V=(1<<V.b)-1,Se=(1<<we)-1;U<$;++U){var oe,le=0;for(oe=0;oe<pe;++oe)oe&V||(le=C(W[Q++])),se[ye++]=j(ke[le&Se]),le>>=we}else x["VP8LMapColor"+y](W,Q,ke,Se,se,ye,U,$,pe)}}function $e(u,f,y,C,j){for(y=f+y;f<y;){var V=u[f++];C[j++]=V>>16&255,C[j++]=V>>8&255,C[j++]=V>>0&255}}function pn(u,f,y,C,j){for(y=f+y;f<y;){var V=u[f++];C[j++]=V>>16&255,C[j++]=V>>8&255,C[j++]=V>>0&255,C[j++]=V>>24&255}}function xt(u,f,y,C,j){for(y=f+y;f<y;){var V=(U=u[f++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;C[j++]=V,C[j++]=U}}function vr(u,f,y,C,j){for(y=f+y;f<y;){var V=(U=u[f++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;C[j++]=V,C[j++]=U}}function Ot(u,f,y,C,j){for(y=f+y;f<y;){var V=u[f++];C[j++]=V>>0&255,C[j++]=V>>8&255,C[j++]=V>>16&255}}function Jt(u,f,y,C,j,V){if(V==0)for(y=f+y;f<y;)Ee(C,((V=u[f++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),j+=32;else r(C,j,u,f,y)}function yr(u,f){x[f][0]=x[u+"0"],x[f][1]=x[u+"1"],x[f][2]=x[u+"2"],x[f][3]=x[u+"3"],x[f][4]=x[u+"4"],x[f][5]=x[u+"5"],x[f][6]=x[u+"6"],x[f][7]=x[u+"7"],x[f][8]=x[u+"8"],x[f][9]=x[u+"9"],x[f][10]=x[u+"10"],x[f][11]=x[u+"11"],x[f][12]=x[u+"12"],x[f][13]=x[u+"13"],x[f][14]=x[u+"0"],x[f][15]=x[u+"0"]}function Tt(u){return u==dv||u==fv||u==Vf||u==pv}function Gr(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Hn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Gr,this.f.kb=new sn,this.sd=null}function Pr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ot(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function It(u,f){var y=u.T,C=f.ba.f.RGBA,j=C.eb,V=C.fb+u.ka*C.A,U=Ji[f.ba.S],$=u.y,W=u.O,Q=u.f,se=u.N,ye=u.ea,we=u.W,pe=f.cc,ke=f.dc,Se=f.Mc,oe=f.Nc,le=u.ka,Pe=u.ka+u.T,Oe=u.U,Te=Oe+1>>1;for(le==0?U($,W,null,null,Q,se,ye,we,Q,se,ye,we,j,V,null,null,Oe):(U(f.ec,f.fc,$,W,pe,ke,Se,oe,Q,se,ye,we,j,V-C.A,j,V,Oe),++y);le+2<Pe;le+=2)pe=Q,ke=se,Se=ye,oe=we,se+=u.Rc,we+=u.Rc,V+=2*C.A,U($,(W+=2*u.fa)-u.fa,$,W,pe,ke,Se,oe,Q,se,ye,we,j,V-C.A,j,V,Oe);return W+=u.fa,u.j+Pe<u.o?(r(f.ec,f.fc,$,W,Oe),r(f.cc,f.dc,Q,se,Te),r(f.Mc,f.Nc,ye,we,Te),y--):1&Pe||U($,W,null,null,Q,se,ye,we,Q,se,ye,we,j,V+C.A,null,null,Oe),y}function Kr(u,f,y){var C=u.F,j=[u.J];if(C!=null){var V=u.U,U=f.ba.S,$=U==Bf||U==Vf;f=f.ba.f.RGBA;var W=[0],Q=u.ka;W[0]=u.T,u.Kb&&(Q==0?--W[0]:(--Q,j[0]-=u.width),u.j+u.ka+u.T==u.o&&(W[0]=u.o-u.j-Q));var se=f.eb;Q=f.fb+Q*f.A,u=hn(C,j[0],u.width,V,W,se,Q+($?0:3),f.A),e(y==W),u&&Tt(U)&&Qi(se,Q,$,V,W,f.A)}return 0}function gn(u){var f=u.ma,y=f.ba.S,C=11>y,j=y==jf||y==Ff||y==Bf||y==hv||y==12||Tt(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Ph(f.Oa,u,j?11:12))return 0;if(j&&Tt(y)&&Me(),u.da)alert("todo:use_scaling");else{if(C){if(f.Ib=ot,u.Kb){if(y=u.U+1>>1,f.memory=s(u.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=It,Me()}}else alert("todo:EmitYUV");j&&(f.Jb=Kr,C&&de())}if(C&&!Dw){for(u=0;256>u;++u)DI[u]=89858*(u-128)+zf>>Uf,BI[u]=-22014*(u-128)+zf,FI[u]=-45773*(u-128),jI[u]=113618*(u-128)+zf>>Uf;for(u=Fh;u<vv;++u)f=76283*(u-16)+zf>>Uf,VI[u-Fh]=Qt(f,255),UI[u-Fh]=Qt(f+8>>4,15);Dw=1}return 1}function Zn(u){var f=u.ma,y=u.U,C=u.T;return e(!(1&u.ka)),0>=y||0>=C?0:(y=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,y),f.Dc+=y,1)}function Qr(u){u.ma.memory=null}function Ke(u,f,y,C){return ae(u,8)!=47?0:(f[0]=ae(u,14)+1,y[0]=ae(u,14)+1,C[0]=ae(u,1),ae(u,3)!=0?0:!u.h)}function it(u,f){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+ae(f,y)+1}function Tr(u,f){return 120<f?f-120:1<=(y=((y=EI[f-1])>>4)*u+(8-(15&y)))?y:1;var y}function Wn(u,f,y){var C=H(y),j=u[f+=255&C].g-8;return 0<j&&(G(y,y.u+8),C=H(y),f+=u[f].value,f+=C&(1<<j)-1),G(y,y.u+u[f].g),u[f].value}function On(u,f,y){return y.g+=u.g,y.value+=u.value<<f>>>0,e(8>=y.g),u.g}function xn(u,f,y){var C=u.xc;return e((f=C==0?0:u.vc[u.md*(y>>C)+(f>>C)])<u.Wb),u.Ya[f]}function Gn(u,f,y,C){var j=u.ab,V=u.c*f,U=u.C;f=U+f;var $=y,W=C;for(C=u.Ta,y=u.Ua;0<j--;){var Q=u.gc[j],se=U,ye=f,we=$,pe=W,ke=(W=C,$=y,Q.Ea);switch(e(se<ye),e(ye<=Q.nc),Q.hc){case 2:Tf(we,pe,(ye-se)*ke,W,$);break;case 0:var Se=se,oe=ye,le=W,Pe=$,Oe=(Ge=Q).Ea;Se==0&&(uv(we,pe,null,null,1,le,Pe),rt(we,pe+1,0,0,Oe-1,le,Pe+1),pe+=Oe,Pe+=Oe,++Se);for(var Te=1<<Ge.b,Qe=Te-1,He=Ze(Oe,Ge.b),ut=Ge.K,Ge=Ge.w+(Se>>Ge.b)*He;Se<oe;){var Wt=ut,Zt=Ge,Ut=1;for(Nh(we,pe,le,Pe-Oe,1,le,Pe);Ut<Oe;){var Dt=(Ut&~Qe)+Te;Dt>Oe&&(Dt=Oe),(0,wa[Wt[Zt++]>>8&15])(we,pe+ +Ut,le,Pe+Ut-Oe,Dt-Ut,le,Pe+Ut),Ut=Dt}pe+=Oe,Pe+=Oe,++Se&Qe||(Ge+=He)}ye!=Q.nc&&r(W,$-ke,W,$+(ye-se-1)*ke,ke);break;case 1:for(ke=we,oe=pe,Oe=(we=Q.Ea)-(Pe=we&~(le=(pe=1<<Q.b)-1)),Se=Ze(we,Q.b),Te=Q.K,Q=Q.w+(se>>Q.b)*Se;se<ye;){for(Qe=Te,He=Q,ut=new ze,Ge=oe+Pe,Wt=oe+we;oe<Ge;)Rt(Qe[He++],ut),Vl(ut,ke,oe,pe,W,$),oe+=pe,$+=pe;oe<Wt&&(Rt(Qe[He++],ut),Vl(ut,ke,oe,Oe,W,$),oe+=Oe,$+=Oe),++se&le||(Q+=Se)}break;case 3:if(we==W&&pe==$&&0<Q.b){for(oe=W,we=ke=$+(ye-se)*ke-(Pe=(ye-se)*Ze(Q.Ea,Q.b)),pe=W,le=$,Se=[],Pe=(Oe=Pe)-1;0<=Pe;--Pe)Se[Pe]=pe[le+Pe];for(Pe=Oe-1;0<=Pe;--Pe)oe[we+Pe]=Se[Pe];Wi(Q,se,ye,W,ke,W,$)}else Wi(Q,se,ye,we,pe,W,$)}$=C,W=y}W!=y&&r(C,y,$,W,V)}function ta(u,f){var y=u.V,C=u.Ba+u.c*u.C,j=f-u.C;if(e(f<=u.l.o),e(16>=j),0<j){var V=u.l,U=u.Ta,$=u.Ua,W=V.width;if(Gn(u,j,y,C),j=$=[$],e((y=u.C)<(C=f)),e(V.v<V.va),C>V.o&&(C=V.o),y<V.j){var Q=V.j-y;y=V.j,j[0]+=Q*W}if(y>=C?y=0:(j[0]+=4*V.v,V.ka=y-V.j,V.U=V.va-V.v,V.T=C-y,y=1),y){if($=$[0],11>(y=u.ca).S){var se=y.f.RGBA,ye=(C=y.S,j=V.U,V=V.T,Q=se.eb,se.A),we=V;for(se=se.fb+u.Ma*se.A;0<we--;){var pe=U,ke=$,Se=j,oe=Q,le=se;switch(C){case Df:ci(pe,ke,Se,oe,le);break;case jf:Zr(pe,ke,Se,oe,le);break;case dv:Zr(pe,ke,Se,oe,le),Qi(oe,le,0,Se,1,0);break;case Cw:xo(pe,ke,Se,oe,le);break;case Ff:Jt(pe,ke,Se,oe,le,1);break;case fv:Jt(pe,ke,Se,oe,le,1),Qi(oe,le,0,Se,1,0);break;case Bf:Jt(pe,ke,Se,oe,le,0);break;case Vf:Jt(pe,ke,Se,oe,le,0),Qi(oe,le,1,Se,1,0);break;case hv:_a(pe,ke,Se,oe,le);break;case pv:_a(pe,ke,Se,oe,le),cn(oe,le,Se,1,0);break;case xw:Co(pe,ke,Se,oe,le);break;default:e(0)}$+=W,se+=ye}u.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=y.height)}}u.C=f,e(u.C<=u.i)}function os(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var y=u.Ya[f].G,C=u.Ya[f].H;if(0<y[1][C[1]+0].g||0<y[2][C[2]+0].g||0<y[3][C[3]+0].g)return 0}return 1}function kr(u,f,y,C,j,V){if(u.Z!=0){var U=u.qd,$=u.rd;for(e(La[u.Z]!=null);f<y;++f)La[u.Z](U,$,C,j,C,j,V),U=C,$=j,j+=V;u.qd=U,u.rd=$}}function ai(u,f){var y=u.l.ma,C=y.Z==0||y.Z==1?u.l.j:u.C;if(C=u.C<C?C:u.C,e(f<=u.l.o),f>C){var j=u.l.width,V=y.ca,U=y.tb+j*C,$=u.V,W=u.Ba+u.c*C,Q=u.gc;e(u.ab==1),e(Q[0].hc==3),kf(Q[0],C,f,$,W,V,U),kr(y,C,f,V,U,j)}u.C=u.Ma=f}function Yr(u,f,y,C,j,V,U){var $=u.$/C,W=u.$%C,Q=u.m,se=u.s,ye=y+u.$,we=ye;j=y+C*j;var pe=y+C*V,ke=280+se.ua,Se=u.Pb?$:16777216,oe=0<se.ua?se.Wa:null,le=se.wc,Pe=ye<pe?xn(se,W,$):null;e(u.C<V),e(pe<=j);var Oe=!1;e:for(;;){for(;Oe||ye<pe;){var Te=0;if($>=Se){var Qe=ye-y;e((Se=u).Pb),Se.wd=Se.m,Se.xd=Qe,0<Se.s.ua&&_e(Se.s.Wa,Se.s.vb),Se=$+LI}if(W&le||(Pe=xn(se,W,$)),e(Pe!=null),Pe.Qb&&(f[ye]=Pe.qb,Oe=!0),!Oe)if(ne(Q),Pe.jc){Te=Q,Qe=f;var He=ye,ut=Pe.pd[H(Te)&br-1];e(Pe.jc),256>ut.g?(G(Te,Te.u+ut.g),Qe[He]=ut.value,Te=0):(G(Te,Te.u+ut.g-256),e(256<=ut.value),Te=ut.value),Te==0&&(Oe=!0)}else Te=Wn(Pe.G[0],Pe.H[0],Q);if(Q.h)break;if(Oe||256>Te){if(!Oe)if(Pe.nd)f[ye]=(Pe.qb|Te<<8)>>>0;else{if(ne(Q),Oe=Wn(Pe.G[1],Pe.H[1],Q),ne(Q),Qe=Wn(Pe.G[2],Pe.H[2],Q),He=Wn(Pe.G[3],Pe.H[3],Q),Q.h)break;f[ye]=(He<<24|Oe<<16|Te<<8|Qe)>>>0}if(Oe=!1,++ye,++W>=C&&(W=0,++$,U!=null&&$<=V&&!($%16)&&U(u,$),oe!=null))for(;we<ye;)Te=f[we++],oe.X[(506832829*Te&4294967295)>>>oe.Mb]=Te}else if(280>Te){if(Te=it(Te-256,Q),Qe=Wn(Pe.G[4],Pe.H[4],Q),ne(Q),Qe=Tr(C,Qe=it(Qe,Q)),Q.h)break;if(ye-y<Qe||j-ye<Te)break e;for(He=0;He<Te;++He)f[ye+He]=f[ye+He-Qe];for(ye+=Te,W+=Te;W>=C;)W-=C,++$,U!=null&&$<=V&&!($%16)&&U(u,$);if(e(ye<=j),W&le&&(Pe=xn(se,W,$)),oe!=null)for(;we<ye;)Te=f[we++],oe.X[(506832829*Te&4294967295)>>>oe.Mb]=Te}else{if(!(Te<ke))break e;for(Oe=Te-280,e(oe!=null);we<ye;)Te=f[we++],oe.X[(506832829*Te&4294967295)>>>oe.Mb]=Te;Te=ye,e(!(Oe>>>(Qe=oe).Xa)),f[Te]=Qe.X[Oe],Oe=!0}Oe||e(Q.h==J(Q))}if(u.Pb&&Q.h&&ye<j)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&_e(u.s.vb,u.s.Wa);else{if(Q.h)break e;U!=null&&U(u,$>V?V:$),u.a=0,u.$=ye-y}return 1}return u.a=3,0}function Jr(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function Mn(){var u=new Ku;return u==null?null:(u.a=0,u.xb=Tw,yr("Predictor","VP8LPredictors"),yr("Predictor","VP8LPredictors_C"),yr("PredictorAdd","VP8LPredictorsAdd"),yr("PredictorAdd","VP8LPredictorsAdd_C"),Tf=at,Vl=st,ci=$e,Zr=pn,_a=xt,Co=vr,xo=Ot,x.VP8LMapColor32b=Zu,x.VP8LMapColor8b=Nf,u)}function Ai(u,f,y,C,j){var V=1,U=[u],$=[f],W=C.m,Q=C.s,se=null,ye=0;e:for(;;){if(y)for(;V&&ae(W,1);){var we=U,pe=$,ke=C,Se=1,oe=ke.m,le=ke.gc[ke.ab],Pe=ae(oe,2);if(ke.Oc&1<<Pe)V=0;else{switch(ke.Oc|=1<<Pe,le.hc=Pe,le.Ea=we[0],le.nc=pe[0],le.K=[null],++ke.ab,e(4>=ke.ab),Pe){case 0:case 1:le.b=ae(oe,3)+2,Se=Ai(Ze(le.Ea,le.b),Ze(le.nc,le.b),0,ke,le.K),le.K=le.K[0];break;case 3:var Oe,Te=ae(oe,8)+1,Qe=16<Te?0:4<Te?1:2<Te?2:3;if(we[0]=Ze(le.Ea,Qe),le.b=Qe,Oe=Se=Ai(Te,1,0,ke,le.K)){var He,ut=Te,Ge=le,Wt=1<<(8>>Ge.b),Zt=s(Wt);if(Zt==null)Oe=0;else{var Ut=Ge.K[0],Dt=Ge.w;for(Zt[0]=Ge.K[0][0],He=1;He<1*ut;++He)Zt[He]=je(Ut[Dt+He],Zt[He-1]);for(;He<4*Wt;++He)Zt[He]=0;Ge.K[0]=null,Ge.K[0]=Zt,Oe=1}}Se=Oe;break;case 2:break;default:e(0)}V=Se}}if(U=U[0],$=$[0],V&&ae(W,1)&&!(V=1<=(ye=ae(W,4))&&11>=ye)){C.a=3;break e}var ln;if(ln=V)t:{var on,At,Kn,hi=C,Qn=U,di=$,en=ye,Ti=y,ki=hi.m,ur=hi.s,Er=[null],ti=1,Xi=0,$s=SI[en];n:for(;;){if(Ti&&ae(ki,1)){var cr=ae(ki,3)+2,ko=Ze(Qn,cr),Hl=Ze(di,cr),ic=ko*Hl;if(!Ai(ko,Hl,0,hi,Er))break n;for(Er=Er[0],ur.xc=cr,on=0;on<ic;++on){var Aa=Er[on]>>8&65535;Er[on]=Aa,Aa>=ti&&(ti=Aa+1)}}if(ki.h)break n;for(At=0;5>At;++At){var Pn=Iw[At];!At&&0<en&&(Pn+=1<<en),Xi<Pn&&(Xi=Pn)}var yv=o(ti*$s,T),Bw=ti,Vw=o(Bw,X);if(Vw==null)var $f=null;else e(65536>=Bw),$f=Vw;var Bh=s(Xi);if($f==null||Bh==null||yv==null){hi.a=1;break n}var Hf=yv;for(on=Kn=0;on<ti;++on){var ms=$f[on],sc=ms.G,oc=ms.H,Uw=0,Wf=1,zw=0;for(At=0;5>At;++At){Pn=Iw[At],sc[At]=Hf,oc[At]=Kn,!At&&0<en&&(Pn+=1<<en);i:{var Gf,wv=Pn,Kf=hi,Vh=Bh,$I=Hf,HI=Kn,_v=0,Ca=Kf.m,WI=ae(Ca,1);if(i(Vh,0,0,wv),WI){var GI=ae(Ca,1)+1,KI=ae(Ca,1),qw=ae(Ca,KI==0?1:8);Vh[qw]=1,GI==2&&(Vh[qw=ae(Ca,8)]=1);var Qf=1}else{var $w=s(19),Hw=ae(Ca,4)+4;if(19<Hw){Kf.a=3;var Yf=0;break i}for(Gf=0;Gf<Hw;++Gf)$w[bI[Gf]]=ae(Ca,3);var bv=void 0,Uh=void 0,Ww=Kf,QI=$w,Jf=wv,Gw=Vh,Ev=0,xa=Ww.m,Kw=8,Qw=o(128,T);r:for(;L(Qw,0,7,QI,19);){if(ae(xa,1)){var YI=2+2*ae(xa,3);if((bv=2+ae(xa,YI))>Jf)break r}else bv=Jf;for(Uh=0;Uh<Jf&&bv--;){ne(xa);var Yw=Qw[0+(127&H(xa))];G(xa,xa.u+Yw.g);var ac=Yw.value;if(16>ac)Gw[Uh++]=ac,ac!=0&&(Kw=ac);else{var JI=ac==16,Jw=ac-16,XI=wI[Jw],Xw=ae(xa,yI[Jw])+XI;if(Uh+Xw>Jf)break r;for(var ZI=JI?Kw:0;0<Xw--;)Gw[Uh++]=ZI}}Ev=1;break r}Ev||(Ww.a=3),Qf=Ev}(Qf=Qf&&!Ca.h)&&(_v=L($I,HI,8,Vh,wv)),Qf&&_v!=0?Yf=_v:(Kf.a=3,Yf=0)}if(Yf==0)break n;if(Wf&&_I[At]==1&&(Wf=Hf[Kn].g==0),Uw+=Hf[Kn].g,Kn+=Yf,3>=At){var zh,Sv=Bh[0];for(zh=1;zh<Pn;++zh)Bh[zh]>Sv&&(Sv=Bh[zh]);zw+=Sv}}if(ms.nd=Wf,ms.Qb=0,Wf&&(ms.qb=(sc[3][oc[3]+0].value<<24|sc[1][oc[1]+0].value<<16|sc[2][oc[2]+0].value)>>>0,Uw==0&&256>sc[0][oc[0]+0].value&&(ms.Qb=1,ms.qb+=sc[0][oc[0]+0].value<<8)),ms.jc=!ms.Qb&&6>zw,ms.jc){var Xf,No=ms;for(Xf=0;Xf<br;++Xf){var Ia=Xf,Pa=No.pd[Ia],Zf=No.G[0][No.H[0]+Ia];256<=Zf.value?(Pa.g=Zf.g+256,Pa.value=Zf.value):(Pa.g=0,Pa.value=0,Ia>>=On(Zf,8,Pa),Ia>>=On(No.G[1][No.H[1]+Ia],16,Pa),Ia>>=On(No.G[2][No.H[2]+Ia],0,Pa),On(No.G[3][No.H[3]+Ia],24,Pa))}}}ur.vc=Er,ur.Wb=ti,ur.Ya=$f,ur.yc=yv,ln=1;break t}ln=0}if(!(V=ln)){C.a=3;break e}if(0<ye){if(Q.ua=1<<ye,!nt(Q.Wa,ye)){C.a=1,V=0;break e}}else Q.ua=0;var Lv=C,Zw=U,eP=$,Av=Lv.s,Cv=Av.xc;if(Lv.c=Zw,Lv.i=eP,Av.md=Ze(Zw,Cv),Av.wc=Cv==0?-1:(1<<Cv)-1,y){C.xb=kI;break e}if((se=s(U*$))==null){C.a=1,V=0;break e}V=(V=Yr(C,se,0,U,$,$,null))&&!W.h;break e}return V?(j!=null?j[0]=se:(e(se==null),e(y)),C.$=0,y||Jr(Q)):Jr(Q),V}function Ns(u,f){var y=u.c*u.i,C=y+f+16*f;return e(u.c<=f),u.V=s(C),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+f,1)}function Rs(u,f){var y=u.C,C=f-y,j=u.V,V=u.Ba+u.c*y;for(e(f<=u.l.o);0<C;){var U=16<C?16:C,$=u.l.ma,W=u.l.width,Q=W*U,se=$.ca,ye=$.tb+W*y,we=u.Ta,pe=u.Ua;Gn(u,U,j,V),jn(we,pe,se,ye,Q),kr($,y,y+U,se,ye,W),C-=U,j+=U*u.c,y+=U}e(y==f),u.C=u.Ma=f}function Os(){this.ub=this.yd=this.td=this.Rb=0}function go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Fu(){this.Yb=function(){var u=[];return function f(y,C,j){for(var V=j[C],U=0;U<V&&(y.push(j.length>C+1?[]:0),!(j.length<C+1));U++)f(y[U],C+1,j)}(u,0,[3,11]),u}()}function na(){this.jb=s(3),this.Wc=a([4,8],Fu),this.Xc=a([4,17],Fu)}function Bu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ms(){this.ld=this.La=this.dd=this.tc=0}function Ds(){this.Na=this.la=0}function as(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ah(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ms),this.Y=0,this.ya=Array(new vo),this.aa=0,this.l=new yo}function Cl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Vu(){this.cb=this.a=0,this.sc="",this.m=new Ie,this.Od=new Os,this.Kc=new go,this.ed=new Bu,this.Qa=new mo,this.Ic=this.$c=this.Aa=0,this.D=new Ah,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ie),this.ia=0,this.pb=o(4,as),this.Pa=new na,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cl),this.Hd=0,this.rb=Array(new Ds),this.sb=0,this.wa=Array(new Ms),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vo),this.L=this.aa=0,this.gd=a([4,2],Ms),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xl(){var u=new Vu;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,jh||(jh=Uu)),u}function mn(u,f,y){return u.a==0&&(u.a=f,u.sc=y,u.cb=0),0}function Il(u,f,y){return 3<=y&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function Pl(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return mn(u,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,C=f.w,j=f.ha;if(4>j)return mn(u,7,"Truncated header.");var V=y[C+0]|y[C+1]<<8|y[C+2]<<16,U=u.Od;if(U.Rb=!(1&V),U.td=V>>1&7,U.yd=V>>4&1,U.ub=V>>5,3<U.td)return mn(u,3,"Incorrect keyframe parameters.");if(!U.yd)return mn(u,4,"Frame not displayable.");C+=3,j-=3;var $=u.Kc;if(U.Rb){if(7>j)return mn(u,7,"cannot parse picture header");if(!Il(y,C,j))return mn(u,3,"Bad code word");$.c=16383&(y[C+4]<<8|y[C+3]),$.Td=y[C+4]>>6,$.i=16383&(y[C+6]<<8|y[C+5]),$.Ud=y[C+6]>>6,C+=7,j-=7,u.za=$.c+15>>4,u.Ub=$.i+15>>4,f.width=$.c,f.height=$.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((V=u.Pa).jb,0,255,V.jb.length),e((V=u.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(U.ub>j)return mn(u,7,"bad partition length");fe(V=u.m,y,C,U.ub),C+=U.ub,j-=U.ub,U.Rb&&($.Ld=he(V),$.Kd=he(V)),$=u.Qa;var W,Q=u.Pa;if(e(V!=null),e($!=null),$.Cb=he(V),$.Cb){if($.Bb=he(V),he(V)){for($.Fb=he(V),W=0;4>W;++W)$.Zb[W]=he(V)?ve(V,7):0;for(W=0;4>W;++W)$.Lb[W]=he(V)?ve(V,6):0}if($.Bb)for(W=0;3>W;++W)Q.jb[W]=he(V)?ge(V,8):255}else $.Bb=0;if(V.Ka)return mn(u,3,"cannot parse segment header");if(($=u.ed).zd=he(V),$.Tb=ge(V,6),$.wb=ge(V,3),$.Pc=he(V),$.Pc&&he(V)){for(Q=0;4>Q;++Q)he(V)&&($.vd[Q]=ve(V,6));for(Q=0;4>Q;++Q)he(V)&&($.od[Q]=ve(V,6))}if(u.L=$.Tb==0?0:$.zd?1:2,V.Ka)return mn(u,3,"cannot parse filter header");var se=j;if(j=W=C,C=W+se,$=se,u.Xb=(1<<ge(u.m,2))-1,se<3*(Q=u.Xb))y=7;else{for(W+=3*Q,$-=3*Q,se=0;se<Q;++se){var ye=y[j+0]|y[j+1]<<8|y[j+2]<<16;ye>$&&(ye=$),fe(u.Jc[+se],y,W,ye),W+=ye,$-=ye,j+=3}fe(u.Jc[+Q],y,W,$),y=W<C?0:5}if(y!=0)return mn(u,y,"cannot parse partitions");for(y=ge(W=u.m,7),j=he(W)?ve(W,4):0,C=he(W)?ve(W,4):0,$=he(W)?ve(W,4):0,Q=he(W)?ve(W,4):0,W=he(W)?ve(W,4):0,se=u.Qa,ye=0;4>ye;++ye){if(se.Cb){var we=se.Zb[ye];se.Fb||(we+=y)}else{if(0<ye){u.pb[ye]=u.pb[0];continue}we=y}var pe=u.pb[ye];pe.Sc[0]=gv[Qt(we+j,127)],pe.Sc[1]=mv[Qt(we+0,127)],pe.Eb[0]=2*gv[Qt(we+C,127)],pe.Eb[1]=101581*mv[Qt(we+$,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=gv[Qt(we+Q,117)],pe.Qc[1]=mv[Qt(we+W,127)],pe.lc=we+W}if(!U.Rb)return mn(u,4,"Not a key frame.");for(he(V),U=u.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(C=0;3>C;++C)for($=0;11>$;++$)Q=me(V,PI[y][j][C][$])?ge(V,8):xI[y][j][C][$],U.Wc[y][j].Yb[C][$]=Q;for(j=0;17>j;++j)U.Xc[y][j]=U.Wc[y][TI[j]]}return u.kc=he(V),u.kc&&(u.Bd=ge(V,8)),u.cb=1}function Uu(u,f,y,C,j,V,U){var $=f[j].Yb[y];for(y=0;16>j;++j){if(!me(u,$[y+0]))return j;for(;!me(u,$[y+1]);)if($=f[++j].Yb[0],y=0,j==16)return 16;var W=f[j+1].Yb;if(me(u,$[y+2])){var Q=u,se=0;if(me(Q,(we=$)[(ye=y)+3]))if(me(Q,we[ye+6])){for($=0,ye=2*(se=me(Q,we[ye+8]))+(we=me(Q,we[ye+9+se])),se=0,we=AI[ye];we[$];++$)se+=se+me(Q,we[$]);se+=3+(8<<ye)}else me(Q,we[ye+7])?(se=7+2*me(Q,165),se+=me(Q,145)):se=5+me(Q,159);else se=me(Q,we[ye+4])?3+me(Q,we[ye+5]):2;$=W[2]}else se=1,$=W[1];W=U+CI[j],0>(Q=u).b&&ue(Q);var ye,we=Q.b,pe=(ye=Q.Ca>>1)-(Q.I>>we)>>31;--Q.b,Q.Ca+=pe,Q.Ca|=1,Q.I-=(ye+1&pe)<<we,V[W]=((se^pe)-pe)*C[(0<j)+0]}return 16}function Tl(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function zu(u,f){if(u==null)return 0;if(f==null)return mn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Pl(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var y=qf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-y>>4,u.zb=f.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+y>>4,u.Hb=f.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var C=u.ed;for(y=0;4>y;++y){var j;if(u.Qa.Cb){var V=u.Qa.Lb[y];u.Qa.Fb||(V+=C.Tb)}else V=C.Tb;for(j=0;1>=j;++j){var U=u.gd[y][j],$=V;if(C.Pc&&($+=C.vd[0],j&&($+=C.od[0])),0<($=0>$?0:63<$?63:$)){var W=$;0<C.wb&&(W=4<C.wb?W>>2:W>>1)>9-C.wb&&(W=9-C.wb),1>W&&(W=1),U.dd=W,U.tc=2*$+W,U.ld=40<=$?2:15<=$?1:0}else U.tc=0;U.La=j}}}y=0}else mn(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=qI);e:{y=u.Ic,C=4*(W=u.za);var Q=32*W,se=W+1,ye=0<u.L?W*(0<u.Aa?2:1):0,we=(u.Aa==2?2:1)*W;if((U=C+832+(j=3*(16*y+qf[u.L])/2*Q)+(V=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=U)y=0;else{if(U>u.Vb){if(u.Vb=0,u.Ec=s(U),u.Fc=0,u.Ec==null){y=mn(u,1,"no memory during frame initialization.");break e}u.Vb=U}U=u.Ec,$=u.Fc,u.Ac=U,u.Bc=$,$+=C,u.Gd=o(Q,Cl),u.Hd=0,u.rb=o(se+1,Ds),u.sb=1,u.wa=ye?o(ye,Ms):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=W),e(!0),u.oc=U,u.pc=$,$+=832,u.ya=o(we,vo),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=W),u.R=16*W,u.B=8*W,W=(Q=qf[u.L])*u.R,Q=Q/2*u.B,u.sa=U,u.ta=$+W,u.qa=u.sa,u.ra=u.ta+16*y*u.R+Q,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+Q,u.$c=0,$+=j,u.mb=V?U:null,u.nb=V?$:null,e($+V<=u.Fc+u.Vb),Tl(u),i(u.Ac,u.Bc,0,C),y=1}}if(y){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!Of){for(y=-255;255>=y;++y)tr[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Po[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Dh[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)rc[255+y]=0>y?0:255<y?255:y;Of=1}ec=bo,Io=ia,Rh=kl,ei=Xt,Gi=_o,Dn=wo,tc=ha,Rf=ds,Oh=fa,Ul=Bl,zl=da,ba=So,ql=pa,nc=Vs,$l=Eo,Ea=Ii,Mh=er,Ki=Gu,gs[0]=Hi,gs[1]=Ch,gs[2]=Fs,gs[3]=Ih,gs[4]=Hu,gs[5]=aa,gs[6]=Ci,gs[7]=Rl,gs[8]=ua,gs[9]=la,Sa[0]=js,Sa[1]=xh,Sa[2]=us,Sa[3]=sa,Sa[4]=vn,Sa[5]=$u,Sa[6]=Nl,To[0]=hs,To[1]=qu,To[2]=Wu,To[3]=cs,To[4]=Kt,To[5]=Ol,To[6]=Ml,y=1}else y=0}y&&(y=function(pe,ke){for(pe.M=0;pe.M<pe.Va;++pe.M){var Se,oe=pe.Jc[pe.M&pe.Xb],le=pe.m,Pe=pe;for(Se=0;Se<Pe.za;++Se){var Oe=le,Te=Pe,Qe=Te.Ac,He=Te.Bc+4*Se,ut=Te.zc,Ge=Te.ya[Te.aa+Se];if(Te.Qa.Bb?Ge.$b=me(Oe,Te.Pa.jb[0])?2+me(Oe,Te.Pa.jb[2]):me(Oe,Te.Pa.jb[1]):Ge.$b=0,Te.kc&&(Ge.Ad=me(Oe,Te.Bd)),Ge.Za=!me(Oe,145)+0,Ge.Za){var Wt=Ge.Ob,Zt=0;for(Te=0;4>Te;++Te){var Ut,Dt=ut[0+Te];for(Ut=0;4>Ut;++Ut){Dt=II[Qe[He+Ut]][Dt];for(var ln=Pw[me(Oe,Dt[0])];0<ln;)ln=Pw[2*ln+me(Oe,Dt[ln])];Dt=-ln,Qe[He+Ut]=Dt}r(Wt,Zt,Qe,He,4),Zt+=4,ut[0+Te]=Dt}}else Dt=me(Oe,156)?me(Oe,128)?1:3:me(Oe,163)?2:0,Ge.Ob[0]=Dt,i(Qe,He,Dt,4),i(ut,0,Dt,4);Ge.Dd=me(Oe,142)?me(Oe,114)?me(Oe,183)?1:3:2:0}if(Pe.m.Ka)return mn(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Pe=oe,Oe=(le=pe).rb[le.sb-1],Qe=le.rb[le.sb+le.ja],Se=le.ya[le.aa+le.ja],He=le.kc?Se.Ad:0)Oe.la=Qe.la=0,Se.Za||(Oe.Na=Qe.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var on,At;if(Oe=Qe,Qe=Pe,He=le.Pa.Xc,ut=le.ya[le.aa+le.ja],Ge=le.pb[ut.$b],Te=ut.ad,Wt=0,Zt=le.rb[le.sb-1],Dt=Ut=0,i(Te,Wt,0,384),ut.Za)var Kn=0,hi=He[3];else{ln=s(16);var Qn=Oe.Na+Zt.Na;if(Qn=jh(Qe,He[1],Qn,Ge.Eb,0,ln,0),Oe.Na=Zt.Na=(0<Qn)+0,1<Qn)ec(ln,0,Te,Wt);else{var di=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)Te[Wt+ln]=di}Kn=1,hi=He[0]}var en=15&Oe.la,Ti=15&Zt.la;for(ln=0;4>ln;++ln){var ki=1&Ti;for(di=At=0;4>di;++di)en=en>>1|(ki=(Qn=jh(Qe,hi,Qn=ki+(1&en),Ge.Sc,Kn,Te,Wt))>Kn)<<7,At=At<<2|(3<Qn?3:1<Qn?2:Te[Wt+0]!=0),Wt+=16;en>>=4,Ti=Ti>>1|ki<<7,Ut=(Ut<<8|At)>>>0}for(hi=en,Kn=Ti>>4,on=0;4>on;on+=2){for(At=0,en=Oe.la>>4+on,Ti=Zt.la>>4+on,ln=0;2>ln;++ln){for(ki=1&Ti,di=0;2>di;++di)Qn=ki+(1&en),en=en>>1|(ki=0<(Qn=jh(Qe,He[2],Qn,Ge.Qc,0,Te,Wt)))<<3,At=At<<2|(3<Qn?3:1<Qn?2:Te[Wt+0]!=0),Wt+=16;en>>=2,Ti=Ti>>1|ki<<5}Dt|=At<<4*on,hi|=en<<4<<on,Kn|=(240&Ti)<<on}Oe.la=hi,Zt.la=Kn,ut.Hc=Ut,ut.Gc=Dt,ut.ia=43690&Dt?0:Ge.ia,He=!(Ut|Dt)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[Se.$b][Se.Za],le.wa[le.Y+le.ja].La|=!He),Pe.Ka)return mn(pe,7,"Premature end-of-file encountered.")}if(Tl(pe),le=ke,Pe=1,Se=(oe=pe).D,Oe=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Se.M=oe.M,Se.uc=Oe,zs(oe,Se),Pe=1,Se=(At=oe.D).Nb,Oe=(Dt=qf[oe.L])*oe.R,Qe=Dt/2*oe.B,ln=16*Se*oe.R,di=8*Se*oe.B,He=oe.sa,ut=oe.ta-Oe+ln,Ge=oe.qa,Te=oe.ra-Qe+di,Wt=oe.Ha,Zt=oe.Ia-Qe+di,Ti=(en=At.M)==0,Ut=en>=oe.Va-1,oe.Aa==2&&zs(oe,At),At.uc)for(ki=(Qn=oe).D.M,e(Qn.D.uc),At=Qn.yb;At<Qn.Hb;++At){Kn=At,hi=ki;var ur=(Er=(Pn=Qn).D).Nb;on=Pn.R;var Er=Er.wa[Er.Y+Kn],ti=Pn.sa,Xi=Pn.ta+16*ur*on+16*Kn,$s=Er.dd,cr=Er.tc;if(cr!=0)if(e(3<=cr),Pn.L==1)0<Kn&&Ea(ti,Xi,on,cr+4),Er.La&&Ki(ti,Xi,on,cr),0<hi&&$l(ti,Xi,on,cr+4),Er.La&&Mh(ti,Xi,on,cr);else{var ko=Pn.B,Hl=Pn.qa,ic=Pn.ra+8*ur*ko+8*Kn,Aa=Pn.Ha,Pn=Pn.Ia+8*ur*ko+8*Kn;ur=Er.ld,0<Kn&&(Rf(ti,Xi,on,cr+4,$s,ur),Ul(Hl,ic,Aa,Pn,ko,cr+4,$s,ur)),Er.La&&(ba(ti,Xi,on,cr,$s,ur),nc(Hl,ic,Aa,Pn,ko,cr,$s,ur)),0<hi&&(tc(ti,Xi,on,cr+4,$s,ur),Oh(Hl,ic,Aa,Pn,ko,cr+4,$s,ur)),Er.La&&(zl(ti,Xi,on,cr,$s,ur),ql(Hl,ic,Aa,Pn,ko,cr,$s,ur))}}if(oe.ia&&alert("todo:DitherRow"),le.put!=null){if(At=16*en,en=16*(en+1),Ti?(le.y=oe.sa,le.O=oe.ta+ln,le.f=oe.qa,le.N=oe.ra+di,le.ea=oe.Ha,le.W=oe.Ia+di):(At-=Dt,le.y=He,le.O=ut,le.f=Ge,le.N=Te,le.ea=Wt,le.W=Zt),Ut||(en-=Dt),en>le.o&&(en=le.o),le.F=null,le.J=null,oe.Fa!=null&&0<oe.Fa.length&&At<en&&(le.J=ya(oe,le,At,en-At),le.F=oe.mb,le.F==null&&le.F.length==0)){Pe=mn(oe,3,"Could not decode alpha data.");break e}At<le.j&&(Dt=le.j-At,At=le.j,e(!(1&Dt)),le.O+=oe.R*Dt,le.N+=oe.B*(Dt>>1),le.W+=oe.B*(Dt>>1),le.F!=null&&(le.J+=le.width*Dt)),At<en&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=At-le.j,le.U=le.va-le.v,le.T=en-At,Pe=le.put(le))}Se+1!=oe.Ic||Ut||(r(oe.sa,oe.ta-Oe,He,ut+16*oe.R,Oe),r(oe.qa,oe.ra-Qe,Ge,Te+8*oe.B,Qe),r(oe.Ha,oe.Ia-Qe,Wt,Zt+8*oe.B,Qe))}if(!Pe)return mn(pe,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),y&=1}return y?(u.cb=0,y):0}function li(u,f,y,C,j){j=u[f+y+32*C]+(j>>3),u[f+y+32*C]=-256&j?0>j?0:255:j}function ra(u,f,y,C,j,V){li(u,f,0,y,C+j),li(u,f,1,y,C+V),li(u,f,2,y,C-V),li(u,f,3,y,C-j)}function In(u){return(20091*u>>16)+u}function Xr(u,f,y,C){var j,V=0,U=s(16);for(j=0;4>j;++j){var $=u[f+0]+u[f+8],W=u[f+0]-u[f+8],Q=(35468*u[f+4]>>16)-In(u[f+12]),se=In(u[f+4])+(35468*u[f+12]>>16);U[V+0]=$+se,U[V+1]=W+Q,U[V+2]=W-Q,U[V+3]=$-se,V+=4,f++}for(j=V=0;4>j;++j)$=(u=U[V+0]+4)+U[V+8],W=u-U[V+8],Q=(35468*U[V+4]>>16)-In(U[V+12]),li(y,C,0,0,$+(se=In(U[V+4])+(35468*U[V+12]>>16))),li(y,C,1,0,W+Q),li(y,C,2,0,W-Q),li(y,C,3,0,$-se),V++,C+=32}function wo(u,f,y,C){var j=u[f+0]+4,V=35468*u[f+4]>>16,U=In(u[f+4]),$=35468*u[f+1]>>16;ra(y,C,0,j+U,u=In(u[f+1]),$),ra(y,C,1,j+V,u,$),ra(y,C,2,j-V,u,$),ra(y,C,3,j-U,u,$)}function ia(u,f,y,C,j){Xr(u,f,y,C),j&&Xr(u,f+16,y,C+4)}function kl(u,f,y,C){Io(u,f+0,y,C,1),Io(u,f+32,y,C+128,1)}function Xt(u,f,y,C){var j;for(u=u[f+0]+4,j=0;4>j;++j)for(f=0;4>f;++f)li(y,C,f,j,u)}function _o(u,f,y,C){u[f+0]&&ei(u,f+0,y,C),u[f+16]&&ei(u,f+16,y,C+4),u[f+32]&&ei(u,f+32,y,C+128),u[f+48]&&ei(u,f+48,y,C+128+4)}function bo(u,f,y,C){var j,V=s(16);for(j=0;4>j;++j){var U=u[f+0+j]+u[f+12+j],$=u[f+4+j]+u[f+8+j],W=u[f+4+j]-u[f+8+j],Q=u[f+0+j]-u[f+12+j];V[0+j]=U+$,V[8+j]=U-$,V[4+j]=Q+W,V[12+j]=Q-W}for(j=0;4>j;++j)U=(u=V[0+4*j]+3)+V[3+4*j],$=V[1+4*j]+V[2+4*j],W=V[1+4*j]-V[2+4*j],Q=u-V[3+4*j],y[C+0]=U+$>>3,y[C+16]=Q+W>>3,y[C+32]=U-$>>3,y[C+48]=Q-W>>3,C+=64}function ls(u,f,y){var C,j=f-32,V=Pi,U=255-u[j-1];for(C=0;C<y;++C){var $,W=V,Q=U+u[f-1];for($=0;$<y;++$)u[f+$]=W[Q+u[j+$]];f+=32}}function Ch(u,f){ls(u,f,4)}function qu(u,f){ls(u,f,8)}function xh(u,f){ls(u,f,16)}function us(u,f){var y;for(y=0;16>y;++y)r(u,f+32*y,u,f-32,16)}function sa(u,f){var y;for(y=16;0<y;--y)i(u,f,u[f-1],16),f+=32}function oa(u,f,y){var C;for(C=0;16>C;++C)i(f,y+32*C,u,16)}function js(u,f){var y,C=16;for(y=0;16>y;++y)C+=u[f-1+32*y]+u[f+y-32];oa(C>>5,u,f)}function vn(u,f){var y,C=8;for(y=0;16>y;++y)C+=u[f-1+32*y];oa(C>>4,u,f)}function $u(u,f){var y,C=8;for(y=0;16>y;++y)C+=u[f+y-32];oa(C>>4,u,f)}function Nl(u,f){oa(128,u,f)}function gt(u,f,y){return u+2*f+y+2>>2}function Fs(u,f){var y,C=f-32;for(C=new Uint8Array([gt(u[C-1],u[C+0],u[C+1]),gt(u[C+0],u[C+1],u[C+2]),gt(u[C+1],u[C+2],u[C+3]),gt(u[C+2],u[C+3],u[C+4])]),y=0;4>y;++y)r(u,f+32*y,C,0,C.length)}function Ih(u,f){var y=u[f-1],C=u[f-1+32],j=u[f-1+64],V=u[f-1+96];Ee(u,f+0,16843009*gt(u[f-1-32],y,C)),Ee(u,f+32,16843009*gt(y,C,j)),Ee(u,f+64,16843009*gt(C,j,V)),Ee(u,f+96,16843009*gt(j,V,V))}function Hi(u,f){var y,C=4;for(y=0;4>y;++y)C+=u[f+y-32]+u[f-1+32*y];for(C>>=3,y=0;4>y;++y)i(u,f+32*y,C,4)}function Hu(u,f){var y=u[f-1+0],C=u[f-1+32],j=u[f-1+64],V=u[f-1-32],U=u[f+0-32],$=u[f+1-32],W=u[f+2-32],Q=u[f+3-32];u[f+0+96]=gt(C,j,u[f-1+96]),u[f+1+96]=u[f+0+64]=gt(y,C,j),u[f+2+96]=u[f+1+64]=u[f+0+32]=gt(V,y,C),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=gt(U,V,y),u[f+3+64]=u[f+2+32]=u[f+1+0]=gt($,U,V),u[f+3+32]=u[f+2+0]=gt(W,$,U),u[f+3+0]=gt(Q,W,$)}function Ci(u,f){var y=u[f+1-32],C=u[f+2-32],j=u[f+3-32],V=u[f+4-32],U=u[f+5-32],$=u[f+6-32],W=u[f+7-32];u[f+0+0]=gt(u[f+0-32],y,C),u[f+1+0]=u[f+0+32]=gt(y,C,j),u[f+2+0]=u[f+1+32]=u[f+0+64]=gt(C,j,V),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=gt(j,V,U),u[f+3+32]=u[f+2+64]=u[f+1+96]=gt(V,U,$),u[f+3+64]=u[f+2+96]=gt(U,$,W),u[f+3+96]=gt($,W,W)}function aa(u,f){var y=u[f-1+0],C=u[f-1+32],j=u[f-1+64],V=u[f-1-32],U=u[f+0-32],$=u[f+1-32],W=u[f+2-32],Q=u[f+3-32];u[f+0+0]=u[f+1+64]=V+U+1>>1,u[f+1+0]=u[f+2+64]=U+$+1>>1,u[f+2+0]=u[f+3+64]=$+W+1>>1,u[f+3+0]=W+Q+1>>1,u[f+0+96]=gt(j,C,y),u[f+0+64]=gt(C,y,V),u[f+0+32]=u[f+1+96]=gt(y,V,U),u[f+1+32]=u[f+2+96]=gt(V,U,$),u[f+2+32]=u[f+3+96]=gt(U,$,W),u[f+3+32]=gt($,W,Q)}function Rl(u,f){var y=u[f+0-32],C=u[f+1-32],j=u[f+2-32],V=u[f+3-32],U=u[f+4-32],$=u[f+5-32],W=u[f+6-32],Q=u[f+7-32];u[f+0+0]=y+C+1>>1,u[f+1+0]=u[f+0+64]=C+j+1>>1,u[f+2+0]=u[f+1+64]=j+V+1>>1,u[f+3+0]=u[f+2+64]=V+U+1>>1,u[f+0+32]=gt(y,C,j),u[f+1+32]=u[f+0+96]=gt(C,j,V),u[f+2+32]=u[f+1+96]=gt(j,V,U),u[f+3+32]=u[f+2+96]=gt(V,U,$),u[f+3+64]=gt(U,$,W),u[f+3+96]=gt($,W,Q)}function la(u,f){var y=u[f-1+0],C=u[f-1+32],j=u[f-1+64],V=u[f-1+96];u[f+0+0]=y+C+1>>1,u[f+2+0]=u[f+0+32]=C+j+1>>1,u[f+2+32]=u[f+0+64]=j+V+1>>1,u[f+1+0]=gt(y,C,j),u[f+3+0]=u[f+1+32]=gt(C,j,V),u[f+3+32]=u[f+1+64]=gt(j,V,V),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=V}function ua(u,f){var y=u[f-1+0],C=u[f-1+32],j=u[f-1+64],V=u[f-1+96],U=u[f-1-32],$=u[f+0-32],W=u[f+1-32],Q=u[f+2-32];u[f+0+0]=u[f+2+32]=y+U+1>>1,u[f+0+32]=u[f+2+64]=C+y+1>>1,u[f+0+64]=u[f+2+96]=j+C+1>>1,u[f+0+96]=V+j+1>>1,u[f+3+0]=gt($,W,Q),u[f+2+0]=gt(U,$,W),u[f+1+0]=u[f+3+32]=gt(y,U,$),u[f+1+32]=u[f+3+64]=gt(C,y,U),u[f+1+64]=u[f+3+96]=gt(j,C,y),u[f+1+96]=gt(V,j,C)}function Wu(u,f){var y;for(y=0;8>y;++y)r(u,f+32*y,u,f-32,8)}function cs(u,f){var y;for(y=0;8>y;++y)i(u,f,u[f-1],8),f+=32}function xi(u,f,y){var C;for(C=0;8>C;++C)i(f,y+32*C,u,8)}function hs(u,f){var y,C=8;for(y=0;8>y;++y)C+=u[f+y-32]+u[f-1+32*y];xi(C>>4,u,f)}function Ol(u,f){var y,C=4;for(y=0;8>y;++y)C+=u[f+y-32];xi(C>>3,u,f)}function Kt(u,f){var y,C=4;for(y=0;8>y;++y)C+=u[f-1+32*y];xi(C>>3,u,f)}function Ml(u,f){xi(128,u,f)}function ca(u,f,y){var C=u[f-y],j=u[f+0],V=3*(j-C)+cv[1020+u[f-2*y]-u[f+y]],U=Mf[112+(V+4>>3)];u[f-y]=Pi[255+C+Mf[112+(V+3>>3)]],u[f+0]=Pi[255+j-U]}function Dl(u,f,y,C){var j=u[f+0],V=u[f+y];return Yi[255+u[f-2*y]-u[f-y]]>C||Yi[255+V-j]>C}function jl(u,f,y,C){return 4*Yi[255+u[f-y]-u[f+0]]+Yi[255+u[f-2*y]-u[f+y]]<=C}function Fl(u,f,y,C,j){var V=u[f-3*y],U=u[f-2*y],$=u[f-y],W=u[f+0],Q=u[f+y],se=u[f+2*y],ye=u[f+3*y];return 4*Yi[255+$-W]+Yi[255+U-Q]>C?0:Yi[255+u[f-4*y]-V]<=j&&Yi[255+V-U]<=j&&Yi[255+U-$]<=j&&Yi[255+ye-se]<=j&&Yi[255+se-Q]<=j&&Yi[255+Q-W]<=j}function Eo(u,f,y,C){var j=2*C+1;for(C=0;16>C;++C)jl(u,f+C,y,j)&&ca(u,f+C,y)}function Ii(u,f,y,C){var j=2*C+1;for(C=0;16>C;++C)jl(u,f+C*y,1,j)&&ca(u,f+C*y,1)}function er(u,f,y,C){var j;for(j=3;0<j;--j)Eo(u,f+=4*y,y,C)}function Gu(u,f,y,C){var j;for(j=3;0<j;--j)Ii(u,f+=4,y,C)}function Bs(u,f,y,C,j,V,U,$){for(V=2*V+1;0<j--;){if(Fl(u,f,y,V,U))if(Dl(u,f,y,$))ca(u,f,y);else{var W=u,Q=f,se=y,ye=W[Q-2*se],we=W[Q-se],pe=W[Q+0],ke=W[Q+se],Se=W[Q+2*se],oe=27*(Pe=cv[1020+3*(pe-we)+cv[1020+ye-ke]])+63>>7,le=18*Pe+63>>7,Pe=9*Pe+63>>7;W[Q-3*se]=Pi[255+W[Q-3*se]+Pe],W[Q-2*se]=Pi[255+ye+le],W[Q-se]=Pi[255+we+oe],W[Q+0]=Pi[255+pe-oe],W[Q+se]=Pi[255+ke-le],W[Q+2*se]=Pi[255+Se-Pe]}f+=C}}function wr(u,f,y,C,j,V,U,$){for(V=2*V+1;0<j--;){if(Fl(u,f,y,V,U))if(Dl(u,f,y,$))ca(u,f,y);else{var W=u,Q=f,se=y,ye=W[Q-se],we=W[Q+0],pe=W[Q+se],ke=Mf[112+((Se=3*(we-ye))+4>>3)],Se=Mf[112+(Se+3>>3)],oe=ke+1>>1;W[Q-2*se]=Pi[255+W[Q-2*se]+oe],W[Q-se]=Pi[255+ye+Se],W[Q+0]=Pi[255+we-ke],W[Q+se]=Pi[255+pe-oe]}f+=C}}function ha(u,f,y,C,j,V){Bs(u,f,y,1,16,C,j,V)}function ds(u,f,y,C,j,V){Bs(u,f,1,y,16,C,j,V)}function da(u,f,y,C,j,V){var U;for(U=3;0<U;--U)wr(u,f+=4*y,y,1,16,C,j,V)}function So(u,f,y,C,j,V){var U;for(U=3;0<U;--U)wr(u,f+=4,1,y,16,C,j,V)}function fa(u,f,y,C,j,V,U,$){Bs(u,f,j,1,8,V,U,$),Bs(y,C,j,1,8,V,U,$)}function Bl(u,f,y,C,j,V,U,$){Bs(u,f,1,j,8,V,U,$),Bs(y,C,1,j,8,V,U,$)}function pa(u,f,y,C,j,V,U,$){wr(u,f+4*j,j,1,8,V,U,$),wr(y,C+4*j,j,1,8,V,U,$)}function Vs(u,f,y,C,j,V,U,$){wr(u,f+4,1,j,8,V,U,$),wr(y,C+4,1,j,8,V,U,$)}function Lo(){this.ba=new Hn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ga(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ao(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ma(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new T}function Ku(){this.xb=this.a=0,this.l=new yo,this.ca=new Hn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ma,this.ab=0,this.gc=o(4,Ao),this.Oc=0}function fs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Us(u,f,y,C,j,V,U){for(u=u==null?0:u[f+0],f=0;f<U;++f)j[V+f]=u+y[C+f]&255,u=j[V+f]}function va(u,f,y,C,j,V,U){var $;if(u==null)Us(null,null,y,C,j,V,U);else for($=0;$<U;++$)j[V+$]=u[f+$]+y[C+$]&255}function Nr(u,f,y,C,j,V,U){if(u==null)Us(null,null,y,C,j,V,U);else{var $,W=u[f+0],Q=W,se=W;for($=0;$<U;++$)Q=se+(W=u[f+$])-Q,se=y[C+$]+(-256&Q?0>Q?0:255:Q)&255,Q=W,j[V+$]=se}}function ya(u,f,y,C){var j=f.width,V=f.o;if(e(u!=null&&f!=null),0>y||0>=C||y+C>V)return null;if(!u.Cc){if(u.ga==null){var U;if(u.ga=new fs,(U=u.ga==null)||(U=f.width*f.o,e(u.Gb.length==0),u.Gb=s(U),u.Uc=0,u.Gb==null?U=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,U=1),U=!U),!U){U=u.ga;var $=u.Fa,W=u.P,Q=u.qc,se=u.mb,ye=u.nb,we=W+1,pe=Q-1,ke=U.l;if(e($!=null&&se!=null&&f!=null),La[0]=null,La[1]=Us,La[2]=va,La[3]=Nr,U.ca=se,U.tb=ye,U.c=f.width,U.i=f.height,e(0<U.c&&0<U.i),1>=Q)f=0;else if(U.$a=$[W+0]>>0&3,U.Z=$[W+0]>>2&3,U.Lc=$[W+0]>>4&3,W=$[W+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||W)f=0;else if(ke.put=Zn,ke.ac=gn,ke.bc=Qr,ke.ma=U,ke.width=f.width,ke.height=f.height,ke.Da=f.Da,ke.v=f.v,ke.va=f.va,ke.j=f.j,ke.o=f.o,U.$a)e:{e(U.$a==1),f=Mn();t:for(;;){if(f==null){f=0;break e}if(e(U!=null),U.mc=f,f.c=U.c,f.i=U.i,f.l=U.l,f.l.ma=U,f.l.width=U.c,f.l.height=U.i,f.a=0,ee(f.m,$,we,pe),!Ai(U.c,U.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&os(f.s)?(U.ic=1,$=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s($),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(U.ic=0,f=Ns(f,U.c)),!f))break t;f=1;break e}U.mc=null,f=0}else f=pe>=U.c*U.i;U=!f}if(U)return null;u.ga.Lc!=1?u.Ga=0:C=V-y}e(u.ga!=null),e(y+C<=V);e:{if(f=($=u.ga).c,V=$.l.o,$.$a==0){if(we=u.rc,pe=u.Vc,ke=u.Fa,W=u.P+1+y*f,Q=u.mb,se=u.nb+y*f,e(W<=u.P+u.qc),$.Z!=0)for(e(La[$.Z]!=null),U=0;U<C;++U)La[$.Z](we,pe,ke,W,Q,se,f),we=Q,pe=se,se+=f,W+=f;else for(U=0;U<C;++U)r(Q,se,ke,W,f),we=Q,pe=se,se+=f,W+=f;u.rc=we,u.Vc=pe}else{if(e($.mc!=null),f=y+C,e((U=$.mc)!=null),e(f<=U.i),U.C>=f)f=1;else if($.ic||de(),$.ic){$=U.V,we=U.Ba,pe=U.c;var Se=U.i,oe=(ke=1,W=U.$/pe,Q=U.$%pe,se=U.m,ye=U.s,U.$),le=pe*Se,Pe=pe*f,Oe=ye.wc,Te=oe<Pe?xn(ye,Q,W):null;e(oe<=le),e(f<=Se),e(os(ye));t:for(;;){for(;!se.h&&oe<Pe;){if(Q&Oe||(Te=xn(ye,Q,W)),e(Te!=null),ne(se),256>(Se=Wn(Te.G[0],Te.H[0],se)))$[we+oe]=Se,++oe,++Q>=pe&&(Q=0,++W<=f&&!(W%16)&&ai(U,W));else{if(!(280>Se)){ke=0;break t}Se=it(Se-256,se);var Qe,He=Wn(Te.G[4],Te.H[4],se);if(ne(se),!(oe>=(He=Tr(pe,He=it(He,se)))&&le-oe>=Se)){ke=0;break t}for(Qe=0;Qe<Se;++Qe)$[we+oe+Qe]=$[we+oe+Qe-He];for(oe+=Se,Q+=Se;Q>=pe;)Q-=pe,++W<=f&&!(W%16)&&ai(U,W);oe<Pe&&Q&Oe&&(Te=xn(ye,Q,W))}e(se.h==J(se))}ai(U,W>f?f:W);break t}!ke||se.h&&oe<le?(ke=0,U.a=se.h?5:3):U.$=oe,f=ke}else f=Yr(U,U.V,U.Ba,U.c,U.i,f,Rs);if(!f){C=0;break e}}y+C>=V&&(u.Cc=1),C=1}if(!C)return null;if(u.Cc&&((C=u.ga)!=null&&(C.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*j}function v(u,f,y,C,j,V){for(;0<j--;){var U,$=u,W=f+(y?1:0),Q=u,se=f+(y?0:3);for(U=0;U<C;++U){var ye=Q[se+4*U];ye!=255&&(ye*=32897,$[W+4*U+0]=$[W+4*U+0]*ye>>23,$[W+4*U+1]=$[W+4*U+1]*ye>>23,$[W+4*U+2]=$[W+4*U+2]*ye>>23)}f+=V}}function D(u,f,y,C,j){for(;0<C--;){var V;for(V=0;V<y;++V){var U=u[f+2*V+0],$=15&(Q=u[f+2*V+1]),W=4369*$,Q=(240&Q|Q>>4)*W>>16;u[f+2*V+0]=(240&U|U>>4)*W>>16&240|(15&U|U<<4)*W>>16>>4&15,u[f+2*V+1]=240&Q|$}f+=j}}function Z(u,f,y,C,j,V,U,$){var W,Q,se=255;for(Q=0;Q<j;++Q){for(W=0;W<C;++W){var ye=u[f+W];V[U+4*W]=ye,se&=ye}f+=y,U+=$}return se!=255}function re(u,f,y,C,j){var V;for(V=0;V<j;++V)y[C+V]=u[f+V]>>8}function de(){Qi=v,cn=D,hn=Z,jn=re}function Ae(u,f,y){x[u]=function(C,j,V,U,$,W,Q,se,ye,we,pe,ke,Se,oe,le,Pe,Oe){var Te,Qe=Oe-1>>1,He=$[W+0]|Q[se+0]<<16,ut=ye[we+0]|pe[ke+0]<<16;e(C!=null);var Ge=3*He+ut+131074>>2;for(f(C[j+0],255&Ge,Ge>>16,Se,oe),V!=null&&(Ge=3*ut+He+131074>>2,f(V[U+0],255&Ge,Ge>>16,le,Pe)),Te=1;Te<=Qe;++Te){var Wt=$[W+Te]|Q[se+Te]<<16,Zt=ye[we+Te]|pe[ke+Te]<<16,Ut=He+Wt+ut+Zt+524296,Dt=Ut+2*(Wt+ut)>>3;Ge=Dt+He>>1,He=(Ut=Ut+2*(He+Zt)>>3)+Wt>>1,f(C[j+2*Te-1],255&Ge,Ge>>16,Se,oe+(2*Te-1)*y),f(C[j+2*Te-0],255&He,He>>16,Se,oe+(2*Te-0)*y),V!=null&&(Ge=Ut+ut>>1,He=Dt+Zt>>1,f(V[U+2*Te-1],255&Ge,Ge>>16,le,Pe+(2*Te-1)*y),f(V[U+2*Te+0],255&He,He>>16,le,Pe+(2*Te+0)*y)),He=Wt,ut=Zt}1&Oe||(Ge=3*He+ut+131074>>2,f(C[j+Oe-1],255&Ge,Ge>>16,Se,oe+(Oe-1)*y),V!=null&&(Ge=3*ut+He+131074>>2,f(V[U+Oe-1],255&Ge,Ge>>16,le,Pe+(Oe-1)*y)))}}function Me(){Ji[Df]=NI,Ji[jf]=kw,Ji[Cw]=RI,Ji[Ff]=Nw,Ji[Bf]=Rw,Ji[hv]=Ow,Ji[xw]=OI,Ji[dv]=kw,Ji[fv]=Nw,Ji[Vf]=Rw,Ji[pv]=Ow}function We(u){return u&~MI?0>u?0:255:u>>Mw}function h(u,f){return We((19077*u>>8)+(26149*f>>8)-14234)}function w(u,f,y){return We((19077*u>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function P(u,f){return We((19077*u>>8)+(33050*f>>8)-17685)}function q(u,f,y,C,j){C[j+0]=h(u,y),C[j+1]=w(u,f,y),C[j+2]=P(u,f)}function ce(u,f,y,C,j){C[j+0]=P(u,f),C[j+1]=w(u,f,y),C[j+2]=h(u,y)}function be(u,f,y,C,j){var V=w(u,f,y);f=V<<3&224|P(u,f)>>3,C[j+0]=248&h(u,y)|V>>5,C[j+1]=f}function De(u,f,y,C,j){var V=240&P(u,f)|15;C[j+0]=240&h(u,y)|w(u,f,y)>>4,C[j+1]=V}function _t(u,f,y,C,j){C[j+0]=255,q(u,f,y,C,j+1)}function Mt(u,f,y,C,j){ce(u,f,y,C,j),C[j+3]=255}function bt(u,f,y,C,j){q(u,f,y,C,j),C[j+3]=255}function Qt(u,f){return 0>u?0:u>f?f:u}function an(u,f,y){x[u]=function(C,j,V,U,$,W,Q,se,ye){for(var we=se+(-2&ye)*y;se!=we;)f(C[j+0],V[U+0],$[W+0],Q,se),f(C[j+1],V[U+0],$[W+0],Q,se+y),j+=2,++U,++W,se+=2*y;1&ye&&f(C[j+0],V[U+0],$[W+0],Q,se)}}function ps(u,f,y){return y==0?u==0?f==0?6:5:f==0?4:0:y}function _r(u,f,y,C,j){switch(u>>>30){case 3:Io(f,y,C,j,0);break;case 2:Dn(f,y,C,j);break;case 1:ei(f,y,C,j)}}function zs(u,f){var y,C,j=f.M,V=f.Nb,U=u.oc,$=u.pc+40,W=u.oc,Q=u.pc+584,se=u.oc,ye=u.pc+600;for(y=0;16>y;++y)U[$+32*y-1]=129;for(y=0;8>y;++y)W[Q+32*y-1]=129,se[ye+32*y-1]=129;for(0<j?U[$-1-32]=W[Q-1-32]=se[ye-1-32]=129:(i(U,$-32-1,127,21),i(W,Q-32-1,127,9),i(se,ye-32-1,127,9)),C=0;C<u.za;++C){var we=f.ya[f.aa+C];if(0<C){for(y=-1;16>y;++y)r(U,$+32*y-4,U,$+32*y+12,4);for(y=-1;8>y;++y)r(W,Q+32*y-4,W,Q+32*y+4,4),r(se,ye+32*y-4,se,ye+32*y+4,4)}var pe=u.Gd,ke=u.Hd+C,Se=we.ad,oe=we.Hc;if(0<j&&(r(U,$-32,pe[ke].y,0,16),r(W,Q-32,pe[ke].f,0,8),r(se,ye-32,pe[ke].ea,0,8)),we.Za){var le=U,Pe=$-32+16;for(0<j&&(C>=u.za-1?i(le,Pe,pe[ke].y[15],4):r(le,Pe,pe[ke+1].y,0,4)),y=0;4>y;y++)le[Pe+128+y]=le[Pe+256+y]=le[Pe+384+y]=le[Pe+0+y];for(y=0;16>y;++y,oe<<=2)le=U,Pe=$+jw[y],gs[we.Ob[y]](le,Pe),_r(oe,Se,16*+y,le,Pe)}else if(le=ps(C,j,we.Ob[0]),Sa[le](U,$),oe!=0)for(y=0;16>y;++y,oe<<=2)_r(oe,Se,16*+y,U,$+jw[y]);for(y=we.Gc,le=ps(C,j,we.Dd),To[le](W,Q),To[le](se,ye),oe=Se,le=W,Pe=Q,255&(we=y>>0)&&(170&we?Rh(oe,256,le,Pe):Gi(oe,256,le,Pe)),we=se,oe=ye,255&(y>>=8)&&(170&y?Rh(Se,320,we,oe):Gi(Se,320,we,oe)),j<u.Ub-1&&(r(pe[ke].y,0,U,$+480,16),r(pe[ke].f,0,W,Q+224,8),r(pe[ke].ea,0,se,ye+224,8)),y=8*V*u.B,pe=u.sa,ke=u.ta+16*C+16*V*u.R,Se=u.qa,we=u.ra+8*C+y,oe=u.Ha,le=u.Ia+8*C+y,y=0;16>y;++y)r(pe,ke+y*u.R,U,$+32*y,16);for(y=0;8>y;++y)r(Se,we+y*u.B,W,Q+32*y,8),r(oe,le+y*u.B,se,ye+32*y,8)}}function qs(u,f,y,C,j,V,U,$,W){var Q=[0],se=[0],ye=0,we=W!=null?W.kd:0,pe=W??new ga;if(u==null||12>y)return 7;pe.data=u,pe.w=f,pe.ha=y,f=[f],y=[y],pe.gb=[pe.gb];e:{var ke=f,Se=y,oe=pe.gb;if(e(u!=null),e(Se!=null),e(oe!=null),oe[0]=0,12<=Se[0]&&!n(u,ke[0],"RIFF")){if(n(u,ke[0]+8,"WEBP")){oe=3;break e}var le=Ve(u,ke[0]+4);if(12>le||4294967286<le){oe=3;break e}if(we&&le>Se[0]-8){oe=7;break e}oe[0]=le,ke[0]+=12,Se[0]-=12}oe=0}if(oe!=0)return oe;for(le=0<pe.gb[0],y=y[0];;){e:{var Pe=u;Se=f,oe=y;var Oe=Q,Te=se,Qe=ke=[0];if((Ge=ye=[ye])[0]=0,8>oe[0])oe=7;else{if(!n(Pe,Se[0],"VP8X")){if(Ve(Pe,Se[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var He=Ve(Pe,Se[0]+8),ut=1+Be(Pe,Se[0]+12);if(2147483648<=ut*(Pe=1+Be(Pe,Se[0]+15))){oe=3;break e}Qe!=null&&(Qe[0]=He),Oe!=null&&(Oe[0]=ut),Te!=null&&(Te[0]=Pe),Se[0]+=18,oe[0]-=18,Ge[0]=1}oe=0}}if(ye=ye[0],ke=ke[0],oe!=0)return oe;if(Se=!!(2&ke),!le&&ye)return 3;if(V!=null&&(V[0]=!!(16&ke)),U!=null&&(U[0]=Se),$!=null&&($[0]=0),U=Q[0],ke=se[0],ye&&Se&&W==null){oe=0;break}if(4>y){oe=7;break}if(le&&ye||!le&&!ye&&!n(u,f[0],"ALPH")){y=[y],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{He=u,oe=f,le=y;var Ge=pe.gb;Oe=pe.na,Te=pe.P,Qe=pe.Sa,ut=22,e(He!=null),e(le!=null),Pe=oe[0];var Wt=le[0];for(e(Oe!=null),e(Qe!=null),Oe[0]=null,Te[0]=null,Qe[0]=0;;){if(oe[0]=Pe,le[0]=Wt,8>Wt){oe=7;break e}var Zt=Ve(He,Pe+4);if(4294967286<Zt){oe=3;break e}var Ut=8+Zt+1&-2;if(ut+=Ut,0<Ge&&ut>Ge){oe=3;break e}if(!n(He,Pe,"VP8 ")||!n(He,Pe,"VP8L")){oe=0;break e}if(Wt[0]<Ut){oe=7;break e}n(He,Pe,"ALPH")||(Oe[0]=He,Te[0]=Pe+8,Qe[0]=Zt),Pe+=Ut,Wt-=Ut}}if(y=y[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],oe!=0)break}y=[y],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(Ge=u,oe=f,le=y,Oe=pe.gb[0],Te=pe.Ja,Qe=pe.xa,He=oe[0],Pe=!n(Ge,He,"VP8 "),ut=!n(Ge,He,"VP8L"),e(Ge!=null),e(le!=null),e(Te!=null),e(Qe!=null),8>le[0])oe=7;else{if(Pe||ut){if(Ge=Ve(Ge,He+4),12<=Oe&&Ge>Oe-12){oe=3;break e}if(we&&Ge>le[0]-8){oe=7;break e}Te[0]=Ge,oe[0]+=8,le[0]-=8,Qe[0]=ut}else Qe[0]=5<=le[0]&&Ge[He+0]==47&&!(Ge[He+4]>>5),Te[0]=le[0];oe=0}if(y=y[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],f=f[0],oe!=0)break;if(4294967286<pe.Ja)return 3;if($==null||Se||($[0]=pe.xa?2:1),U=[U],ke=[ke],pe.xa){if(5>y){oe=7;break}$=U,we=ke,Se=V,u==null||5>y?u=0:5<=y&&u[f+0]==47&&!(u[f+4]>>5)?(le=[0],Ge=[0],Oe=[0],ee(Te=new M,u,f,y),Ke(Te,le,Ge,Oe)?($!=null&&($[0]=le[0]),we!=null&&(we[0]=Ge[0]),Se!=null&&(Se[0]=Oe[0]),u=1):u=0):u=0}else{if(10>y){oe=7;break}$=ke,u==null||10>y||!Il(u,f+3,y-3)?u=0:(we=u[f+0]|u[f+1]<<8|u[f+2]<<16,Se=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=pe.Ja||!Se||!u?u=0:(U&&(U[0]=Se),$&&($[0]=u),u=1))}if(!u||(U=U[0],ke=ke[0],ye&&(Q[0]!=U||se[0]!=ke)))return 3;W!=null&&(W[0]=pe,W.offset=f-W.w,e(4294967286>f-W.w),e(W.offset==W.ha-y));break}return oe==0||oe==7&&ye&&W==null?(V!=null&&(V[0]|=pe.na!=null&&0<pe.na.length),C!=null&&(C[0]=U),j!=null&&(j[0]=ke),0):oe}function Ph(u,f,y){var C=f.width,j=f.height,V=0,U=0,$=C,W=j;if(f.Da=u!=null&&0<u.Da,f.Da&&($=u.cd,W=u.bd,V=u.v,U=u.j,11>y||(V&=-2,U&=-2),0>V||0>U||0>=$||0>=W||V+$>C||U+W>j))return 0;if(f.v=V,f.j=U,f.va=V+$,f.o=U+W,f.U=$,f.T=W,f.da=u!=null&&0<u.da,f.da){if(!dt($,W,y=[u.ib],V=[u.hb]))return 0;f.ib=y[0],f.hb=V[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*C/4&&f.hb<3*j/4,f.Kb=0),1}function Th(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function Qu(u,f,y,C){if(C==null||0>=u||0>=f)return 2;if(y!=null){if(y.Da){var j=y.cd,V=y.bd,U=-2&y.v,$=-2&y.j;if(0>U||0>$||0>=j||0>=V||U+j>u||$+V>f)return 2;u=j,f=V}if(y.da){if(!dt(u,f,j=[y.ib],V=[y.hb]))return 2;u=j[0],f=V[0]}}C.width=u,C.height=f;e:{var W=C.width,Q=C.height;if(u=C.S,0>=W||0>=Q||!(u>=Df&&13>u))u=2;else{if(0>=C.Rd&&C.sd==null){U=V=j=f=0;var se=($=W*Fw[u])*Q;if(11>u||(V=(Q+1)/2*(f=(W+1)/2),u==12&&(U=(j=W)*Q)),(Q=s(se+2*V+U))==null){u=1;break e}C.sd=Q,11>u?((W=C.f.RGBA).eb=Q,W.fb=0,W.A=$,W.size=se):((W=C.f.kb).y=Q,W.O=0,W.fa=$,W.Fd=se,W.f=Q,W.N=0+se,W.Ab=f,W.Cd=V,W.ea=Q,W.W=0+se+V,W.Db=f,W.Ed=V,u==12&&(W.F=Q,W.J=0+se+2*V),W.Tc=U,W.lb=j)}if(f=1,j=C.S,V=C.width,U=C.height,j>=Df&&13>j)if(11>j)u=C.f.RGBA,f&=($=Math.abs(u.A))*(U-1)+V<=u.size,f&=$>=V*Fw[j],f&=u.eb!=null;else{u=C.f.kb,$=(V+1)/2,se=(U+1)/2,W=Math.abs(u.fa),Q=Math.abs(u.Ab);var ye=Math.abs(u.Db),we=Math.abs(u.lb),pe=we*(U-1)+V;f&=W*(U-1)+V<=u.Fd,f&=Q*(se-1)+$<=u.Cd,f=(f&=ye*(se-1)+$<=u.Ed)&W>=V&Q>=$&ye>=$,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,j==12&&(f&=we>=V,f&=pe<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||y!=null&&y.fd&&(u=Th(C)),u}var br=64,Yu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ju=24,Xu=32,kh=8,ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),x.Predictor0=function(){return 4278190080},x.Predictor1=function(u){return u},x.Predictor2=function(u,f,y){return f[y+0]},x.Predictor3=function(u,f,y){return f[y+1]},x.Predictor4=function(u,f,y){return f[y-1]},x.Predictor5=function(u,f,y){return qe(qe(u,f[y+1]),f[y+0])},x.Predictor6=function(u,f,y){return qe(u,f[y-1])},x.Predictor7=function(u,f,y){return qe(u,f[y+0])},x.Predictor8=function(u,f,y){return qe(f[y-1],f[y+0])},x.Predictor9=function(u,f,y){return qe(f[y+0],f[y+1])},x.Predictor10=function(u,f,y){return qe(qe(u,f[y-1]),qe(f[y+0],f[y+1]))},x.Predictor11=function(u,f,y){var C=f[y+0];return 0>=mt(C>>24&255,u>>24&255,(f=f[y-1])>>24&255)+mt(C>>16&255,u>>16&255,f>>16&255)+mt(C>>8&255,u>>8&255,f>>8&255)+mt(255&C,255&u,255&f)?C:u},x.Predictor12=function(u,f,y){var C=f[y+0];return(et((u>>24&255)+(C>>24&255)-((f=f[y-1])>>24&255))<<24|et((u>>16&255)+(C>>16&255)-(f>>16&255))<<16|et((u>>8&255)+(C>>8&255)-(f>>8&255))<<8|et((255&u)+(255&C)-(255&f)))>>>0},x.Predictor13=function(u,f,y){var C=f[y-1];return(ht((u=qe(u,f[y+0]))>>24&255,C>>24&255)<<24|ht(u>>16&255,C>>16&255)<<16|ht(u>>8&255,C>>8&255)<<8|ht(u>>0&255,C>>0&255))>>>0};var uv=x.PredictorAdd0;x.PredictorAdd1=rt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var Nh=x.PredictorAdd2;Lt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Tf,Wi=x.ColorIndexInverseTransform,Zu=x.MapARGB,kf=x.VP8LColorIndexInverseTransformAlpha,Nf=x.MapAlpha,wa=x.VP8LPredictorsAdd=[];wa.length=16,(x.VP8LPredictors=[]).length=16,(x.VP8LPredictorsAdd_C=[]).length=16,(x.VP8LPredictors_C=[]).length=16;var Vl,ci,Zr,_a,Co,xo,ec,Io,Dn,Rh,ei,Gi,tc,Rf,Oh,Ul,zl,ba,ql,nc,$l,Ea,Mh,Ki,Qi,cn,hn,jn,tr=s(511),Po=s(2041),Dh=s(225),rc=s(767),Of=0,cv=Po,Mf=Dh,Pi=rc,Yi=tr,Df=0,jf=1,Cw=2,Ff=3,Bf=4,hv=5,xw=6,dv=7,fv=8,Vf=9,pv=10,yI=[2,3,7],wI=[3,3,11],Iw=[280,256,256,256,40],_I=[0,1,1,1,0],bI=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],EI=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],SI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],LI=8,gv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jh=null,AI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],CI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Pw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],II=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],PI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],TI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Sa=[],gs=[],To=[],kI=1,Tw=2,La=[],Ji=[];Ae("UpsampleRgbLinePair",q,3),Ae("UpsampleBgrLinePair",ce,3),Ae("UpsampleRgbaLinePair",bt,4),Ae("UpsampleBgraLinePair",Mt,4),Ae("UpsampleArgbLinePair",_t,4),Ae("UpsampleRgba4444LinePair",De,2),Ae("UpsampleRgb565LinePair",be,2);var NI=x.UpsampleRgbLinePair,RI=x.UpsampleBgrLinePair,kw=x.UpsampleRgbaLinePair,Nw=x.UpsampleBgraLinePair,Rw=x.UpsampleArgbLinePair,Ow=x.UpsampleRgba4444LinePair,OI=x.UpsampleRgb565LinePair,Uf=16,zf=1<<Uf-1,Fh=-227,vv=482,Mw=6,MI=(256<<Mw)-1,Dw=0,DI=s(256),jI=s(256),FI=s(256),BI=s(256),VI=s(vv-Fh),UI=s(vv-Fh);an("YuvToRgbRow",q,3),an("YuvToBgrRow",ce,3),an("YuvToRgbaRow",bt,4),an("YuvToBgraRow",Mt,4),an("YuvToArgbRow",_t,4),an("YuvToRgba4444Row",De,2),an("YuvToRgb565Row",be,2);var jw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qf=[0,2,8],zI=[8,7,6,4,4,2,2,2,1,1,1,1],qI=1;this.WebPDecodeRGBA=function(u,f,y,C,j){var V=jf,U=new Lo,$=new Hn;U.ba=$,$.S=V,$.width=[$.width],$.height=[$.height];var W=$.width,Q=$.height,se=new Pr;if(se==null||u==null)var ye=2;else e(se!=null),ye=qs(u,f,y,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ye!=0?W=0:(W!=null&&(W[0]=se.width[0]),Q!=null&&(Q[0]=se.height[0]),W=1),W){$.width=$.width[0],$.height=$.height[0],C!=null&&(C[0]=$.width),j!=null&&(j[0]=$.height);e:{if(C=new yo,(j=new ga).data=u,j.w=f,j.ha=y,j.kd=1,f=[0],e(j!=null),((u=qs(j.data,j.w,j.ha,null,null,null,f,null,j))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(U!=null),C.data=j.data,C.w=j.w+j.offset,C.ha=j.ha-j.offset,C.put=Zn,C.ac=gn,C.bc=Qr,C.ma=U,j.xa){if((u=Mn())==null){U=1;break e}if(function(we,pe){var ke=[0],Se=[0],oe=[0];t:for(;;){if(we==null)return 0;if(pe==null)return we.a=2,0;if(we.l=pe,we.a=0,ee(we.m,pe.data,pe.w,pe.ha),!Ke(we.m,ke,Se,oe)){we.a=3;break t}if(we.xb=Tw,pe.width=ke[0],pe.height=Se[0],!Ai(ke[0],Se[0],1,we,null))break t;return 1}return e(we.a!=0),0}(u,C)){if(C=(f=Qu(C.width,C.height,U.Oa,U.ba))==0){t:{C=u;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((y=C.l)!=null),e((j=y.ma)!=null),C.xb!=0){if(C.ca=j.ba,C.tb=j.tb,e(C.ca!=null),!Ph(j.Oa,y,Ff)){C.a=2;break n}if(!Ns(C,y.width)||y.da)break n;if((y.da||Tt(C.ca.S))&&de(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&de()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!nt(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Yr(C,C.V,C.Ba,C.c,C.i,y.o,ta))break n;j.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(f=u.a)}else f=u.a}else{if((u=new xl)==null){U=1;break e}if(u.Fa=j.na,u.P=j.P,u.qc=j.Sa,Pl(u,C)){if((f=Qu(C.width,C.height,U.Oa,U.ba))==0){if(u.Aa=0,y=U.Oa,e((j=u)!=null),y!=null){if(0<(W=0>(W=y.Md)?0:100<W?255:255*W/100)){for(Q=se=0;4>Q;++Q)12>(ye=j.pb[Q]).lc&&(ye.ia=W*zI[0>ye.lc?0:ye.lc]>>3),se|=ye.ia;se&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}zu(u,C)||(f=u.a)}}else f=u.a}f==0&&U.Oa!=null&&U.Oa.fd&&(f=Th(U.ba))}U=f}V=U!=0?null:11>V?$.f.RGBA.eb:$.f.kb.y}else V=null;return V};var Fw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(x,k){for(var F="",L=0;L<4;L++)F+=String.fromCharCode(x[k++]);return F}function d(x,k){return(x[k+0]<<0|x[k+1]<<8|x[k+2]<<16)>>>0}function p(x,k){return(x[k+0]<<0|x[k+1]<<8|x[k+2]<<16|x[k+3]<<24)>>>0}new l;var m=[0],g=[0],E=[],S=new l,I=t,_=function(x,k){var F={},L=0,T=!1,O=0,X=0;if(F.frames=[],!function(H,J,G,ne){for(var ue=0;ue<ne;ue++)if(H[J+ue]!=G.charCodeAt(ue))return!0;return!1}(x,k,"RIFF",4)){var fe,ge;for(p(x,k+=4),k+=8;k<x.length;){var ve=c(x,k),ee=p(x,k+=4);k+=4;var ie=ee+(1&ee);switch(ve){case"VP8 ":case"VP8L":F.frames[L]===void 0&&(F.frames[L]={}),(M=F.frames[L]).src_off=T?X:k-8,M.src_size=O+ee+8,L++,T&&(T=!1,O=0,X=0);break;case"VP8X":(M=F.header={}).feature_flags=x[k];var ae=k+4;M.canvas_width=1+d(x,ae),ae+=3,M.canvas_height=1+d(x,ae),ae+=3;break;case"ALPH":T=!0,O=ie+8,X=k-8;break;case"ANIM":(M=F.header).bgcolor=p(x,k),ae=k+4,M.loop_count=(fe=x)[(ge=ae)+0]<<0|fe[ge+1]<<8,ae+=2;break;case"ANMF":var Ie,M;(M=F.frames[L]={}).offset_x=2*d(x,k),k+=3,M.offset_y=2*d(x,k),k+=3,M.width=1+d(x,k),k+=3,M.height=1+d(x,k),k+=3,M.duration=d(x,k),k+=3,Ie=x[k++],M.dispose=1&Ie,M.blend=Ie>>1&1}ve!="ANMF"&&(k+=ie)}return F}}(I,0);_.response=I,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,R=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,m=[b.canvas_height],g=[b.canvas_width];for(var B=0;B<R.length&&R[B].blend!=0;B++);}var z=R[0],K=S.WebPDecodeRGBA(I,z.src_off,z.src_size,g,m);z.rgba=K,z.imgwidth=g[0],z.imgheight=m[0];for(var N=0;N<g[0]*m[0]*4;N++)E[N]=K[N];return this.width=g,this.height=m,this.data=E,this}(function(t){var e=function(){return typeof n2=="function"},n=function(m,g,E,S){var I=4,_=o;switch(S){case t.image_compression.FAST:I=1,_=s;break;case t.image_compression.MEDIUM:I=6,_=a;break;case t.image_compression.SLOW:I=9,_=l}m=r(m,g,E,_);var b=n2(m,{level:I});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(m,g,E,S){for(var I,_,b,R=m.length/g,B=new Uint8Array(m.length+R),z=d(),K=0;K<R;K+=1){if(b=K*g,I=m.subarray(b,b+g),S)B.set(S(I,E,_),b+K);else{for(var N,x=z.length,k=[];N<x;N+=1)k[N]=z[N](I,E,_);var F=p(k.concat());B.set(k[F],b+K)}_=I}return B},i=function(m){var g=Array.apply([],m);return g.unshift(0),g},s=function(m,g){var E,S=[],I=m.length;S[0]=1;for(var _=0;_<I;_+=1)E=m[_-g]||0,S[_+1]=m[_]-E+256&255;return S},o=function(m,g,E){var S,I=[],_=m.length;I[0]=2;for(var b=0;b<_;b+=1)S=E&&E[b]||0,I[b+1]=m[b]-S+256&255;return I},a=function(m,g,E){var S,I,_=[],b=m.length;_[0]=3;for(var R=0;R<b;R+=1)S=m[R-g]||0,I=E&&E[R]||0,_[R+1]=m[R]+256-(S+I>>>1)&255;return _},l=function(m,g,E){var S,I,_,b,R=[],B=m.length;R[0]=4;for(var z=0;z<B;z+=1)S=m[z-g]||0,I=E&&E[z]||0,_=E&&E[z-g]||0,b=c(S,I,_),R[z+1]=m[z]-b+256&255;return R},c=function(m,g,E){if(m===g&&g===E)return m;var S=Math.abs(g-E),I=Math.abs(m-E),_=Math.abs(m+g-E-E);return S<=I&&S<=_?m:I<=_?g:E},d=function(){return[i,s,o,a,l]},p=function(m){var g=m.map(function(E){return E.reduce(function(S,I){return S+Math.abs(I)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(m,g,E,S){var I,_,b,R,B,z,K,N,x,k,F,L,T,O,X,fe=this.decode.FLATE_DECODE,ge="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(b=new mV(m)).imgData,_=b.bits,I=b.colorSpace,B=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){x=(N=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,F=new Uint8Array(x*b.colors),k=new Uint8Array(x);var ve,ee=b.pixelBitlength-b.bits;for(O=0,X=0;O<x;O++){for(T=N[O],ve=0;ve<ee;)F[X++]=T>>>ve&255,ve+=b.bits;k[O]=T>>>ve&255}}if(b.bits===16){x=(N=new Uint32Array(b.decodePixels().buffer)).length,F=new Uint8Array(x*(32/b.pixelBitlength)*b.colors),k=new Uint8Array(x*(32/b.pixelBitlength)),L=b.colors>1,O=0,X=0;for(var ie=0;O<x;)T=N[O++],F[X++]=T>>>0&255,L&&(F[X++]=T>>>16&255,T=N[O++],F[X++]=T>>>0&255),k[ie++]=T>>>16&255;_=8}S!==t.image_compression.NONE&&e()?(m=n(F,b.width*b.colors,b.colors,S),K=n(k,b.width,1,S)):(m=F,K=k,fe=void 0)}if(b.colorType===3&&(I=this.color_spaces.INDEXED,z=b.palette,b.transparency.indexed)){var ae=b.transparency.indexed,Ie=0;for(O=0,x=ae.length;O<x;++O)Ie+=ae[O];if((Ie/=255)===x-1&&ae.indexOf(0)!==-1)R=[ae.indexOf(0)];else if(Ie!==x){for(N=b.decodePixels(),k=new Uint8Array(N.length),O=0,x=N.length;O<x;O++)k[O]=ae[N[O]];K=n(k,b.width,1)}}var M=function(H){var J;switch(H){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(S);return fe===this.decode.FLATE_DECODE&&(ge="/Predictor "+M+" "),ge+="/Colors "+B+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(K&&this.__addimage__.isArrayBuffer(K)||this.__addimage__.isArrayBufferView(K))&&(K=this.__addimage__.arrayBufferToBinaryString(K)),{alias:E,data:m,index:g,filter:fe,decodeParameters:ge,transparency:R,palette:z,sMask:K,predictor:M,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:I}}}})(ft.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new vV(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},d=new L0(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(ft.API),ws.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ws.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){un.log("bit decode error:"+n)}},ws.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ws.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ws.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ws.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=c}this.pos+=t}},ws.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},ws.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ws.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ws.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ws(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new L0(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ft.API),_E.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new _E(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new L0(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ft.API),ft.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c],p=r[c+1],m=r[c+2],g=r[c+3];s[a++]=d,s[a++]=p,s[a++]=m,o[l++]=g}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cc=ft.API,Tp=cc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,p=e.doKerning!==!1,m=0,g=t.length,E=0,S=a[0]||l,I=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=p&&tn(c[r])==="object"&&!isNaN(parseInt(c[r][E],10))?c[r][E]/d:0,I.push((a[r]||S)/l+m)),E=r;return I},mE=cc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return cc.processArabic&&(t=cc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Tp.apply(this,arguments).reduce(function(s,o){return s+o},0)},vE=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},yE=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,d=[],p=[d],m=n.textIndent||0,g=0,E=0,S=t.split(" "),I=Tp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),b=[];S.map(function(B){(B=B.split(/\s*\n/)).length>1?b=b.concat(B.map(function(z,K){return(K&&z.length?`
`:"")+z})):b.push(B[0])}),S=b,l=mE.apply(this,[_,n])}for(s=0,o=S.length;s<o;s++){var R=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),R=1),m+g+(E=(i=Tp.apply(this,[r,n])).reduce(function(B,z){return B+z},0))>e||R){if(E>e){for(a=vE.apply(this,[r,i,e-(m+g),e]),d.push(a.shift()),d=[a.pop()];a.length;)p.push([a.shift()]);E=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(B,z){return B+z},0)}else d=[r];p.push(d),m=E+l,g=I}else d.push(r),m+=g+E,g=I}return c=l?function(B,z){return(z?_:"")+B.join(" ")}:function(B){return B.join(" ")},p.map(c)},cc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(yE.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var m,g,E,S,I=["{"];for(var _ in p){if(m=p[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=s(_).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof m=="number")m<0?(E=s(m).slice(3),S="-"):(E=s(m).slice(2),S=""),E=S+E.slice(0,-1)+r[E.slice(-1)];else{if(tn(m)!=="object")throw new Error("Don't know what to do with value type "+tn(m)+".");E=o(m)}I.push(g+E)}return I.push("}"),I.join("")},a=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,E,S,I={},_=1,b=I,R=[],B="",z="",K=p.length-1,N=1;N<K;N+=1)(S=p[N])=="'"?m?(E=m.join(""),m=void 0):m=[]:m?m.push(S):S=="{"?(R.push([b,E]),b={},E=void 0):S=="}"?((g=R.pop())[0][g[1]]=b,E=void 0,b=g[0]):S=="-"?_=-1:E===void 0?n.hasOwnProperty(S)?(B+=n[S],E=parseInt(B,16)*_,_=1,B=""):B+=S:n.hasOwnProperty(S)?(z+=n[S],b[E]=parseInt(z,16)*_,_=1,E=void 0,z=""):z+=S;return I},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var m=p.font,g=d.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var E=c.Unicode[m.postScriptName];E&&(m.metadata.Unicode.encoding=E,m.encoding=E.codePages[0])}])}(ft.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Cd(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ft),function(t){function e(){return(pt.canvg?Promise.resolve(pt.canvg):J1(()=>import("./index.es-CaEKvDiD.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(E){return E.fromString(p,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(m)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,d=0,p=0;function m(E,S){var I,_=!1;for(I=0;I<E.length;I+=1)E[I]===S&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(p=0;p<g;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(tn(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,S=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?S.push("/"+E+" /"+n[E].value):S.push("/"+E+" "+n[E].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],p=0,m=s.length;p<m;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(s){var o,a,l,c,d,p,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,m=(a=Object.keys(s).sort(function(g,E){return g-E})).length;p<m;p++)o=a[p],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",E=0;E<m.length;E++)g+=String.fromCharCode(m[E]);var S=c();d({data:g,addLength1:!0,objectId:S}),l("endobj");var I=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+mc(a.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+mc(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+I+" 0 R"),l("/BaseFont /"+mc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,m="",g=0;g<p.length;g++)m+=String.fromCharCode(p[g]);var E=c();d({data:m,addLength1:!0,objectId:E}),l("endobj");var S=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var I=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+E+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+mc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+mc(a.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,d=s.options||{},p=s.mutex||{},m=p.pdfEscape,g=p.activeFontKey,E=p.fonts,S=g,I="",_=0,b="",R=E[S].encoding;if(E[S].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:p};for(b=a,S=g,Array.isArray(a)&&(b=a[0]),_=0;_<b.length;_+=1)E[S].metadata.hasOwnProperty("cmap")&&(o=E[S].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),o||b[_].charCodeAt(0)<256&&E[S].metadata.hasOwnProperty("Unicode")?I+=b[_]:I+="";var B="";return parseInt(S.slice(1))<14||R==="WinAnsiEncoding"?B=m(I,S).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(B=n(I,E[S])),p.isHex=!0,{text:B,x:l,y:c,options:d,mutex:p}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,d,p=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,R=0;this.__bidiEngine__={};var B=function(L){var T=L.charCodeAt(),O=T>>8,X=S[O];return X!==void 0?p[256*X+(255&T)]:O===252||O===253?"AL":_.test(O)?"L":O===8?"R":"N"},z=function(L){for(var T,O=0;O<L.length;O++){if((T=B(L.charAt(O)))==="L")return!1;if(T==="R")return!0}return!1},K=function(L,T,O,X){var fe,ge,ve,ee,ie=T[X];switch(ie){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(ie="AN");break;case"AL":b=!0,ie="R";break;case"WS":ie="N";break;case"CS":X<1||X+1>=T.length||(fe=O[X-1])!=="EN"&&fe!=="AN"||(ge=T[X+1])!=="EN"&&ge!=="AN"?ie="N":b&&(ge="AN"),ie=ge===fe?ge:"N";break;case"ES":ie=(fe=X>0?O[X-1]:"B")==="EN"&&X+1<T.length&&T[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&O[X-1]==="EN"){ie="EN";break}if(b){ie="N";break}for(ve=X+1,ee=T.length;ve<ee&&T[ve]==="ET";)ve++;ie=ve<ee&&T[ve]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ee=T.length,ve=X+1;ve<ee&&T[ve]==="NSM";)ve++;if(ve<ee){var ae=L[X],Ie=ae>=1425&&ae<=2303||ae===64286;if(fe=T[ve],Ie&&(fe==="R"||fe==="AL")){ie="R";break}}}ie=X<1||(fe=T[X-1])==="B"?"N":O[X-1];break;case"B":b=!1,i=!0,ie=R;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":ie="N"}return ie},N=function(L,T,O){var X=L.split("");return O&&x(X,O,{hiLevel:R}),X.reverse(),T&&T.reverse(),X.join("")},x=function(L,T,O){var X,fe,ge,ve,ee,ie=-1,ae=L.length,Ie=0,M=[],H=R?g:m,J=[];for(b=!1,i=!1,s=!1,fe=0;fe<ae;fe++)J[fe]=B(L[fe]);for(ge=0;ge<ae;ge++){if(ee=Ie,M[ge]=K(L,J,M,ge),X=240&(Ie=H[ee][E[M[ge]]]),Ie&=15,T[ge]=ve=H[Ie][5],X>0)if(X===16){for(fe=ie;fe<ge;fe++)T[fe]=1;ie=-1}else ie=-1;if(H[Ie][6])ie===-1&&(ie=ge);else if(ie>-1){for(fe=ie;fe<ge;fe++)T[fe]=ve;ie=-1}J[ge]==="B"&&(T[ge]=0),O.hiLevel|=ve}s&&function(G,ne,ue){for(var he=0;he<ue;he++)if(G[he]==="S"){ne[he]=R;for(var me=he-1;me>=0&&G[me]==="WS";me--)ne[me]=R}}(J,T,ae)},k=function(L,T,O,X,fe){if(!(fe.hiLevel<L)){if(L===1&&R===1&&!i)return T.reverse(),void(O&&O.reverse());for(var ge,ve,ee,ie,ae=T.length,Ie=0;Ie<ae;){if(X[Ie]>=L){for(ee=Ie+1;ee<ae&&X[ee]>=L;)ee++;for(ie=Ie,ve=ee-1;ie<ve;ie++,ve--)ge=T[ie],T[ie]=T[ve],T[ve]=ge,O&&(ge=O[ie],O[ie]=O[ve],O[ve]=ge);Ie=ee}Ie++}}},F=function(L,T,O){var X=L.split(""),fe={hiLevel:R};return O||(O=[]),x(X,O,fe),function(ge,ve,ee){if(ee.hiLevel!==0&&d)for(var ie,ae=0;ae<ge.length;ae++)ve[ae]===1&&(ie=I.indexOf(ge[ae]))>=0&&(ge[ae]=I[ie+1])}(X,O,fe),k(2,X,T,O,fe),k(1,X,T,O,fe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(L,T,O){if(function(fe,ge){if(ge)for(var ve=0;ve<fe.length;ve++)ge[ve]=ve;a===void 0&&(a=z(fe)),c===void 0&&(c=z(fe))}(L,T),o||!l||c)if(o&&l&&a^c)R=a?1:0,L=N(L,T,O);else if(!o&&l&&c)R=a?1:0,L=F(L,T,O),L=N(L,T);else if(!o||a||l||c){if(o&&!l&&a^c)L=N(L,T),a?(R=0,L=F(L,T,O)):(R=1,L=F(L,T,O),L=N(L,T));else if(o&&a&&!l&&c)R=1,L=F(L,T,O),L=N(L,T);else if(!o&&!l&&a^c){var X=d;a?(R=1,L=F(L,T,O),R=0,d=!1,L=F(L,T,O),d=X):(R=0,L=F(L,T,O),L=N(L,T),R=1,d=!1,L=F(L,T,O),d=X,L=N(L,T))}}else R=0,L=F(L,T,O);else R=a?1:0,L=F(L,T,O);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,l=L.isOutputVisual,a=L.isInputRtl,c=L.isOutputRtl,d=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new _l(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new NV(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new yV(this.contents),this.head=new _V(this),this.name=new AV(this),this.cmap=new Zx(this),this.toUnicode={},this.hhea=new bV(this),this.maxp=new CV(this),this.hmtx=new xV(this),this.post=new SV(this),this.os2=new EV(this),this.loca=new kV(this),this.glyf=new IV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ks,_l=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),yV=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,d,p,m,g,E,S;for(S in g=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(g)/l),o=Math.floor(p/l),d=16*g-p,(i=new _l).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(o),i.writeShort(d),s=16*g,c=i.pos+s,a=null,E=[],n)for(m=n[S],i.writeString(S),i.writeInt(t(m)),i.writeInt(c),i.writeInt(m.length),E=E.concat(m),S==="head"&&(a=c),c+=m.length;c%4;)E.push(0),c++;return i.write(E),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=eI.call(n);n.length%4;)n.push(0);for(s=new _l(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),wV={}.hasOwnProperty,po=function(t,e){for(var n in e)wV.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ks=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var _V=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new _l).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),bE=function(){function t(e,n){var r,i,s,o,a,l,c,d,p,m,g,E,S,I,_,b,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),m=g/2,e.pos+=6,s=function(){var B,z;for(z=[],l=B=0;0<=m?B<m:B>m;l=0<=m?++B:--B)z.push(e.readUInt16());return z}(),e.pos+=2,S=function(){var B,z;for(z=[],l=B=0;0<=m?B<m:B>m;l=0<=m?++B:--B)z.push(e.readUInt16());return z}(),c=function(){var B,z;for(z=[],l=B=0;0<=m?B<m:B>m;l=0<=m?++B:--B)z.push(e.readUInt16());return z}(),d=function(){var B,z;for(z=[],l=B=0;0<=m?B<m:B>m;l=0<=m?++B:--B)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var B,z;for(z=[],l=B=0;0<=i?B<i:B>i;l=0<=i?++B:--B)z.push(e.readUInt16());return z}(),l=_=0,R=s.length;_<R;l=++_)for(I=s[l],r=b=E=S[l];E<=I?b<=I:b>=I;r=E<=I?++b:--b)d[l]===0?o=r+c[l]:(o=a[d[l]/2+(r-E)-(m-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=p}return t.encode=function(e,n){var r,i,s,o,a,l,c,d,p,m,g,E,S,I,_,b,R,B,z,K,N,x,k,F,L,T,O,X,fe,ge,ve,ee,ie,ae,Ie,M,H,J,G,ne,ue,he,me,Ee,Ce,Be;switch(X=new _l,o=Object.keys(e).sort(function(Ve,nt){return Ve-nt}),n){case"macroman":for(S=0,I=function(){var Ve=[];for(E=0;E<256;++E)Ve.push(0);return Ve}(),b={0:0},s={},fe=0,ie=o.length;fe<ie;fe++)b[me=e[i=o[fe]]]==null&&(b[me]=++S),s[i]={old:e[i],new:b[e[i]]},I[i]=b[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(I),{charMap:s,subtable:X.data,maxGlyphID:S+1};case"unicode":for(T=[],p=[],R=0,b={},r={},_=c=null,ge=0,ae=o.length;ge<ae;ge++)b[z=e[i=o[ge]]]==null&&(b[z]=++R),r[i]={old:z,new:b[z]},a=b[z]-i,_!=null&&a===c||(_&&p.push(_),T.push(i),c=a),_=i;for(_&&p.push(_),p.push(65535),T.push(65535),F=2*(k=T.length),x=2*Math.pow(Math.log(k)/Math.LN2,2),m=Math.log(x/2)/Math.LN2,N=2*k-x,l=[],K=[],g=[],E=ve=0,Ie=T.length;ve<Ie;E=++ve){if(L=T[E],d=p[E],L===65535){l.push(0),K.push(0);break}if(L-(O=r[L].new)>=32768)for(l.push(0),K.push(2*(g.length+k-E)),i=ee=L;L<=d?ee<=d:ee>=d;i=L<=d?++ee:--ee)g.push(r[i].new);else l.push(O-L),K.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*k+2*g.length),X.writeUInt16(0),X.writeUInt16(F),X.writeUInt16(x),X.writeUInt16(m),X.writeUInt16(N),ue=0,M=p.length;ue<M;ue++)i=p[ue],X.writeUInt16(i);for(X.writeUInt16(0),he=0,H=T.length;he<H;he++)i=T[he],X.writeUInt16(i);for(Ee=0,J=l.length;Ee<J;Ee++)a=l[Ee],X.writeUInt16(a);for(Ce=0,G=K.length;Ce<G;Ce++)B=K[Ce],X.writeUInt16(B);for(Be=0,ne=g.length;Be<ne;Be++)S=g[Be],X.writeUInt16(S);return{charMap:r,subtable:X.data,maxGlyphID:R+1}}},t}(),Zx=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new bE(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=bE.encode(n,r),(s=new _l).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),bV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),EV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),SV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),LV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},AV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,d,p,m,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=p=0,m=i.length;p<m;o=++p)s=i[o],n.pos=s.offset,d=n.readString(s.length),a=new LV(d,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),CV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),xV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,p;for(p=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)p.push(n.readInt16());return p}(),this.widths=(function(){var d,p,m,g;for(g=[],d=0,p=(m=this.metrics).length;d<p;d++)o=m[d],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),eI=[].slice,IV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,d,p,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new _l(r.read(s))).readShort(),d=l.readShort(),m=l.readShort(),c=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new TV(l,d,m,c,p):new PV(l,a,d,m,c,p),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),PV=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),TV=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new _l(eI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),kV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var d=new Array(4*i.length),p=0;p<i.length;++p)d[4*p+3]=255&i[p],d[4*p+2]=(65280&i[p])>>8,d[4*p+1]=(16711680&i[p])>>16,d[4*p]=(4278190080&i[p])>>24;return d},e}(),NV=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,d,p,m,g,E,S,I,_;for(i in r=Zx.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},_=r.charMap)g[(l=_[i]).old]=l.new;for(E in m=r.maxGlyphID,o)E in g||(g[E]=m++);return d=function(b){var R,B;for(R in B={},b)B[b[R]]=R;return B}(g),p=Object.keys(d).sort(function(b,R){return b-R}),S=function(){var b,R,B;for(B=[],b=0,R=p.length;b<R;b++)a=p[b],B.push(d[a]);return B}(),s=this.font.glyf.encode(o,S,g),c=this.font.loca.encode(s.offsets,S),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},t}();ft.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const tI=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1);A.useEffect(()=>{(async()=>{try{const a=oo(rr,"bitacoras"),c=(await Eu(a)).docs.map(d=>({id:d.id,...d.data()}));e(c)}catch(a){console.error("Error al obtener las bitcoras:",a)}})()},[]);const i=async o=>{try{const l=await(await fetch(o)).blob();return new Promise((c,d)=>{const p=new FileReader;p.onloadend=()=>c(p.result),p.onerror=d,p.readAsDataURL(l)})}catch(a){return console.error("Error al convertir la imagen:",a),null}},s=async()=>{r(!0);const o=new ft;let a=10;try{for(const l of t){if(o.text(`Ttulo: ${l.titulo||"Sin ttulo"}`,10,a),a+=10,o.text(`Fecha: ${l.fecha||"Sin fecha"}`,10,a),a+=10,o.text(`Localizacin: ${l.localizacion||"Sin localizacin"}`,10,a),a+=10,o.text(`Condiciones Climticas: ${l.condiciones||"N/A"}`,10,a),a+=10,o.text(`Descripcin del Hbitat: ${l.descripcionHabitat||"N/A"}`,10,a),a+=10,o.text(`Observaciones: ${l.observaciones||"Sin observaciones"}`,10,a),a+=20,l.fotografias)for(const c of l.fotografias){const d=await i(c);d&&(o.addImage(d,"JPEG",10,a,50,50),a+=60)}a+=20,a>270&&(o.addPage(),a=10)}o.save("reporte-bitacoras.pdf")}catch(l){console.error("Error al generar el PDF:",l)}finally{r(!1)}};return Y.jsx("div",{children:Y.jsx("button",{onClick:s,className:"pdf",disabled:n,children:n?"Generando...":"Descargar PDF"})})},RV=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),[l,c]=A.useState(""),[d,p]=A.useState(""),[m,g]=A.useState(""),[E,S]=A.useState(""),[I,_]=A.useState(null),[b,R]=A.useState(null),B=oo(rr,"Usuarios"),z=async()=>{const L=await Eu(B);e(L.docs.map(T=>({...T.data(),id:T.id})))};A.useEffect(()=>{z()},[]);const K=async()=>{if(!n||!o||!d||!m||!E){Gt.fire("Error","Por favor, completa todos los campos","error");return}await ev(B,{primerNombre:n,segundoNombre:i,primerApellido:o,segundoApellido:l,email:d,password:m,rol:E,createdAt:new Date}),r(""),s(""),a(""),c(""),p(""),g(""),S(""),z(),Gt.fire("xito","Usuario agregado correctamente","success")},N=async()=>{if(!n||!o||!d||!m||!E){Gt.fire("Error","Por favor, completa todos los campos","error");return}const L=Ys(rr,"Usuarios",I.id);await Pc(L,{primerNombre:n,segundoNombre:i,primerApellido:o,segundoApellido:l,email:d,password:m,rol:E}),_(null),r(""),s(""),a(""),c(""),p(""),g(""),S(""),z(),Gt.fire("xito","Usuario actualizado correctamente","success")},x=async(L,T)=>{try{if((await Gt.fire({title:"Ests seguro?",text:`Quieres eliminar el usuario con el correo: ${T}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"S, eliminar cuenta",cancelButtonText:"No, cancelar",reverseButtons:!0})).isConfirmed){const X=Ys(rr,"Usuarios",L);await SC(X),z(),Gt.fire("Eliminado","Usuario eliminado correctamente","success")}else Gt.fire("Cancelado","La eliminacin del usuario ha sido cancelada","info")}catch(O){console.error("Error al eliminar el usuario:",O),Gt.fire("Error","Hubo un problema al eliminar el usuario","error")}},k=L=>{_(L),r(L.primerNombre),s(L.segundoNombre),a(L.primerApellido),c(L.segundoApellido),p(L.email),g(L.password),S(L.rol)},F=L=>{R(L),_(null),r(""),s(""),a(""),c(""),p(""),g(""),S(""),z(),Gt.fire("xito","Operacin cancelada correctamente","success")};return Y.jsx("div",{className:"body_usuario",children:Y.jsxs("div",{className:"container_usuarios",children:[Y.jsx("h2",{className:"h2_usuarios",children:"CRUD de Usuarios"}),Y.jsx(tI,{}),Y.jsx("input",{type:"text",value:n,onChange:L=>r(L.target.value),placeholder:"Primer Nombre",className:"input_usuarios"}),Y.jsx("input",{type:"text",value:i,onChange:L=>s(L.target.value),placeholder:"Segundo Nombre",className:"input_usuarios"}),Y.jsx("input",{type:"text",value:o,onChange:L=>a(L.target.value),placeholder:"Primer Apellido",className:"input_usuarios"}),Y.jsx("input",{type:"text",value:l,onChange:L=>c(L.target.value),placeholder:"Segundo Apellido",className:"input_usuarios"}),Y.jsx("input",{type:"text",list:"misOpciones",placeholder:"Seleccione una opcin",value:E,onChange:L=>S(L.target.value),className:"input_usuarios"}),Y.jsxs("datalist",{id:"misOpciones",children:[Y.jsx("option",{value:"Administrador",children:"Administrador"}),Y.jsx("option",{value:"Investigador",children:"Investigador"}),Y.jsx("option",{value:"Colaborador",children:"Colaborador"}),Y.jsx("option",{value:"Otro",children:"Colaborador"})]}),Y.jsx("input",{type:"email",value:d,onChange:L=>p(L.target.value),placeholder:"Correo Electrnico",className:"input_usuarios"}),Y.jsx("input",{value:m,onChange:L=>g(L.target.value),placeholder:"Contrasea",className:"input_usuarios"}),Y.jsx("button",{className:"button_usuario",onClick:I?N:K,children:I?"Actualizar Usuario":"Agregar Usuario"}),Y.jsx("button",{className:"button_usuario",onClick:F,children:"Cancelar"}),Y.jsxs("table",{children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Primer Nombre"}),Y.jsx("th",{children:"Segundo Nombre"}),Y.jsx("th",{children:"Primer Apellido"}),Y.jsx("th",{children:"Segundo Apellido"}),Y.jsx("th",{children:"Rol"}),Y.jsx("th",{children:"Email"}),Y.jsx("th",{children:"Acciones"})]})}),Y.jsx("tbody",{children:t.map(L=>Y.jsxs("tr",{children:[Y.jsx("td",{children:L.primerNombre}),Y.jsx("td",{children:L.segundoNombre}),Y.jsx("td",{children:L.primerApellido}),Y.jsx("td",{children:L.segundoApellido}),Y.jsx("td",{children:L.rol}),Y.jsx("td",{children:L.email}),Y.jsx("td",{children:Y.jsxs("div",{className:"botones_editar_eliminar_usuario",children:[Y.jsx("button",{className:"editar_usuario",onClick:()=>k(L),children:"Editar"}),Y.jsx("button",{className:"eliminar_usuario",onClick:()=>x(L.id),children:"Eliminar"})]})})]},L.id))})]})]})})};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function OV(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MV(t){var e=OV(t,"string");return nf(e)=="symbol"?e:e+""}function xe(t,e,n){return(e=MV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A0,EE;function DV(){if(EE)return A0;EE=1;var t=function(n,r,i,s,o,a,l,c){if(!n){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[i,s,o,a,l,c],m=0;d=new Error(r.replace(/%s/g,function(){return p[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return A0=t,A0}var jV=DV(),lr=nI(jV),Ct=A.createContext(null);function FV(){lr(!!A.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=A.useContext(Ct);return lr(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function BV(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function VV(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function UV(t,e,n,r){var i={},s=(o,a)=>{var l=n[a];l!==e[a]&&(i[a]=l,o(r,l))};return VV(t,s),i}function zV(t,e,n){var r=BV(n,function(s,o,a){return typeof t[a]=="function"&&s.push(google.maps.event.addListener(e,o,t[a])),s},[]);return r}function qV(t){google.maps.event.removeListener(t)}function kt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(qV)}function Pt(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:i,instance:s}=t,o=zV(i,s,n);return UV(e,r,i,s),o}var SE={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},LE={extraMapTypes(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function $V(t){var{children:e,options:n,id:r,mapContainerStyle:i,mapContainerClassName:s,center:o,onClick:a,onDblClick:l,onDrag:c,onDragEnd:d,onDragStart:p,onMouseMove:m,onMouseOut:g,onMouseOver:E,onMouseDown:S,onMouseUp:I,onRightClick:_,onCenterChanged:b,onLoad:R,onUnmount:B}=t,[z,K]=A.useState(null),N=A.useRef(null),[x,k]=A.useState(null),[F,L]=A.useState(null),[T,O]=A.useState(null),[X,fe]=A.useState(null),[ge,ve]=A.useState(null),[ee,ie]=A.useState(null),[ae,Ie]=A.useState(null),[M,H]=A.useState(null),[J,G]=A.useState(null),[ne,ue]=A.useState(null),[he,me]=A.useState(null),[Ee,Ce]=A.useState(null);return A.useEffect(()=>{n&&z!==null&&z.setOptions(n)},[z,n]),A.useEffect(()=>{z!==null&&typeof o<"u"&&z.setCenter(o)},[z,o]),A.useEffect(()=>{z&&l&&(F!==null&&google.maps.event.removeListener(F),L(google.maps.event.addListener(z,"dblclick",l)))},[l]),A.useEffect(()=>{z&&d&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(z,"dragend",d)))},[d]),A.useEffect(()=>{z&&p&&(X!==null&&google.maps.event.removeListener(X),fe(google.maps.event.addListener(z,"dragstart",p)))},[p]),A.useEffect(()=>{z&&S&&(ge!==null&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(z,"mousedown",S)))},[S]),A.useEffect(()=>{z&&m&&(ee!==null&&google.maps.event.removeListener(ee),ie(google.maps.event.addListener(z,"mousemove",m)))},[m]),A.useEffect(()=>{z&&g&&(ae!==null&&google.maps.event.removeListener(ae),Ie(google.maps.event.addListener(z,"mouseout",g)))},[g]),A.useEffect(()=>{z&&E&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(z,"mouseover",E)))},[E]),A.useEffect(()=>{z&&I&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(z,"mouseup",I)))},[I]),A.useEffect(()=>{z&&_&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(z,"rightclick",_)))},[_]),A.useEffect(()=>{z&&a&&(he!==null&&google.maps.event.removeListener(he),me(google.maps.event.addListener(z,"click",a)))},[a]),A.useEffect(()=>{z&&c&&(Ee!==null&&google.maps.event.removeListener(Ee),Ce(google.maps.event.addListener(z,"drag",c)))},[c]),A.useEffect(()=>{z&&b&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(z,"center_changed",b)))},[a]),A.useEffect(()=>{var Be=N.current===null?null:new google.maps.Map(N.current,n);return K(Be),Be!==null&&R&&R(Be),()=>{Be!==null&&B&&B(Be)}},[]),Y.jsx("div",{id:r,ref:N,style:i,className:s,children:Y.jsx(Ct.Provider,{value:z,children:z!==null?e:null})})}A.memo($V);class rI extends A.PureComponent{constructor(){super(...arguments),xe(this,"state",{map:null}),xe(this,"registeredEvents",[]),xe(this,"mapRef",null),xe(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),xe(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),xe(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),xe(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Pt({updaterMap:LE,eventMap:SE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:LE,eventMap:SE,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),kt(this.registeredEvents))}render(){return Y.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:Y.jsx(Ct.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function AE(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function iI(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){AE(s,r,i,o,a,"next",l)}function a(l){AE(s,r,i,o,a,"throw",l)}o(void 0)})}}function sI(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:o,channel:a,mapIds:l,authReferrerPolicy:c}=t,d=[];return lr(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):n&&d.push("client=".concat(n)),r&&d.push("v=".concat(r)),i&&d.push("language=".concat(i)),s&&d.push("region=".concat(s)),o&&o.length&&d.push("libraries=".concat(o.sort().join(","))),a&&d.push("channel=".concat(a)),l&&l.length&&d.push("map_ids=".concat(l.join(","))),c&&d.push("auth_referrer_policy=".concat(c)),d.push("loading=async"),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var Ja=typeof document<"u";function oI(t){var{url:e,id:n,nonce:r}=t;return Ja?new Promise(function(s,o){var a=document.getElementById(n),l=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return s(n);var d=l.initMap,p=a.onerror;l.initMap=function(){d&&d(),s(n)},a.onerror=function(g){p&&p(g),o(g)};return}else a.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(E){m.setAttribute("data-state","error"),o(E)},l.initMap=function(){m.setAttribute("data-state","ready"),s(n)},document.head.appendChild(m)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function CE(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function bw(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return CE(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return CE(i)||Reflect.apply(n,t,[i]),i}}}var ed=!1;function aI(){return Y.jsx("div",{children:"Loading..."})}var rf={id:"script-loader",version:"weekly"};class HV extends A.PureComponent{constructor(){super(...arguments),xe(this,"check",A.createRef()),xe(this,"state",{loaded:!1}),xe(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),xe(this,"isCleaningUp",iI(function*(){function e(n){if(!ed)n();else if(Ja)var r=window.setInterval(function(){ed||(window.clearInterval(r),n())},1)}return new Promise(e)})),xe(this,"cleanup",()=>{ed=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),xe(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&bw(),lr(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:sI(this.props)};oI(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})})}componentDidMount(){if(Ja){if(window.google&&window.google.maps&&!ed){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ja&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ja){this.cleanup();var e=()=>{this.check.current||(delete window.google,ed=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||Y.jsx(aI,{})]})}}xe(HV,"defaultProps",rf);function WV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Ew(t,e){if(t==null)return{};var n,r,i=WV(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var xE;function lI(t){var{id:e=rf.id,version:n=rf.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:a,libraries:l,preventGoogleFontsLoading:c,channel:d,mapIds:p,authReferrerPolicy:m}=t,g=A.useRef(!1),[E,S]=A.useState(!1),[I,_]=A.useState(void 0);A.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),A.useEffect(function(){Ja&&c&&bw()},[c]),A.useEffect(function(){E&&lr(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[E]);var b=sI({version:n,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:a,libraries:l,channel:d,mapIds:p,authReferrerPolicy:m});A.useEffect(function(){if(!Ja)return;function z(){g.current&&(S(!0),xE=b)}if(window.google&&window.google.maps&&xE===b){z();return}oI({id:e,url:b,nonce:r}).then(z).catch(function(N){g.current&&_(N),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(N)})},[e,b,r]);var R=A.useRef();return A.useEffect(function(){R.current&&l!==R.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),R.current=l},[l]),{isLoaded:E,loadError:I,url:b}}var GV=["loadingElement","onLoad","onError","onUnmount","children"],KV=Y.jsx(aI,{});function QV(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:s}=t,o=Ew(t,GV),{isLoaded:a,loadError:l}=lI(o);return A.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),A.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),A.useEffect(function(){return()=>{i&&i()}},[i]),a?s:e||KV}A.memo(QV);function YV(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(p){o(p)}}function l(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function JV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XV=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},ZV=JV(XV),IE="__googleMapsScriptId",kc;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(kc||(kc={}));class eu{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:i,client:s,id:o=IE,language:a,libraries:l=[],mapIds:c,nonce:d,region:p,retries:m=3,url:g="https://maps.googleapis.com/maps/api/js",version:E}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=i,this.client=s,this.id=o||IE,this.language=a,this.libraries=l,this.mapIds=c,this.nonce=d,this.region=p,this.retries=m,this.url=g,this.version=E,eu.instance){if(!ZV(this.options,eu.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(eu.instance.options)));return eu.instance}eu.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?kc.FAILURE:this.done?kc.SUCCESS:this.loading?kc.LOADING:kc.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(s=>!r[s]&&delete r[s]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(s=>{var o,a,l,c="The Google Maps JavaScript API",d="google",p="importLibrary",m="__ib__",g=document,E=window;E=E[d]||(E[d]={});var S=E.maps||(E.maps={}),I=new Set,_=new URLSearchParams,b=()=>o||(o=new Promise((R,B)=>YV(this,void 0,void 0,function*(){var z;yield a=g.createElement("script"),a.id=this.id,_.set("libraries",[...I]+"");for(l in s)_.set(l.replace(/[A-Z]/g,K=>"_"+K[0].toLowerCase()),s[l]);_.set("callback",d+".maps."+m),a.src=this.url+"?"+_,S[m]=R,a.onerror=()=>o=B(Error(c+" could not load.")),a.nonce=this.nonce||((z=g.querySelector("script[nonce]"))===null||z===void 0?void 0:z.nonce)||"",g.head.append(a)})));S[p]?console.warn(c+" only loads once. Ignoring:",s):S[p]=function(R){for(var B=arguments.length,z=new Array(B>1?B-1:0),K=1;K<B;K++)z[K-1]=arguments[K];return I.add(R)&&b().then(()=>S[p](R,...z))}})(r);var i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{var o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var eU=["maps"];function tU(t){var{id:e=rf.id,version:n=rf.version,nonce:r,googleMapsApiKey:i,language:s,region:o,libraries:a=eU,preventGoogleFontsLoading:l,mapIds:c,authReferrerPolicy:d}=t,p=A.useRef(!1),[m,g]=A.useState(!1),[E,S]=A.useState(void 0);A.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]);var I=A.useMemo(()=>new eu({id:e,apiKey:i,version:n,libraries:a,language:s||"en",region:o||"US",mapIds:c||[],nonce:r||"",authReferrerPolicy:d||"origin"}),[e,i,n,a,s,o,c,r,d]);A.useEffect(function(){m||I.load().then(()=>{p.current&&g(!0)}).catch(R=>{S(R)})},[]),A.useEffect(()=>{Ja&&l&&bw()},[l]);var _=A.useRef();return A.useEffect(()=>{_.current&&a!==_.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),_.current=a},[a]),{isLoaded:m,loadError:E}}function PE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var TE={},kE={options(t,e){t.setOptions(e)}};function nU(t){var{options:e,onLoad:n,onUnmount:r}=t,i=A.useContext(Ct),[s,o]=A.useState(null);return A.useEffect(()=>{s!==null&&s.setMap(i)},[i]),A.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),A.useEffect(()=>{var a=new google.maps.TrafficLayer(sm(sm({},e),{},{map:i}));return o(a),n&&n(a),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}A.memo(nU);class rU extends A.PureComponent{constructor(){super(...arguments),xe(this,"state",{trafficLayer:null}),xe(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),xe(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(sm(sm({},this.props.options),{},{map:this.context}));this.registeredEvents=Pt({updaterMap:kE,eventMap:TE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:kE,eventMap:TE,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),kt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}xe(rU,"contextType",Ct);function iU(t){var{onLoad:e,onUnmount:n}=t,r=A.useContext(Ct),[i,s]=A.useState(null);return A.useEffect(()=>{i!==null&&i.setMap(r)},[r]),A.useEffect(()=>{var o=new google.maps.BicyclingLayer;return s(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}A.memo(iU);class sU extends A.PureComponent{constructor(){super(...arguments),xe(this,"state",{bicyclingLayer:null}),xe(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}xe(sU,"contextType",Ct);function oU(t){var{onLoad:e,onUnmount:n}=t,r=A.useContext(Ct),[i,s]=A.useState(null);return A.useEffect(()=>{i!==null&&i.setMap(r)},[r]),A.useEffect(()=>{var o=new google.maps.TransitLayer;return s(o),o.setMap(r),e&&e(o),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}A.memo(oU);class aU extends A.PureComponent{constructor(){super(...arguments),xe(this,"state",{transitLayer:null}),xe(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}xe(aU,"contextType",Ct);function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var RE={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},OE={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function lU(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:l,onLoad:c,onUnmount:d}=t,p=A.useContext(Ct),[m,g]=A.useState(null),[E,S]=A.useState(null),[I,_]=A.useState(null),[b,R]=A.useState(null),[B,z]=A.useState(null),[K,N]=A.useState(null),[x,k]=A.useState(null);return A.useEffect(()=>{m!==null&&m.setMap(p)},[p]),A.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),A.useEffect(()=>{m!==null&&m.setDrawingMode(n??null)},[m,n]),A.useEffect(()=>{m&&r&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),A.useEffect(()=>{m&&i&&(I!==null&&google.maps.event.removeListener(I),_(google.maps.event.addListener(m,"markercomplete",i)))},[m,i]),A.useEffect(()=>{m&&s&&(b!==null&&google.maps.event.removeListener(b),R(google.maps.event.addListener(m,"overlaycomplete",s)))},[m,s]),A.useEffect(()=>{m&&o&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(m,"polygoncomplete",o)))},[m,o]),A.useEffect(()=>{m&&a&&(K!==null&&google.maps.event.removeListener(K),N(google.maps.event.addListener(m,"polylinecomplete",a)))},[m,a]),A.useEffect(()=>{m&&l&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(m,"rectanglecomplete",l)))},[m,l]),A.useEffect(()=>{lr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var F=new google.maps.drawing.DrawingManager(om(om({},e),{},{map:p}));return n&&F.setDrawingMode(n),r&&S(google.maps.event.addListener(F,"circlecomplete",r)),i&&_(google.maps.event.addListener(F,"markercomplete",i)),s&&R(google.maps.event.addListener(F,"overlaycomplete",s)),o&&z(google.maps.event.addListener(F,"polygoncomplete",o)),a&&N(google.maps.event.addListener(F,"polylinecomplete",a)),l&&k(google.maps.event.addListener(F,"rectanglecomplete",l)),g(F),c&&c(F),()=>{m!==null&&(E&&google.maps.event.removeListener(E),I&&google.maps.event.removeListener(I),b&&google.maps.event.removeListener(b),B&&google.maps.event.removeListener(B),K&&google.maps.event.removeListener(K),x&&google.maps.event.removeListener(x),d&&d(m),m.setMap(null))}},[]),null}A.memo(lU);class uU extends A.PureComponent{constructor(e){super(e),xe(this,"registeredEvents",[]),xe(this,"state",{drawingManager:null}),xe(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),lr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(om(om({},this.props.options),{},{map:this.context}));this.registeredEvents=Pt({updaterMap:OE,eventMap:RE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:OE,eventMap:RE,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),kt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}xe(uU,"contextType",Ct);function ME(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var DE={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},jE={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},am={};function cU(t){var{position:e,options:n,clusterer:r,noClustererRedraw:i,children:s,draggable:o,visible:a,animation:l,clickable:c,cursor:d,icon:p,label:m,opacity:g,shape:E,title:S,zIndex:I,onClick:_,onDblClick:b,onDrag:R,onDragEnd:B,onDragStart:z,onMouseOut:K,onMouseOver:N,onMouseUp:x,onMouseDown:k,onRightClick:F,onClickableChanged:L,onCursorChanged:T,onAnimationChanged:O,onDraggableChanged:X,onFlatChanged:fe,onIconChanged:ge,onPositionChanged:ve,onShapeChanged:ee,onTitleChanged:ie,onVisibleChanged:ae,onZindexChanged:Ie,onLoad:M,onUnmount:H}=t,J=A.useContext(Ct),[G,ne]=A.useState(null),[ue,he]=A.useState(null),[me,Ee]=A.useState(null),[Ce,Be]=A.useState(null),[Ve,nt]=A.useState(null),[_e,te]=A.useState(null),[dt,Ze]=A.useState(null),[je,Ue]=A.useState(null),[ze,qe]=A.useState(null),[et,ht]=A.useState(null),[mt,rt]=A.useState(null),[at,Rt]=A.useState(null),[st,Lt]=A.useState(null),[$e,pn]=A.useState(null),[xt,vr]=A.useState(null),[Ot,Jt]=A.useState(null),[yr,Tt]=A.useState(null),[Gr,sn]=A.useState(null),[Hn,Pr]=A.useState(null),[Ht,ot]=A.useState(null),[It,Kr]=A.useState(null),[gn,Zn]=A.useState(null);A.useEffect(()=>{G!==null&&G.setMap(J)},[J]),A.useEffect(()=>{typeof n<"u"&&G!==null&&G.setOptions(n)},[G,n]),A.useEffect(()=>{typeof o<"u"&&G!==null&&G.setDraggable(o)},[G,o]),A.useEffect(()=>{e&&G!==null&&G.setPosition(e)},[G,e]),A.useEffect(()=>{typeof a<"u"&&G!==null&&G.setVisible(a)},[G,a]),A.useEffect(()=>{G==null||G.setAnimation(l)},[G,l]),A.useEffect(()=>{G&&c!==void 0&&G.setClickable(c)},[G,c]),A.useEffect(()=>{G&&d!==void 0&&G.setCursor(d)},[G,d]),A.useEffect(()=>{G&&p!==void 0&&G.setIcon(p)},[G,p]),A.useEffect(()=>{G&&m!==void 0&&G.setLabel(m)},[G,m]),A.useEffect(()=>{G&&g!==void 0&&G.setOpacity(g)},[G,g]),A.useEffect(()=>{G&&E!==void 0&&G.setShape(E)},[G,E]),A.useEffect(()=>{G&&S!==void 0&&G.setTitle(S)},[G,S]),A.useEffect(()=>{G&&I!==void 0&&G.setZIndex(I)},[G,I]),A.useEffect(()=>{G&&b&&(ue!==null&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(G,"dblclick",b)))},[b]),A.useEffect(()=>{G&&B&&(me!==null&&google.maps.event.removeListener(me),Ee(google.maps.event.addListener(G,"dragend",B)))},[B]),A.useEffect(()=>{G&&z&&(Ce!==null&&google.maps.event.removeListener(Ce),Be(google.maps.event.addListener(G,"dragstart",z)))},[z]),A.useEffect(()=>{G&&k&&(Ve!==null&&google.maps.event.removeListener(Ve),nt(google.maps.event.addListener(G,"mousedown",k)))},[k]),A.useEffect(()=>{G&&K&&(_e!==null&&google.maps.event.removeListener(_e),te(google.maps.event.addListener(G,"mouseout",K)))},[K]),A.useEffect(()=>{G&&N&&(dt!==null&&google.maps.event.removeListener(dt),Ze(google.maps.event.addListener(G,"mouseover",N)))},[N]),A.useEffect(()=>{G&&x&&(je!==null&&google.maps.event.removeListener(je),Ue(google.maps.event.addListener(G,"mouseup",x)))},[x]),A.useEffect(()=>{G&&F&&(ze!==null&&google.maps.event.removeListener(ze),qe(google.maps.event.addListener(G,"rightclick",F)))},[F]),A.useEffect(()=>{G&&_&&(et!==null&&google.maps.event.removeListener(et),ht(google.maps.event.addListener(G,"click",_)))},[_]),A.useEffect(()=>{G&&R&&(mt!==null&&google.maps.event.removeListener(mt),rt(google.maps.event.addListener(G,"drag",R)))},[R]),A.useEffect(()=>{G&&L&&(at!==null&&google.maps.event.removeListener(at),Rt(google.maps.event.addListener(G,"clickable_changed",L)))},[L]),A.useEffect(()=>{G&&T&&(st!==null&&google.maps.event.removeListener(st),Lt(google.maps.event.addListener(G,"cursor_changed",T)))},[T]),A.useEffect(()=>{G&&O&&($e!==null&&google.maps.event.removeListener($e),pn(google.maps.event.addListener(G,"animation_changed",O)))},[O]),A.useEffect(()=>{G&&X&&(xt!==null&&google.maps.event.removeListener(xt),vr(google.maps.event.addListener(G,"draggable_changed",X)))},[X]),A.useEffect(()=>{G&&fe&&(Ot!==null&&google.maps.event.removeListener(Ot),Jt(google.maps.event.addListener(G,"flat_changed",fe)))},[fe]),A.useEffect(()=>{G&&ge&&(yr!==null&&google.maps.event.removeListener(yr),Tt(google.maps.event.addListener(G,"icon_changed",ge)))},[ge]),A.useEffect(()=>{G&&ve&&(Gr!==null&&google.maps.event.removeListener(Gr),sn(google.maps.event.addListener(G,"position_changed",ve)))},[ve]),A.useEffect(()=>{G&&ee&&(Hn!==null&&google.maps.event.removeListener(Hn),Pr(google.maps.event.addListener(G,"shape_changed",ee)))},[ee]),A.useEffect(()=>{G&&ie&&(Ht!==null&&google.maps.event.removeListener(Ht),ot(google.maps.event.addListener(G,"title_changed",ie)))},[ie]),A.useEffect(()=>{G&&ae&&(It!==null&&google.maps.event.removeListener(It),Kr(google.maps.event.addListener(G,"visible_changed",ae)))},[ae]),A.useEffect(()=>{G&&Ie&&(gn!==null&&google.maps.event.removeListener(gn),Zn(google.maps.event.addListener(G,"zindex_changed",Ie)))},[Ie]),A.useEffect(()=>{var Ke=Kc(Kc(Kc({},n||am),r?am:{map:J}),{},{position:e}),it=new google.maps.Marker(Ke);return r?r.addMarker(it,!!i):it.setMap(J),e&&it.setPosition(e),typeof a<"u"&&it.setVisible(a),typeof o<"u"&&it.setDraggable(o),typeof c<"u"&&it.setClickable(c),typeof d=="string"&&it.setCursor(d),p&&it.setIcon(p),typeof m<"u"&&it.setLabel(m),typeof g<"u"&&it.setOpacity(g),E&&it.setShape(E),typeof S=="string"&&it.setTitle(S),typeof I=="number"&&it.setZIndex(I),b&&he(google.maps.event.addListener(it,"dblclick",b)),B&&Ee(google.maps.event.addListener(it,"dragend",B)),z&&Be(google.maps.event.addListener(it,"dragstart",z)),k&&nt(google.maps.event.addListener(it,"mousedown",k)),K&&te(google.maps.event.addListener(it,"mouseout",K)),N&&Ze(google.maps.event.addListener(it,"mouseover",N)),x&&Ue(google.maps.event.addListener(it,"mouseup",x)),F&&qe(google.maps.event.addListener(it,"rightclick",F)),_&&ht(google.maps.event.addListener(it,"click",_)),R&&rt(google.maps.event.addListener(it,"drag",R)),L&&Rt(google.maps.event.addListener(it,"clickable_changed",L)),T&&Lt(google.maps.event.addListener(it,"cursor_changed",T)),O&&pn(google.maps.event.addListener(it,"animation_changed",O)),X&&vr(google.maps.event.addListener(it,"draggable_changed",X)),fe&&Jt(google.maps.event.addListener(it,"flat_changed",fe)),ge&&Tt(google.maps.event.addListener(it,"icon_changed",ge)),ve&&sn(google.maps.event.addListener(it,"position_changed",ve)),ee&&Pr(google.maps.event.addListener(it,"shape_changed",ee)),ie&&ot(google.maps.event.addListener(it,"title_changed",ie)),ae&&Kr(google.maps.event.addListener(it,"visible_changed",ae)),Ie&&Zn(google.maps.event.addListener(it,"zindex_changed",Ie)),ne(it),M&&M(it),()=>{ue!==null&&google.maps.event.removeListener(ue),me!==null&&google.maps.event.removeListener(me),Ce!==null&&google.maps.event.removeListener(Ce),Ve!==null&&google.maps.event.removeListener(Ve),_e!==null&&google.maps.event.removeListener(_e),dt!==null&&google.maps.event.removeListener(dt),je!==null&&google.maps.event.removeListener(je),ze!==null&&google.maps.event.removeListener(ze),et!==null&&google.maps.event.removeListener(et),at!==null&&google.maps.event.removeListener(at),st!==null&&google.maps.event.removeListener(st),$e!==null&&google.maps.event.removeListener($e),xt!==null&&google.maps.event.removeListener(xt),Ot!==null&&google.maps.event.removeListener(Ot),yr!==null&&google.maps.event.removeListener(yr),Gr!==null&&google.maps.event.removeListener(Gr),Ht!==null&&google.maps.event.removeListener(Ht),It!==null&&google.maps.event.removeListener(It),gn!==null&&google.maps.event.removeListener(gn),H&&H(it),r?r.removeMarker(it,!!i):it&&it.setMap(null)}},[]);var Qr=A.useMemo(()=>s?A.Children.map(s,Ke=>{if(!A.isValidElement(Ke))return Ke;var it=Ke;return A.cloneElement(it,{anchor:G})}):null,[s,G]);return Y.jsx(Y.Fragment,{children:Qr})||null}A.memo(cU);class Sw extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[])}componentDidMount(){var e=this;return iI(function*(){var n=Kc(Kc(Kc({},e.props.options||am),e.props.clusterer?am:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Pt({updaterMap:jE,eventMap:DE,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:jE,eventMap:DE,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),kt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?A.Children.map(this.props.children,n=>{if(!A.isValidElement(n))return n;var r=n;return A.cloneElement(r,{anchor:this.marker})}):null;return e||null}}xe(Sw,"contextType",Ct);var hU=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),d=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),p=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(p!==null?"".concat(p.y,"px"):"0","; left: ").concat(p!==null?"".concat(p.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=a,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(d,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(d,"px, -").concat(c+this.width,"px, -").concat(d+this.height,", -").concat(c,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(g.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(g),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),dU=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new hU(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],o=s.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){var d=c[l];d.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function fU(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var pU=2e3,gU=500,mU="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",vU="png",yU=[53,56,66,78,90],wU="cluster",uI=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||mU,this.imageExtension=r.imageExtension||vU,this.imageSizes=r.imageSizes||yU,this.calculator=r.calculator||fU,this.batchSize=r.batchSize||pU,this.batchSizeIE=r.batchSizeIE||gU,this.clusterClass=r.clusterClass||wU,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var o=s[i];o.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var c=l[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],o=s.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var o=s[i];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var a=o[s];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,o=this.clusters;s<o.length;s++){var a=o[s];n=a;var l=n.getCenter(),c=e.getPosition();if(l&&c){var d=this.distanceBetweenPoints(l,c);d<r&&(r=d,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new dU(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),c=e;c<l;c++){var d=this.markers[c];d&&!d.isAdded&&this.isMarkerInBounds(d,a)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var p=0,m=this.clusters;p<m.length;p++){var g=m[p];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var o=s;this.prototype[o]=i.prototype[o]}return this}).apply(e,[n])},t}();function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Zi={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},qt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},bU={};function EU(t){var{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:c,imageExtension:d,imagePath:p,imageSizes:m,maxZoom:g,minimumClusterSize:E,styles:S,title:I,zoomOnClick:_,onClick:b,onClusteringBegin:R,onClusteringEnd:B,onMouseOver:z,onMouseOut:K,onLoad:N,onUnmount:x}=t,[k,F]=A.useState(null),L=A.useContext(Ct),[T,O]=A.useState(null),[X,fe]=A.useState(null),[ge,ve]=A.useState(null),[ee,ie]=A.useState(null),[ae,Ie]=A.useState(null);return A.useEffect(()=>{k&&K&&(ee!==null&&google.maps.event.removeListener(ee),ie(google.maps.event.addListener(k,Zi.onMouseOut,K)))},[K]),A.useEffect(()=>{k&&z&&(ae!==null&&google.maps.event.removeListener(ae),Ie(google.maps.event.addListener(k,Zi.onMouseOver,z)))},[z]),A.useEffect(()=>{k&&b&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(k,Zi.onClick,b)))},[b]),A.useEffect(()=>{k&&R&&(X!==null&&google.maps.event.removeListener(X),fe(google.maps.event.addListener(k,Zi.onClusteringBegin,R)))},[R]),A.useEffect(()=>{k&&B&&(ge!==null&&google.maps.event.removeListener(ge),fe(google.maps.event.addListener(k,Zi.onClusteringEnd,B)))},[B]),A.useEffect(()=>{typeof r<"u"&&k!==null&&qt.averageCenter(k,r)},[k,r]),A.useEffect(()=>{typeof i<"u"&&k!==null&&qt.batchSizeIE(k,i)},[k,i]),A.useEffect(()=>{typeof s<"u"&&k!==null&&qt.calculator(k,s)},[k,s]),A.useEffect(()=>{typeof o<"u"&&k!==null&&qt.clusterClass(k,o)},[k,o]),A.useEffect(()=>{typeof a<"u"&&k!==null&&qt.enableRetinaIcons(k,a)},[k,a]),A.useEffect(()=>{typeof l<"u"&&k!==null&&qt.gridSize(k,l)},[k,l]),A.useEffect(()=>{typeof c<"u"&&k!==null&&qt.ignoreHidden(k,c)},[k,c]),A.useEffect(()=>{typeof d<"u"&&k!==null&&qt.imageExtension(k,d)},[k,d]),A.useEffect(()=>{typeof p<"u"&&k!==null&&qt.imagePath(k,p)},[k,p]),A.useEffect(()=>{typeof m<"u"&&k!==null&&qt.imageSizes(k,m)},[k,m]),A.useEffect(()=>{typeof g<"u"&&k!==null&&qt.maxZoom(k,g)},[k,g]),A.useEffect(()=>{typeof E<"u"&&k!==null&&qt.minimumClusterSize(k,E)},[k,E]),A.useEffect(()=>{typeof S<"u"&&k!==null&&qt.styles(k,S)},[k,S]),A.useEffect(()=>{typeof I<"u"&&k!==null&&qt.title(k,I)},[k,I]),A.useEffect(()=>{typeof _<"u"&&k!==null&&qt.zoomOnClick(k,_)},[k,_]),A.useEffect(()=>{if(L){var M=_U({},n||bU),H=new uI(L,[],M);return r&&qt.averageCenter(H,r),i&&qt.batchSizeIE(H,i),s&&qt.calculator(H,s),o&&qt.clusterClass(H,o),a&&qt.enableRetinaIcons(H,a),l&&qt.gridSize(H,l),c&&qt.ignoreHidden(H,c),d&&qt.imageExtension(H,d),p&&qt.imagePath(H,p),m&&qt.imageSizes(H,m),g&&qt.maxZoom(H,g),E&&qt.minimumClusterSize(H,E),S&&qt.styles(H,S),I&&qt.title(H,I),_&&qt.zoomOnClick(H,_),K&&ie(google.maps.event.addListener(H,Zi.onMouseOut,K)),z&&Ie(google.maps.event.addListener(H,Zi.onMouseOver,z)),b&&O(google.maps.event.addListener(H,Zi.onClick,b)),R&&fe(google.maps.event.addListener(H,Zi.onClusteringBegin,R)),B&&ve(google.maps.event.addListener(H,Zi.onClusteringEnd,B)),F(H),N&&N(H),()=>{ee!==null&&google.maps.event.removeListener(ee),ae!==null&&google.maps.event.removeListener(ae),T!==null&&google.maps.event.removeListener(T),X!==null&&google.maps.event.removeListener(X),ge!==null&&google.maps.event.removeListener(ge),x&&x(H)}}},[]),k!==null&&e(k)||null}A.memo(EU);class SU extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{markerClusterer:null}),xe(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new uI(this.context,[],this.props.options);this.registeredEvents=Pt({updaterMap:qt,eventMap:Zi,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:qt,eventMap:Zi,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),kt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}xe(SU,"contextType",Ct);function BE(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var cI=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(d){d.returnValue=!1,d.preventDefault&&d.preventDefault(),e.enableEventPropagation||BE(d)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=s;o<a.length;o++){var l=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,l,BE))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,c=this.pixelOffset.width,d=this.pixelOffset.height,p=this.div.offsetWidth,m=this.div.offsetHeight,g=this.infoBoxClearance.width,E=this.infoBoxClearance.height,S=this.getProjection(),I=S.fromLatLngToContainerPixel(this.position);I!==null&&(I.x<-c+g?r=I.x+c-g:I.x+p+c+g>a&&(r=I.x+p+c+g-a),this.alignBottom?I.y<-d+E+m?i=I.y+d-E-m:I.y+d+E>l&&(i=I.y+d+E-l):I.y<-d+E?i=I.y+d-E:I.y+m+d+E>l&&(i=I.y+m+d+E-l)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),LU=["position"],AU=["position"];function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var UE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},zE={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},CU={};function xU(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:c,onZindexChanged:d,onLoad:p,onUnmount:m}=t,g=A.useContext(Ct),[E,S]=A.useState(null),[I,_]=A.useState(null),[b,R]=A.useState(null),[B,z]=A.useState(null),[K,N]=A.useState(null),[x,k]=A.useState(null),F=A.useRef(null);return A.useEffect(()=>{g&&E!==null&&(E.close(),n?E.open(g,n):E.getPosition()&&E.open(g))},[g,E,n]),A.useEffect(()=>{r&&E!==null&&E.setOptions(r)},[E,r]),A.useEffect(()=>{if(i&&E!==null){var L=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);E.setPosition(L)}},[i]),A.useEffect(()=>{typeof s=="number"&&E!==null&&E.setZIndex(s)},[s]),A.useEffect(()=>{E&&o&&(I!==null&&google.maps.event.removeListener(I),_(google.maps.event.addListener(E,"closeclick",o)))},[o]),A.useEffect(()=>{E&&a&&(b!==null&&google.maps.event.removeListener(b),R(google.maps.event.addListener(E,"domready",a)))},[a]),A.useEffect(()=>{E&&l&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(E,"content_changed",l)))},[l]),A.useEffect(()=>{E&&c&&(K!==null&&google.maps.event.removeListener(K),N(google.maps.event.addListener(E,"position_changed",c)))},[c]),A.useEffect(()=>{E&&d&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(E,"zindex_changed",d)))},[d]),A.useEffect(()=>{if(g){var L=r||CU,{position:T}=L,O=Ew(L,LU),X;T&&!(T instanceof google.maps.LatLng)&&(X=new google.maps.LatLng(T.lat,T.lng));var fe=new cI(lm(lm({},O),X?{position:X}:{}));F.current=document.createElement("div"),S(fe),o&&_(google.maps.event.addListener(fe,"closeclick",o)),a&&R(google.maps.event.addListener(fe,"domready",a)),l&&z(google.maps.event.addListener(fe,"content_changed",l)),c&&N(google.maps.event.addListener(fe,"position_changed",c)),d&&k(google.maps.event.addListener(fe,"zindex_changed",d)),fe.setContent(F.current),n?fe.open(g,n):fe.getPosition()?fe.open(g):lr(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(fe)}return()=>{E!==null&&(I&&google.maps.event.removeListener(I),B&&google.maps.event.removeListener(B),b&&google.maps.event.removeListener(b),K&&google.maps.event.removeListener(K),x&&google.maps.event.removeListener(x),m&&m(E),E.close())}},[]),F.current?xu.createPortal(A.Children.only(e),F.current):null}A.memo(xU);class IU extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",null),xe(this,"state",{infoBox:null}),xe(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):lr(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),xe(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=Ew(e,AU),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var s=new cI(lm(lm({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Pt({updaterMap:zE,eventMap:UE,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:zE,eventMap:UE,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),kt(this.registeredEvents),n.close())}render(){return this.containerElement?xu.createPortal(A.Children.only(this.props.children),this.containerElement):null}}xe(IU,"contextType",Ct);var C0,qE;function PU(){return qE||(qE=1,C0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),C0}var TU=PU(),$E=nI(TU),HE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],x0=1,td=8;class Lw{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==x0)throw new Error("Got v".concat(i," data when expected v").concat(x0,"."));var s=HE[r&15];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Lw(a,o,s,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=HE.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,td,e),this.coords=new this.ArrayType(this.data,td+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(td+o+a+l),this.ids=new this.IndexArrayType(this.data,td,e),this.coords=new this.ArrayType(this.data,td+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(x0<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return u2(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:a}=this,l=[0,s.length-1,0],c=[];l.length;){var d=l.pop()||0,p=l.pop()||0,m=l.pop()||0;if(p-m<=a){for(var g=m;g<=p;g++){var E=o[2*g],S=o[2*g+1];E>=e&&E<=r&&S>=n&&S<=i&&c.push(s[g])}continue}var I=m+p>>1,_=o[2*I],b=o[2*I+1];_>=e&&_<=r&&b>=n&&b<=i&&c.push(s[I]),(d===0?e<=_:n<=b)&&(l.push(m),l.push(I-1),l.push(1-d)),(d===0?r>=_:i>=b)&&(l.push(I+1),l.push(p),l.push(1-d))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],l=[],c=r*r;a.length;){var d=a.pop()||0,p=a.pop()||0,m=a.pop()||0;if(p-m<=o){for(var g=m;g<=p;g++)WE(s[2*g],s[2*g+1],e,n)<=c&&l.push(i[g]);continue}var E=m+p>>1,S=s[2*E],I=s[2*E+1];WE(S,I,e,n)<=c&&l.push(i[E]),(d===0?e-r<=S:n-r<=I)&&(a.push(m),a.push(E-1),a.push(1-d)),(d===0?e+r>=S:n+r>=I)&&(a.push(E+1),a.push(p),a.push(1-d))}return l}}function u2(t,e,n,r,i,s){if(!(i-r<=n)){var o=r+i>>1;hI(t,e,o,r,i,s),u2(t,e,n,r,o-1,1-s),u2(t,e,n,o+1,i,1-s)}}function hI(t,e,n,r,i,s){for(;i>r;){if(i-r>600){var o=i-r+1,a=n-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1),p=Math.max(r,Math.floor(n-a*c/o+d)),m=Math.min(i,Math.floor(n+(o-a)*c/o+d));hI(t,e,n,p,m,s)}var g=e[2*n+s],E=r,S=i;for(nd(t,e,r,n),e[2*i+s]>g&&nd(t,e,r,i);E<S;){for(nd(t,e,E,S),E++,S--;e[2*E+s]<g;)E++;for(;e[2*S+s]>g;)S--}e[2*r+s]===g?nd(t,e,r,S):(S++,nd(t,e,S,i)),S<=n&&(r=S+1),n<=S&&(i=S-1)}}function nd(t,e,n,r){I0(t,n,r),I0(e,2*n,2*r),I0(e,2*n+1,2*r+1)}function I0(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function WE(t,e,n,r){var i=t-n,s=e-r;return i*i+s*s}var kU={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},GE=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Gl=2,ja=3,P0=4,Oa=5,dI=6;class NU{constructor(e){this.options=Object.assign(Object.create(kU),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var s="prepare ".concat(e.length," points");n&&console.time(s),this.points=e;for(var o=[],a=0;a<e.length;a++){var l=e[a];if(l.geometry){var[c,d]=l.geometry.coordinates,p=GE(kp(c)),m=GE(Np(d));o.push(p,m,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var g=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(var E=i;E>=r;E--){var S=+Date.now();g=this.trees[E]=this._createTree(this._cluster(g,E)),n&&console.log("z%d: %d clusters in %dms",E,g.numItems,+Date.now()-S)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){var a=this.getClusters([r,i,180,o],n),l=this.getClusters([-180,i,s,o],n);return a.concat(l)}var c=this.trees[this._limitZoom(n)],d=c.range(kp(r),Np(o),kp(s),Np(i)),p=c.data,m=[];for(var g of d){var E=this.stride*g;m.push(p[E+Oa]>1?KE(p,E,this.clusterProps):this.points[p[E+ja]])}return m}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var o=s.data;if(n*this.stride>=o.length)throw new Error(i);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=o[n*this.stride],c=o[n*this.stride+1],d=s.within(l,c,a),p=[];for(var m of d){var g=m*this.stride;o[g+P0]===e&&p.push(o[g+Oa]>1?KE(o,g,this.clusterProps):this.points[o[g+ja]])}if(p.length===0)throw new Error(i);return p}getLeaves(e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,c=(r-l)/s,d=(r+1+l)/s,p={features:[]};return this._addTileFeatures(i.range((n-l)/s,c,(n+1+l)/s,d),i.data,n,r,s,p),n===0&&this._addTileFeatures(i.range(1-l/s,c,1,d),i.data,s,r,s,p),n===s-1&&this._addTileFeatures(i.range(0,c,l/s,d),i.data,-1,r,s,p),p.features.length?p:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){var o=this.getChildren(n);for(var a of o){var l=a.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_createTree(e){for(var n=new Lw(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(var a of e){var l=a*this.stride,c=n[l+Oa]>1,d=void 0,p=void 0,m=void 0;if(c)d=fI(n,l,this.clusterProps),p=n[l],m=n[l+1];else{var g=this.points[n[l+ja]];d=g.properties;var[E,S]=g.geometry.coordinates;p=kp(E),m=Np(S)}var I={type:1,geometry:[[Math.round(this.options.extent*(p*s-r)),Math.round(this.options.extent*(m*s-i))]],tags:d},_=void 0;c||this.options.generateId?_=n[l+ja]:_=this.points[n[l+ja]].id,_!==void 0&&(I.id=_),o.features.push(I)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:i,reduce:s,minPoints:o}=this.options,a=r/(i*Math.pow(2,n)),l=e.data,c=[],d=this.stride,p=0;p<l.length;p+=d)if(!(l[p+Gl]<=n)){l[p+Gl]=n;var m=l[p],g=l[p+1],E=e.within(l[p],l[p+1],a),S=l[p+Oa],I=S;for(var _ of E){var b=_*d;l[b+Gl]>n&&(I+=l[b+Oa])}if(I>S&&I>=o){var R=m*S,B=g*S,z=void 0,K=-1,N=((p/d|0)<<5)+(n+1)+this.points.length;for(var x of E){var k=x*d;if(!(l[k+Gl]<=n)){l[k+Gl]=n;var F=l[k+Oa];R+=l[k]*F,B+=l[k+1]*F,l[k+P0]=N,s&&(z||(z=this._map(l,p,!0),K=this.clusterProps.length,this.clusterProps.push(z)),s(z,this._map(l,k)))}}l[p+P0]=N,c.push(R/I,B/I,1/0,N,-1,I),s&&c.push(K)}else{for(var L=0;L<d;L++)c.push(l[p+L]);if(I>1)for(var T of E){var O=T*d;if(!(l[O+Gl]<=n)){l[O+Gl]=n;for(var X=0;X<d;X++)c.push(l[O+X])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Oa]>1){var i=this.clusterProps[e[n+dI]];return r?Object.assign({},i):i}var s=this.points[e[n+ja]].properties,o=this.options.map(s);return r&&o===s?Object.assign({},o):o}}function KE(t,e,n){return{type:"Feature",id:t[e+ja],properties:fI(t,e,n),geometry:{type:"Point",coordinates:[RU(t[e]),OU(t[e+1])]}}}function fI(t,e,n){var r=t[e+Oa],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=t[e+dI],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+ja],point_count:r,point_count_abbreviated:i})}function kp(t){return t/360+.5}function Np(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function RU(t){return(t-.5)*360}function OU(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function MU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Ri{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class c2{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Ri.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Ri.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Ri.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class DU{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return jU(n)}}var jU=t=>{var e=t.map(n=>new c2({position:Ri.getPosition(n),markers:[n]}));return e};class FU extends DU{constructor(e){var{maxZoom:n,radius:r=60}=e,i=MU(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new NU(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!$E(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var o=Ri.getPosition(s),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!$E(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:i}=e;if(i.cluster)return new c2({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var s=i.marker;return new c2({markers:[s],position:Ri.getPosition(s)})}}class BU{constructor(e,n){this.markers={sum:e.length};var r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class VU{render(e,n,r){var{count:i,position:s}=e,o=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),l="Cluster of ".concat(i," markers"),c=Number(google.maps.Marker.MAX_ZINDEX)+i;if(Ri.isAdvancedMarkerAvailable(r)){var d=new DOMParser,p=d.parseFromString(a,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");var m={map:r,position:s,zIndex:c,title:l,content:p};return new google.maps.marker.AdvancedMarkerElement(m)}var g={position:s,zIndex:c,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function UU(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Aw{constructor(){UU(Aw,google.maps.OverlayView)}}var xd;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(xd||(xd={}));var zU=(t,e,n)=>{n.fitBounds(e.bounds)};class qU extends Aw{constructor(e){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:s=new FU(i),renderer:o=new VU,onClusterClick:a=zU}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=a,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Ri.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,xd.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of n)s.markers.length==1&&i.add(s.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?i.has(a.marker)||Ri.setMap(a.marker,null):o.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(l=>Ri.setMap(l,null)))}google.maps.event.trigger(this,xd.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Ri.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new BU(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>Ri.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,xd.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),Ri.setMap(r.marker,n)})}}function QE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QE(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $U(t){var e=FV(),[n,r]=A.useState(null);return A.useEffect(()=>{if(e&&n===null){var i=new qU(YE(YE({},t),{},{map:e}));r(i)}},[e]),n}function HU(t){var{children:e,options:n}=t,r=$U(n);return r!==null?e(r):null}A.memo(HU);var JE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},XE={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function WU(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:c,onZindexChanged:d,onLoad:p,onUnmount:m}=t,g=A.useContext(Ct),[E,S]=A.useState(null),[I,_]=A.useState(null),[b,R]=A.useState(null),[B,z]=A.useState(null),[K,N]=A.useState(null),[x,k]=A.useState(null),F=A.useRef(null);return A.useEffect(()=>{E!==null&&(E.close(),n?E.open(g,n):E.getPosition()&&E.open(g))},[g,E,n]),A.useEffect(()=>{r&&E!==null&&E.setOptions(r)},[E,r]),A.useEffect(()=>{i&&E!==null&&E.setPosition(i)},[i]),A.useEffect(()=>{typeof s=="number"&&E!==null&&E.setZIndex(s)},[s]),A.useEffect(()=>{E&&o&&(I!==null&&google.maps.event.removeListener(I),_(google.maps.event.addListener(E,"closeclick",o)))},[o]),A.useEffect(()=>{E&&a&&(b!==null&&google.maps.event.removeListener(b),R(google.maps.event.addListener(E,"domready",a)))},[a]),A.useEffect(()=>{E&&l&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(E,"content_changed",l)))},[l]),A.useEffect(()=>{E&&c&&(K!==null&&google.maps.event.removeListener(K),N(google.maps.event.addListener(E,"position_changed",c)))},[c]),A.useEffect(()=>{E&&d&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(E,"zindex_changed",d)))},[d]),A.useEffect(()=>{var L=new google.maps.InfoWindow(r);return S(L),F.current=document.createElement("div"),o&&_(google.maps.event.addListener(L,"closeclick",o)),a&&R(google.maps.event.addListener(L,"domready",a)),l&&z(google.maps.event.addListener(L,"content_changed",l)),c&&N(google.maps.event.addListener(L,"position_changed",c)),d&&k(google.maps.event.addListener(L,"zindex_changed",d)),L.setContent(F.current),i&&L.setPosition(i),s&&L.setZIndex(s),n?L.open(g,n):L.getPosition()?L.open(g):lr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(L),()=>{I&&google.maps.event.removeListener(I),B&&google.maps.event.removeListener(B),b&&google.maps.event.removeListener(b),K&&google.maps.event.removeListener(K),x&&google.maps.event.removeListener(x),m&&m(L),L.close()}},[]),F.current?xu.createPortal(A.Children.only(e),F.current):null}A.memo(WU);class GU extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",null),xe(this,"state",{infoWindow:null}),xe(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):lr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),xe(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Pt({updaterMap:XE,eventMap:JE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:XE,eventMap:JE,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(kt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?xu.createPortal(A.Children.only(this.props.children),this.containerElement):null}}xe(GU,"contextType",Ct);function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var eS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},tS={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},KU={};function QU(t){var{options:e,draggable:n,editable:r,visible:i,path:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:c,onMouseMove:d,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:E,onClick:S,onDrag:I,onLoad:_,onUnmount:b}=t,R=A.useContext(Ct),[B,z]=A.useState(null),[K,N]=A.useState(null),[x,k]=A.useState(null),[F,L]=A.useState(null),[T,O]=A.useState(null),[X,fe]=A.useState(null),[ge,ve]=A.useState(null),[ee,ie]=A.useState(null),[ae,Ie]=A.useState(null),[M,H]=A.useState(null),[J,G]=A.useState(null),[ne,ue]=A.useState(null);return A.useEffect(()=>{B!==null&&B.setMap(R)},[R]),A.useEffect(()=>{typeof e<"u"&&B!==null&&B.setOptions(e)},[B,e]),A.useEffect(()=>{typeof n<"u"&&B!==null&&B.setDraggable(n)},[B,n]),A.useEffect(()=>{typeof r<"u"&&B!==null&&B.setEditable(r)},[B,r]),A.useEffect(()=>{typeof i<"u"&&B!==null&&B.setVisible(i)},[B,i]),A.useEffect(()=>{typeof s<"u"&&B!==null&&B.setPath(s)},[B,s]),A.useEffect(()=>{B&&o&&(K!==null&&google.maps.event.removeListener(K),N(google.maps.event.addListener(B,"dblclick",o)))},[o]),A.useEffect(()=>{B&&a&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(B,"dragend",a)))},[a]),A.useEffect(()=>{B&&l&&(F!==null&&google.maps.event.removeListener(F),L(google.maps.event.addListener(B,"dragstart",l)))},[l]),A.useEffect(()=>{B&&c&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(B,"mousedown",c)))},[c]),A.useEffect(()=>{B&&d&&(X!==null&&google.maps.event.removeListener(X),fe(google.maps.event.addListener(B,"mousemove",d)))},[d]),A.useEffect(()=>{B&&p&&(ge!==null&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(B,"mouseout",p)))},[p]),A.useEffect(()=>{B&&m&&(ee!==null&&google.maps.event.removeListener(ee),ie(google.maps.event.addListener(B,"mouseover",m)))},[m]),A.useEffect(()=>{B&&g&&(ae!==null&&google.maps.event.removeListener(ae),Ie(google.maps.event.addListener(B,"mouseup",g)))},[g]),A.useEffect(()=>{B&&E&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(B,"rightclick",E)))},[E]),A.useEffect(()=>{B&&S&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(B,"click",S)))},[S]),A.useEffect(()=>{B&&I&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(B,"drag",I)))},[I]),A.useEffect(()=>{var he=new google.maps.Polyline(um(um({},e||KU),{},{map:R}));return s&&he.setPath(s),typeof i<"u"&&he.setVisible(i),typeof r<"u"&&he.setEditable(r),typeof n<"u"&&he.setDraggable(n),o&&N(google.maps.event.addListener(he,"dblclick",o)),a&&k(google.maps.event.addListener(he,"dragend",a)),l&&L(google.maps.event.addListener(he,"dragstart",l)),c&&O(google.maps.event.addListener(he,"mousedown",c)),d&&fe(google.maps.event.addListener(he,"mousemove",d)),p&&ve(google.maps.event.addListener(he,"mouseout",p)),m&&ie(google.maps.event.addListener(he,"mouseover",m)),g&&Ie(google.maps.event.addListener(he,"mouseup",g)),E&&H(google.maps.event.addListener(he,"rightclick",E)),S&&G(google.maps.event.addListener(he,"click",S)),I&&ue(google.maps.event.addListener(he,"drag",I)),z(he),_&&_(he),()=>{K!==null&&google.maps.event.removeListener(K),x!==null&&google.maps.event.removeListener(x),F!==null&&google.maps.event.removeListener(F),T!==null&&google.maps.event.removeListener(T),X!==null&&google.maps.event.removeListener(X),ge!==null&&google.maps.event.removeListener(ge),ee!==null&&google.maps.event.removeListener(ee),ae!==null&&google.maps.event.removeListener(ae),M!==null&&google.maps.event.removeListener(M),J!==null&&google.maps.event.removeListener(J),b&&b(he),he.setMap(null)}},[]),null}A.memo(QU);class YU extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{polyline:null}),xe(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(um(um({},this.props.options),{},{map:this.context}));this.registeredEvents=Pt({updaterMap:tS,eventMap:eS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:tS,eventMap:eS,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),kt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}xe(YU,"contextType",Ct);function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var iS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sS={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function JU(t){var{options:e,draggable:n,editable:r,visible:i,path:s,paths:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:d,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:E,onRightClick:S,onClick:I,onDrag:_,onLoad:b,onUnmount:R,onEdit:B}=t,z=A.useContext(Ct),[K,N]=A.useState(null),[x,k]=A.useState(null),[F,L]=A.useState(null),[T,O]=A.useState(null),[X,fe]=A.useState(null),[ge,ve]=A.useState(null),[ee,ie]=A.useState(null),[ae,Ie]=A.useState(null),[M,H]=A.useState(null),[J,G]=A.useState(null),[ne,ue]=A.useState(null),[he,me]=A.useState(null);return A.useEffect(()=>{K!==null&&K.setMap(z)},[z]),A.useEffect(()=>{typeof e<"u"&&K!==null&&K.setOptions(e)},[K,e]),A.useEffect(()=>{typeof n<"u"&&K!==null&&K.setDraggable(n)},[K,n]),A.useEffect(()=>{typeof r<"u"&&K!==null&&K.setEditable(r)},[K,r]),A.useEffect(()=>{typeof i<"u"&&K!==null&&K.setVisible(i)},[K,i]),A.useEffect(()=>{typeof s<"u"&&K!==null&&K.setPath(s)},[K,s]),A.useEffect(()=>{typeof o<"u"&&K!==null&&K.setPaths(o)},[K,o]),A.useEffect(()=>{K&&typeof a=="function"&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(K,"dblclick",a)))},[a]),A.useEffect(()=>{K&&(google.maps.event.addListener(K.getPath(),"insert_at",()=>{B==null||B(K)}),google.maps.event.addListener(K.getPath(),"set_at",()=>{B==null||B(K)}),google.maps.event.addListener(K.getPath(),"remove_at",()=>{B==null||B(K)}))},[K,B]),A.useEffect(()=>{K&&typeof l=="function"&&(F!==null&&google.maps.event.removeListener(F),L(google.maps.event.addListener(K,"dragend",l)))},[l]),A.useEffect(()=>{K&&typeof c=="function"&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(K,"dragstart",c)))},[c]),A.useEffect(()=>{K&&typeof d=="function"&&(X!==null&&google.maps.event.removeListener(X),fe(google.maps.event.addListener(K,"mousedown",d)))},[d]),A.useEffect(()=>{K&&typeof p=="function"&&(ge!==null&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(K,"mousemove",p)))},[p]),A.useEffect(()=>{K&&typeof m=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ie(google.maps.event.addListener(K,"mouseout",m)))},[m]),A.useEffect(()=>{K&&typeof g=="function"&&(ae!==null&&google.maps.event.removeListener(ae),Ie(google.maps.event.addListener(K,"mouseover",g)))},[g]),A.useEffect(()=>{K&&typeof E=="function"&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(K,"mouseup",E)))},[E]),A.useEffect(()=>{K&&typeof S=="function"&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(K,"rightclick",S)))},[S]),A.useEffect(()=>{K&&typeof I=="function"&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(K,"click",I)))},[I]),A.useEffect(()=>{K&&typeof _=="function"&&(he!==null&&google.maps.event.removeListener(he),me(google.maps.event.addListener(K,"drag",_)))},[_]),A.useEffect(()=>{var Ee=new google.maps.Polygon(rS(rS({},e),{},{map:z}));return s&&Ee.setPath(s),o&&Ee.setPaths(o),typeof i<"u"&&Ee.setVisible(i),typeof r<"u"&&Ee.setEditable(r),typeof n<"u"&&Ee.setDraggable(n),a&&k(google.maps.event.addListener(Ee,"dblclick",a)),l&&L(google.maps.event.addListener(Ee,"dragend",l)),c&&O(google.maps.event.addListener(Ee,"dragstart",c)),d&&fe(google.maps.event.addListener(Ee,"mousedown",d)),p&&ve(google.maps.event.addListener(Ee,"mousemove",p)),m&&ie(google.maps.event.addListener(Ee,"mouseout",m)),g&&Ie(google.maps.event.addListener(Ee,"mouseover",g)),E&&H(google.maps.event.addListener(Ee,"mouseup",E)),S&&G(google.maps.event.addListener(Ee,"rightclick",S)),I&&ue(google.maps.event.addListener(Ee,"click",I)),_&&me(google.maps.event.addListener(Ee,"drag",_)),N(Ee),b&&b(Ee),()=>{x!==null&&google.maps.event.removeListener(x),F!==null&&google.maps.event.removeListener(F),T!==null&&google.maps.event.removeListener(T),X!==null&&google.maps.event.removeListener(X),ge!==null&&google.maps.event.removeListener(ge),ee!==null&&google.maps.event.removeListener(ee),ae!==null&&google.maps.event.removeListener(ae),M!==null&&google.maps.event.removeListener(M),J!==null&&google.maps.event.removeListener(J),ne!==null&&google.maps.event.removeListener(ne),R&&R(Ee),Ee.setMap(null)}},[]),null}A.memo(JU);class XU extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Pt({updaterMap:sS,eventMap:iS,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:sS,eventMap:iS,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),kt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}xe(XU,"contextType",Ct);function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var aS={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},lS={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function ZU(t){var{options:e,bounds:n,draggable:r,editable:i,visible:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:c,onMouseMove:d,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:E,onClick:S,onDrag:I,onBoundsChanged:_,onLoad:b,onUnmount:R}=t,B=A.useContext(Ct),[z,K]=A.useState(null),[N,x]=A.useState(null),[k,F]=A.useState(null),[L,T]=A.useState(null),[O,X]=A.useState(null),[fe,ge]=A.useState(null),[ve,ee]=A.useState(null),[ie,ae]=A.useState(null),[Ie,M]=A.useState(null),[H,J]=A.useState(null),[G,ne]=A.useState(null),[ue,he]=A.useState(null),[me,Ee]=A.useState(null);return A.useEffect(()=>{z!==null&&z.setMap(B)},[B]),A.useEffect(()=>{typeof e<"u"&&z!==null&&z.setOptions(e)},[z,e]),A.useEffect(()=>{typeof r<"u"&&z!==null&&z.setDraggable(r)},[z,r]),A.useEffect(()=>{typeof i<"u"&&z!==null&&z.setEditable(i)},[z,i]),A.useEffect(()=>{typeof s<"u"&&z!==null&&z.setVisible(s)},[z,s]),A.useEffect(()=>{typeof n<"u"&&z!==null&&z.setBounds(n)},[z,n]),A.useEffect(()=>{z&&o&&(N!==null&&google.maps.event.removeListener(N),x(google.maps.event.addListener(z,"dblclick",o)))},[o]),A.useEffect(()=>{z&&a&&(k!==null&&google.maps.event.removeListener(k),F(google.maps.event.addListener(z,"dragend",a)))},[a]),A.useEffect(()=>{z&&l&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(z,"dragstart",l)))},[l]),A.useEffect(()=>{z&&c&&(O!==null&&google.maps.event.removeListener(O),X(google.maps.event.addListener(z,"mousedown",c)))},[c]),A.useEffect(()=>{z&&d&&(fe!==null&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(z,"mousemove",d)))},[d]),A.useEffect(()=>{z&&p&&(ve!==null&&google.maps.event.removeListener(ve),ee(google.maps.event.addListener(z,"mouseout",p)))},[p]),A.useEffect(()=>{z&&m&&(ie!==null&&google.maps.event.removeListener(ie),ae(google.maps.event.addListener(z,"mouseover",m)))},[m]),A.useEffect(()=>{z&&g&&(Ie!==null&&google.maps.event.removeListener(Ie),M(google.maps.event.addListener(z,"mouseup",g)))},[g]),A.useEffect(()=>{z&&E&&(H!==null&&google.maps.event.removeListener(H),J(google.maps.event.addListener(z,"rightclick",E)))},[E]),A.useEffect(()=>{z&&S&&(G!==null&&google.maps.event.removeListener(G),ne(google.maps.event.addListener(z,"click",S)))},[S]),A.useEffect(()=>{z&&I&&(ue!==null&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(z,"drag",I)))},[I]),A.useEffect(()=>{z&&_&&(me!==null&&google.maps.event.removeListener(me),Ee(google.maps.event.addListener(z,"bounds_changed",_)))},[_]),A.useEffect(()=>{var Ce=new google.maps.Rectangle(cm(cm({},e),{},{map:B}));return typeof s<"u"&&Ce.setVisible(s),typeof i<"u"&&Ce.setEditable(i),typeof r<"u"&&Ce.setDraggable(r),typeof n<"u"&&Ce.setBounds(n),o&&x(google.maps.event.addListener(Ce,"dblclick",o)),a&&F(google.maps.event.addListener(Ce,"dragend",a)),l&&T(google.maps.event.addListener(Ce,"dragstart",l)),c&&X(google.maps.event.addListener(Ce,"mousedown",c)),d&&ge(google.maps.event.addListener(Ce,"mousemove",d)),p&&ee(google.maps.event.addListener(Ce,"mouseout",p)),m&&ae(google.maps.event.addListener(Ce,"mouseover",m)),g&&M(google.maps.event.addListener(Ce,"mouseup",g)),E&&J(google.maps.event.addListener(Ce,"rightclick",E)),S&&ne(google.maps.event.addListener(Ce,"click",S)),I&&he(google.maps.event.addListener(Ce,"drag",I)),_&&Ee(google.maps.event.addListener(Ce,"bounds_changed",_)),K(Ce),b&&b(Ce),()=>{N!==null&&google.maps.event.removeListener(N),k!==null&&google.maps.event.removeListener(k),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),fe!==null&&google.maps.event.removeListener(fe),ve!==null&&google.maps.event.removeListener(ve),ie!==null&&google.maps.event.removeListener(ie),Ie!==null&&google.maps.event.removeListener(Ie),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),ue!==null&&google.maps.event.removeListener(ue),me!==null&&google.maps.event.removeListener(me),R&&R(Ce),Ce.setMap(null)}},[]),null}A.memo(ZU);class ez extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{rectangle:null}),xe(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(cm(cm({},this.props.options),{},{map:this.context}));this.registeredEvents=Pt({updaterMap:lS,eventMap:aS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:lS,eventMap:aS,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),kt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}xe(ez,"contextType",Ct);function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var cS={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},hS={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},tz={};function nz(t){var{options:e,center:n,radius:r,draggable:i,editable:s,visible:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:d,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:E,onRightClick:S,onClick:I,onDrag:_,onCenterChanged:b,onRadiusChanged:R,onLoad:B,onUnmount:z}=t,K=A.useContext(Ct),[N,x]=A.useState(null),[k,F]=A.useState(null),[L,T]=A.useState(null),[O,X]=A.useState(null),[fe,ge]=A.useState(null),[ve,ee]=A.useState(null),[ie,ae]=A.useState(null),[Ie,M]=A.useState(null),[H,J]=A.useState(null),[G,ne]=A.useState(null),[ue,he]=A.useState(null),[me,Ee]=A.useState(null),[Ce,Be]=A.useState(null),[Ve,nt]=A.useState(null);return A.useEffect(()=>{N!==null&&N.setMap(K)},[K]),A.useEffect(()=>{typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),A.useEffect(()=>{typeof i<"u"&&N!==null&&N.setDraggable(i)},[N,i]),A.useEffect(()=>{typeof s<"u"&&N!==null&&N.setEditable(s)},[N,s]),A.useEffect(()=>{typeof o<"u"&&N!==null&&N.setVisible(o)},[N,o]),A.useEffect(()=>{typeof r=="number"&&N!==null&&N.setRadius(r)},[N,r]),A.useEffect(()=>{typeof n<"u"&&N!==null&&N.setCenter(n)},[N,n]),A.useEffect(()=>{N&&a&&(k!==null&&google.maps.event.removeListener(k),F(google.maps.event.addListener(N,"dblclick",a)))},[a]),A.useEffect(()=>{N&&l&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(N,"dragend",l)))},[l]),A.useEffect(()=>{N&&c&&(O!==null&&google.maps.event.removeListener(O),X(google.maps.event.addListener(N,"dragstart",c)))},[c]),A.useEffect(()=>{N&&d&&(fe!==null&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(N,"mousedown",d)))},[d]),A.useEffect(()=>{N&&p&&(ve!==null&&google.maps.event.removeListener(ve),ee(google.maps.event.addListener(N,"mousemove",p)))},[p]),A.useEffect(()=>{N&&m&&(ie!==null&&google.maps.event.removeListener(ie),ae(google.maps.event.addListener(N,"mouseout",m)))},[m]),A.useEffect(()=>{N&&g&&(Ie!==null&&google.maps.event.removeListener(Ie),M(google.maps.event.addListener(N,"mouseover",g)))},[g]),A.useEffect(()=>{N&&E&&(H!==null&&google.maps.event.removeListener(H),J(google.maps.event.addListener(N,"mouseup",E)))},[E]),A.useEffect(()=>{N&&S&&(G!==null&&google.maps.event.removeListener(G),ne(google.maps.event.addListener(N,"rightclick",S)))},[S]),A.useEffect(()=>{N&&I&&(ue!==null&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(N,"click",I)))},[I]),A.useEffect(()=>{N&&_&&(me!==null&&google.maps.event.removeListener(me),Ee(google.maps.event.addListener(N,"drag",_)))},[_]),A.useEffect(()=>{N&&b&&(Ce!==null&&google.maps.event.removeListener(Ce),Be(google.maps.event.addListener(N,"center_changed",b)))},[I]),A.useEffect(()=>{N&&R&&(Ve!==null&&google.maps.event.removeListener(Ve),nt(google.maps.event.addListener(N,"radius_changed",R)))},[R]),A.useEffect(()=>{var _e=new google.maps.Circle(hm(hm({},e||tz),{},{map:K}));return typeof r=="number"&&_e.setRadius(r),typeof n<"u"&&_e.setCenter(n),typeof r=="number"&&_e.setRadius(r),typeof o<"u"&&_e.setVisible(o),typeof s<"u"&&_e.setEditable(s),typeof i<"u"&&_e.setDraggable(i),a&&F(google.maps.event.addListener(_e,"dblclick",a)),l&&T(google.maps.event.addListener(_e,"dragend",l)),c&&X(google.maps.event.addListener(_e,"dragstart",c)),d&&ge(google.maps.event.addListener(_e,"mousedown",d)),p&&ee(google.maps.event.addListener(_e,"mousemove",p)),m&&ae(google.maps.event.addListener(_e,"mouseout",m)),g&&M(google.maps.event.addListener(_e,"mouseover",g)),E&&J(google.maps.event.addListener(_e,"mouseup",E)),S&&ne(google.maps.event.addListener(_e,"rightclick",S)),I&&he(google.maps.event.addListener(_e,"click",I)),_&&Ee(google.maps.event.addListener(_e,"drag",_)),b&&Be(google.maps.event.addListener(_e,"center_changed",b)),R&&nt(google.maps.event.addListener(_e,"radius_changed",R)),x(_e),B&&B(_e),()=>{k!==null&&google.maps.event.removeListener(k),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),fe!==null&&google.maps.event.removeListener(fe),ve!==null&&google.maps.event.removeListener(ve),ie!==null&&google.maps.event.removeListener(ie),Ie!==null&&google.maps.event.removeListener(Ie),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),ue!==null&&google.maps.event.removeListener(ue),Ce!==null&&google.maps.event.removeListener(Ce),Ve!==null&&google.maps.event.removeListener(Ve),z&&z(_e),_e.setMap(null)}},[]),null}A.memo(nz);class rz extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{circle:null}),xe(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(hm(hm({},this.props.options),{},{map:this.context}));this.registeredEvents=Pt({updaterMap:hS,eventMap:cS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:hS,eventMap:cS,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),kt(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}xe(rz,"contextType",Ct);function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var fS={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},pS={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function iz(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:o,onMouseOver:a,onMouseUp:l,onRightClick:c,onAddFeature:d,onRemoveFeature:p,onRemoveProperty:m,onSetGeometry:g,onSetProperty:E,onLoad:S,onUnmount:I}=t,_=A.useContext(Ct),[b,R]=A.useState(null),[B,z]=A.useState(null),[K,N]=A.useState(null),[x,k]=A.useState(null),[F,L]=A.useState(null),[T,O]=A.useState(null),[X,fe]=A.useState(null),[ge,ve]=A.useState(null),[ee,ie]=A.useState(null),[ae,Ie]=A.useState(null),[M,H]=A.useState(null),[J,G]=A.useState(null),[ne,ue]=A.useState(null),[he,me]=A.useState(null);return A.useEffect(()=>{b!==null&&b.setMap(_)},[_]),A.useEffect(()=>{b&&r&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(b,"dblclick",r)))},[r]),A.useEffect(()=>{b&&i&&(K!==null&&google.maps.event.removeListener(K),N(google.maps.event.addListener(b,"mousedown",i)))},[i]),A.useEffect(()=>{b&&s&&(x!==null&&google.maps.event.removeListener(x),k(google.maps.event.addListener(b,"mousemove",s)))},[s]),A.useEffect(()=>{b&&o&&(F!==null&&google.maps.event.removeListener(F),L(google.maps.event.addListener(b,"mouseout",o)))},[o]),A.useEffect(()=>{b&&a&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(b,"mouseover",a)))},[a]),A.useEffect(()=>{b&&l&&(X!==null&&google.maps.event.removeListener(X),fe(google.maps.event.addListener(b,"mouseup",l)))},[l]),A.useEffect(()=>{b&&c&&(ge!==null&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(b,"rightclick",c)))},[c]),A.useEffect(()=>{b&&n&&(ee!==null&&google.maps.event.removeListener(ee),ie(google.maps.event.addListener(b,"click",n)))},[n]),A.useEffect(()=>{b&&d&&(ae!==null&&google.maps.event.removeListener(ae),Ie(google.maps.event.addListener(b,"addfeature",d)))},[d]),A.useEffect(()=>{b&&p&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(b,"removefeature",p)))},[p]),A.useEffect(()=>{b&&m&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(b,"removeproperty",m)))},[m]),A.useEffect(()=>{b&&g&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(b,"setgeometry",g)))},[g]),A.useEffect(()=>{b&&E&&(he!==null&&google.maps.event.removeListener(he),me(google.maps.event.addListener(b,"setproperty",E)))},[E]),A.useEffect(()=>{if(_!==null){var Ee=new google.maps.Data(dm(dm({},e),{},{map:_}));r&&z(google.maps.event.addListener(Ee,"dblclick",r)),i&&N(google.maps.event.addListener(Ee,"mousedown",i)),s&&k(google.maps.event.addListener(Ee,"mousemove",s)),o&&L(google.maps.event.addListener(Ee,"mouseout",o)),a&&O(google.maps.event.addListener(Ee,"mouseover",a)),l&&fe(google.maps.event.addListener(Ee,"mouseup",l)),c&&ve(google.maps.event.addListener(Ee,"rightclick",c)),n&&ie(google.maps.event.addListener(Ee,"click",n)),d&&Ie(google.maps.event.addListener(Ee,"addfeature",d)),p&&H(google.maps.event.addListener(Ee,"removefeature",p)),m&&G(google.maps.event.addListener(Ee,"removeproperty",m)),g&&ue(google.maps.event.addListener(Ee,"setgeometry",g)),E&&me(google.maps.event.addListener(Ee,"setproperty",E)),R(Ee),S&&S(Ee)}return()=>{b&&(B!==null&&google.maps.event.removeListener(B),K!==null&&google.maps.event.removeListener(K),x!==null&&google.maps.event.removeListener(x),F!==null&&google.maps.event.removeListener(F),T!==null&&google.maps.event.removeListener(T),X!==null&&google.maps.event.removeListener(X),ge!==null&&google.maps.event.removeListener(ge),ee!==null&&google.maps.event.removeListener(ee),ae!==null&&google.maps.event.removeListener(ae),M!==null&&google.maps.event.removeListener(M),J!==null&&google.maps.event.removeListener(J),ne!==null&&google.maps.event.removeListener(ne),he!==null&&google.maps.event.removeListener(he),I&&I(b),b.setMap(null))}},[]),null}A.memo(iz);class sz extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{data:null}),xe(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(dm(dm({},this.props.options),{},{map:this.context}));this.registeredEvents=Pt({updaterMap:pS,eventMap:fS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:pS,eventMap:fS,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),kt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}xe(sz,"contextType",Ct);function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vS={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},yS={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class oz extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{kmlLayer:null}),xe(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(mS(mS({},this.props.options),{},{map:this.context}));this.registeredEvents=Pt({updaterMap:yS,eventMap:vS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:yS,eventMap:vS,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),kt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}xe(oz,"contextType",Ct);function pI(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function az(t,e){return new e(t.lat,t.lng)}function lz(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function uz(t,e,n){return t instanceof e?t:n(t,e)}function cz(t,e,n){return t instanceof e?t:n(t,e)}function hz(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function dz(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function gI(t,e,n,r){return n!==void 0?hz(t,e,cz(n,google.maps.LatLngBounds,lz)):dz(t,e,uz(r,google.maps.LatLng,az))}function fz(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gz(t,e,n,r,i){class s extends google.maps.OverlayView{constructor(a,l,c,d){super(),this.container=a,this.pane=l,this.position=c,this.bounds=d}onAdd(){var a,l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){var a=this.getProjection(),l=pz({},this.container?pI(this.container,i):{x:0,y:0}),c=gI(a,l,this.bounds,this.position);for(var[d,p]of Object.entries(c))this.container.style[d]=p}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,n,r)}function _S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bS(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function ES(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function vz(t){var{position:e,bounds:n,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:o,getPixelPositionOffset:a,children:l}=t,c=A.useContext(Ct),d=A.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),p=A.useMemo(()=>gz(d,r,e,n,a),[d,r,e,n]);return A.useEffect(()=>(s==null||s(p),p==null||p.setMap(c),()=>{o==null||o(p),p==null||p.setMap(null)}),[c,p]),A.useEffect(()=>{d.style.zIndex="".concat(i)},[i,d]),xu.createPortal(l,d)}A.memo(vz);class Lh extends A.PureComponent{constructor(e){super(e),xe(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),xe(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();lr(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),xe(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),xe(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=mz({x:0,y:0},this.containerRef.current?pI(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=gI(r,i,this.props.bounds,this.props.position);if(!fz(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,l,c;this.setState({containerStyle:{top:(o=s.top)!==null&&o!==void 0?o:0,left:(a=s.left)!==null&&a!==void 0?a:0,width:(l=s.width)!==null&&l!==void 0?l:0,height:(c=s.height)!==null&&c!==void 0?c:0,position:"absolute"}})}}),xe(this,"draw",()=>{this.onPositionElement()}),xe(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=A.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=bS(e.position),r=bS(this.props.position),i=ES(e.bounds),s=ES(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?xu.createPortal(Y.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:A.Children.only(this.props.children)}),e):null}}xe(Lh,"FLOAT_PANE","floatPane");xe(Lh,"MAP_PANE","mapPane");xe(Lh,"MARKER_LAYER","markerLayer");xe(Lh,"OVERLAY_LAYER","overlayLayer");xe(Lh,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");xe(Lh,"contextType",Ct);function yz(){}function SS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SS(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var AS={onDblClick:"dblclick",onClick:"click"},CS={opacity(t,e){t.setOpacity(e)}};function wz(t){var{url:e,bounds:n,options:r,visible:i}=t,s=A.useContext(Ct),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=A.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return A.useEffect(()=>{a!==null&&a.setMap(s)},[s]),A.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(s))},[a,e]),A.useEffect(()=>{typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),A.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(s))},[a,n]),null}A.memo(wz);class mI extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{groundOverlay:null}),xe(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){lr(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,LS(LS({},this.props.options),{},{map:this.context}));this.registeredEvents=Pt({updaterMap:CS,eventMap:AS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:CS,eventMap:AS,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}xe(mI,"defaultProps",{onLoad:yz});xe(mI,"contextType",Ct);function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var IS={},PS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function _z(t){var{data:e,onLoad:n,onUnmount:r,options:i}=t,s=A.useContext(Ct),[o,a]=A.useState(null);return A.useEffect(()=>{google.maps.visualization||lr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),A.useEffect(()=>{lr(!!e,"data property is required in HeatmapLayer %s",e)},[e]),A.useEffect(()=>{o!==null&&o.setMap(s)},[s]),A.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),A.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(fm(fm({},i),{},{data:e,map:s}));return a(l),n&&n(l),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}A.memo(_z);class bz extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{heatmapLayer:null}),xe(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){lr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),lr(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(fm(fm({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Pt({updaterMap:PS,eventMap:IS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:PS,eventMap:IS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),kt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}xe(bz,"contextType",Ct);var TS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},kS={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class Ez extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{streetViewPanorama:null}),xe(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Pt({updaterMap:kS,eventMap:TS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:kS,eventMap:TS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),kt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}xe(Ez,"contextType",Ct);class Sz extends A.PureComponent{constructor(){super(...arguments),xe(this,"state",{streetViewService:null}),xe(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}xe(Sz,"contextType",Ct);var NS={onDirectionsChanged:"directions_changed"},RS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class Lz extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{directionsRenderer:null}),xe(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Pt({updaterMap:RS,eventMap:NS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:RS,eventMap:NS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),kt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}xe(Lz,"contextType",Ct);var OS={onPlacesChanged:"places_changed"},MS={bounds(t,e){t.setBounds(e)}};class Az extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",A.createRef()),xe(this,"state",{searchBox:null}),xe(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(lr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Pt({updaterMap:MS,eventMap:OS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:MS,eventMap:OS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),kt(this.registeredEvents))}render(){return Y.jsx("div",{ref:this.containerElement,children:A.Children.only(this.props.children)})}}xe(Az,"contextType",Ct);var DS={onPlaceChanged:"place_changed"},jS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class vI extends A.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",A.createRef()),xe(this,"state",{autocomplete:null}),xe(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;lr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Pt({updaterMap:jS,eventMap:DS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){kt(this.registeredEvents),this.registeredEvents=Pt({updaterMap:jS,eventMap:DS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&kt(this.registeredEvents)}render(){return Y.jsx("div",{ref:this.containerElement,className:this.props.className,children:A.Children.only(this.props.children)})}}xe(vI,"defaultProps",{className:""});xe(vI,"contextType",Ct);const Cz=()=>{const[t,e]=A.useState([]);A.useEffect(()=>{(async()=>{const o=await Eu(oo(rr,"bitacoras")),a=[];o.forEach(l=>{const c=l.data();c.coordenadas&&a.push(c.coordenadas)}),e(a)})()},[]);const n={lat:4.570868,lng:-74.297333},r={width:"100%",height:"300px"},{isLoaded:i}=tU({googleMapsApiKey:"AIzaSyC9YPQj18xev4kXRv2CtshM87OPwLbgpA8"});return i?Y.jsxs("div",{className:"mapa-bitacoras",children:[Y.jsx("h3",{children:"Mapa de Bitcoras"}),Y.jsx(rI,{mapContainerStyle:r,center:n,zoom:6,children:t.map((s,o)=>Y.jsx(Sw,{position:{lat:parseFloat(s.lat),lng:parseFloat(s.lng)}},o))})]}):Y.jsx("div",{children:"Cargando mapa..."})},xz=()=>{const t=cf(),[e,n]=A.useState([]),[r,i]=A.useState([]),[s,o]=A.useState(""),[a,l]=A.useState(""),[c,d]=A.useState(""),[p,m]=A.useState("titulo"),[g,E]=A.useState(!1),[S,I]=A.useState(!1);A.useEffect(()=>{(async()=>{const R=oo(rr,"bitacoras"),z=(await Eu(R)).docs.map(K=>({id:K.id,...K.data()}));n(z),i(z)})()},[]),A.useEffect(()=>{let b=e.filter(R=>{const B=s===""||R.titulo.toLowerCase().includes(s.toLowerCase()),z=a===""||R.fecha.includes(a),K=c===""||R.condiciones.toLowerCase().includes(c.toLowerCase());return B&&z&&K});p==="titulo"?b=b.sort((R,B)=>g?B.titulo.localeCompare(R.titulo):R.titulo.localeCompare(B.titulo)):p==="fecha"?b=b.sort((R,B)=>new Date(R.fecha)-new Date(B.fecha)):p==="localizacion"&&(b=b.sort((R,B)=>R.localizacion.localeCompare(B.localizacion))),i(b)},[s,a,c,e,p,g]);const _=()=>{E(!g)};return Y.jsx("div",{children:Y.jsxs("main",{children:[Y.jsxs("div",{className:"pdf_contenido",children:[Y.jsx("h1",{className:"titulo",children:"Bitcoras de campo"}),Y.jsx(tI,{})]}),Y.jsxs("div",{className:"contenedor_filtros",children:[Y.jsx("input",{type:"search",placeholder:"Buscar por ttulo",value:s,onChange:b=>o(b.target.value),className:"campo-busqueda"}),Y.jsx("input",{type:"date",value:a,onChange:b=>l(b.target.value),className:"campo-busqueda"}),Y.jsx("input",{type:"text",placeholder:"Buscar por condiciones",value:c,onChange:b=>d(b.target.value),className:"campo-busqueda"}),Y.jsxs("select",{value:p,onChange:b=>m(b.target.value),className:"campo-busqueda",children:[Y.jsx("option",{value:"titulo",children:"Ordenar por Ttulo"}),Y.jsx("option",{value:"fecha",children:"Ordenar por Fecha"}),Y.jsx("option",{value:"localizacion",children:"Ordenar por Lugar"})]}),p==="titulo"&&Y.jsxs("label",{className:"campo-busqueda",children:[Y.jsx("input",{className:"campo-busqueda",type:"checkbox",checked:g,onChange:_}),"des"]}),Y.jsx("button",{onClick:()=>I(!S),children:S?"Ocultar Mapa":"Mostrar Mapa"})]}),S&&Y.jsx(Cz,{bitacoras:r}),r.length>0?Y.jsx("div",{className:"bitacora-list",children:r.map(b=>Y.jsxs("div",{className:"bitacora-card",onClick:()=>t(`/bitacora/${b.id}`),children:[Y.jsx("h3",{className:"bitacora-titulo",children:b.titulo}),Y.jsx("label",{children:"Fecha:"}),Y.jsx("p",{className:"bitacora-text",children:b.fecha}),Y.jsx("label",{children:"Localizacin:"}),Y.jsx("p",{className:"bitacora-text",children:b.localizacion}),Y.jsx("label",{children:"Condiciones Climticas:"}),Y.jsx("p",{className:"bitacora-text",children:b.condiciones}),Y.jsx("label",{children:"Descripcin del Hbitat:"}),Y.jsx("p",{className:"bitacora-text",children:b.descripcionHabitat}),Y.jsx("label",{children:"Observaciones:"}),Y.jsx("p",{className:"bitacora-text",children:b.observaciones}),b.imagenUrl&&Y.jsx("div",{className:"bitacora-image-container",style:{width:"100%",height:"300px",overflow:"hidden"},children:Y.jsx("img",{src:b.imagenUrl,alt:"Imagen de la bitcora",className:"bitacora-image",style:{width:"100%",height:"100%",objectFit:"cover"}})})]},b.id))}):Y.jsx("p",{children:"No se encontraron bitcoras"})]})})},Iz=({onAddEspecie:t,selectedEspecie:e,onClose:n})=>{const[r,i]=A.useState(""),[s,o]=A.useState(""),[a,l]=A.useState(""),[c,d]=A.useState(""),[p,m]=A.useState(""),[g,E]=A.useState("");A.useEffect(()=>{e&&(i(e.nombreCientifico||""),o(e.nombreComun||""),l(e.familia||""),d(e.cantidad||""),m(e.estado||""),E(e.imagenUrl||""))},[e]);const S=I=>{I.preventDefault(),t({nombreCientifico:r,nombreComun:s,familia:a,cantidad:c,estado:p,imagenUrl:g}),i(""),o(""),l(""),d(""),m(""),E(""),n()};return Y.jsxs("form",{onSubmit:S,children:[Y.jsx("h3",{children:e?"Editar Especie":"Agregar nueva especie"}),Y.jsx("input",{type:"text",placeholder:"Nombre Cientfico",value:r,onChange:I=>i(I.target.value),required:!0}),Y.jsx("input",{type:"text",placeholder:"Nombre Comn",value:s,onChange:I=>o(I.target.value),required:!0}),Y.jsx("input",{type:"text",placeholder:"Familia",value:a,onChange:I=>l(I.target.value),required:!0}),Y.jsx("input",{type:"number",placeholder:"Cantidad",value:c,onChange:I=>d(I.target.value),required:!0}),Y.jsx("input",{type:"text",placeholder:"Estado",value:p,onChange:I=>m(I.target.value),required:!0}),Y.jsx("input",{type:"text",placeholder:"URL de la imagen",value:g,onChange:I=>E(I.target.value)}),Y.jsx("button",{type:"submit",children:e?"Actualizar Especie":"Agregar Especie"}),Y.jsx("button",{type:"button",onClick:n,children:"Cerrar"})]})},Pz=()=>{var m;const{id:t}=i6(),[e,n]=A.useState(null),[r,i]=A.useState(""),[s,o]=A.useState(null);A.useEffect(()=>{(async()=>{const E=await mD(Ys(rr,"bitacoras",t));E.exists()?n({id:E.id,...E.data()}):console.log("No se encontr la bitcora.")})()},[t]);const a=async g=>{const E=Ys(rr,"bitacoras",e.id),S=[...e.especies||[],g];await Pc(E,{especies:S}),n({...e,especies:S})},l=async()=>{const g=Ys(rr,"bitacoras",e.id),E=[...e.fotografias||[],r];await Pc(g,{fotografias:E}),n({...e,fotografias:E}),i("")},c=async g=>{const E=Ys(rr,"bitacoras",e.id),S=e.especies.filter((I,_)=>_!==g);await Pc(E,{especies:S}),n({...e,especies:S})},d=g=>{o(g)},p=async g=>{const E=Ys(rr,"bitacoras",e.id),S=e.especies.map(I=>I.nombreCientifico===g.nombreCientifico?g:I);await Pc(E,{especies:S}),n({...e,especies:S}),o(null)};return Y.jsxs("main",{className:"main_caracteristicasBitacora",children:[Y.jsx("h1",{id:"Titulo_caracteristicasBitacoras",children:"Caracterstica Bitcora"}),Y.jsxs("div",{className:"contenedor_caracteristicasBitacoras",children:[e&&Y.jsxs("div",{className:"bitacora-details",children:[Y.jsx("h2",{children:"Detalles de la Bitcora"}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Ttulo:"})," ",e.titulo]}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Fecha y Hora:"})," ",e.fecha]}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Localizacin Geogrfica:"})," ",e.localizacion]}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Condiciones Climticas:"})," ",e.condiciones]}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Descripcin del Hbitat:"})," ",e.descripcionHabitat]}),e.fotografias&&e.fotografias.length>0&&Y.jsxs("div",{children:[Y.jsx("h3",{children:"Fotografas:"}),Y.jsx("div",{className:"fotografias-grid",children:e.fotografias.map((g,E)=>Y.jsx("img",{src:g,alt:`Fotografa ${E+1}`,style:{width:"150px",height:"auto",margin:"10px"}},E))})]}),Y.jsx("h3",{children:"Agregar Fotografa"}),Y.jsx("input",{type:"text",placeholder:"URL de la fotografa",value:r,onChange:g=>i(g.target.value)}),Y.jsx("button",{onClick:l,children:"Agregar Fotografa"}),Y.jsx("h4",{children:"Especies:"}),Y.jsx("div",{className:"prueba",children:(m=e.especies)==null?void 0:m.map((g,E)=>Y.jsxs("div",{className:"bitacora-card",children:[Y.jsxs("p",{children:["Nombre Cientfico: ",g.nombreCientifico]}),Y.jsxs("p",{children:["Nombre Comn: ",g.nombreComun]}),Y.jsxs("p",{children:["Familia: ",g.familia]}),Y.jsxs("p",{children:["Cantidad: ",g.cantidad]}),Y.jsxs("p",{children:["Estado: ",g.estado]}),g.imagenUrl&&Y.jsx("img",{src:g.imagenUrl,alt:`Imagen de ${g.nombreCientifico}`,style:{width:"150px",height:"150px"}}),Y.jsx("button",{onClick:()=>d(g),children:"Editar"}),Y.jsx("button",{onClick:()=>c(E),children:"Eliminar"})]},E))})]}),Y.jsx(Iz,{onAddEspecie:a,selectedEspecie:s,onUpdateEspecie:p,onClose:()=>o(null)})]})]})},Tz="/ProyectoFinal_WEB/assets/Yuliana-C8SXAy4D.jpg",kz="/ProyectoFinal_WEB/assets/Figueroa-CZHNqRU4.png",Nz="/ProyectoFinal_WEB/assets/Esteban-D6F-egnO.jpg",Rp=()=>Y.jsxs("footer",{className:"imagenes_footer",children:[Y.jsx("p",{id:"derechos",children:" 2024 Grupo de trabajo:"}),Y.jsx("img",{className:"logo_imagenes_footer",src:kz,alt:"Brayam Figueroa"}),Y.jsx("h5",{className:"integrantes_footer",children:"Brayam Stiven Figueroa"}),Y.jsx("img",{className:"logo_imagenes_footer",src:Tz,alt:"Yuliana Trejos"}),Y.jsx("h5",{className:"integrantes_footer",children:"Yuliana Trejos"}),Y.jsx("img",{className:"logo_imagenes_footer",src:Nz,alt:"Esteban"}),Y.jsx("h5",{className:"integrantes_footer",children:"Esteban Barrios"})]}),Rz=()=>{const[t,e]=A.useState({titulo:"",fecha:"",localizacion:"",coordenadas:{lat:null,lng:null},condiciones:"",descripcionHabitat:"",observaciones:"",fotos:null}),[n,r]=A.useState([]),[i,s]=A.useState(null),{isLoaded:o}=lI({googleMapsApiKey:"AIzaSyC9YPQj18xev4kXRv2CtshM87OPwLbgpA8"}),a={lat:4.5709,lng:-74.2973},l=UC(),c=async()=>{try{const I=(await Eu(oo(rr,"bitacoras"))).docs.map(_=>({id:_.id,..._.data()}));r(I)}catch(S){console.error("Error al obtener las bitcoras:",S)}};A.useEffect(()=>{c()},[]);const d=async()=>{try{let S=null;if(t.fotos){const I=xj(l,`bitacoras/${t.fotos.name}`);await Aj(I,t.fotos),S=await Cj(I)}if(i){const I=Ys(rr,"bitacoras",i);await Pc(I,{...t,fotos:S}),Gt.fire("xito!","Bitcora actualizada con xito","success"),s(null)}else{const I=oo(rr,"bitacoras");await ev(I,{...t,fotos:S}),Gt.fire("xito!","Bitcora agregada con xito","success")}e({titulo:"",fecha:"",localizacion:"",coordenadas:{lat:null,lng:null},condiciones:"",descripcionHabitat:"",observaciones:"",fotos:null}),c()}catch(S){console.error("Error al agregar/actualizar la bitcora: ",S),Gt.fire("Error","Hubo un problema al agregar/actualizar la bitcora","error")}},p=S=>{const I=S.latLng.lat(),_=S.latLng.lng();e(b=>({...b,coordenadas:{lat:I,lng:_},localizacion:`${I.toFixed(6)}, ${_.toFixed(6)}`}))},m=S=>{const I=S.target.files[0];e(_=>({..._,fotos:I}))},g=async S=>{try{if((await Gt.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed){const _=Ys(rr,"bitacoras",S);await SC(_),Gt.fire("Eliminado!","La bitcora ha sido eliminada.","success"),c()}}catch(I){console.error("Error al eliminar la bitcora: ",I),Gt.fire("Error","Hubo un problema al eliminar la bitcora","error")}},E=S=>{e({titulo:S.titulo,fecha:S.fecha,localizacion:S.localizacion,coordenadas:{lat:S.coordenadas.lat,lng:S.coordenadas.lng},condiciones:S.condiciones,descripcionHabitat:S.descripcionHabitat,observaciones:S.observaciones,fotos:null}),s(S.id)};return Y.jsxs("div",{className:"form-container",children:[Y.jsx("h2",{children:i?"EDITAR BITCORA":"AGREGAR NUEVA BITCORA"}),Y.jsxs("form",{children:[Y.jsx("label",{children:"Ttulo:"}),Y.jsx("input",{type:"text",value:t.titulo,onChange:S=>e({...t,titulo:S.target.value})}),Y.jsx("label",{children:"Fecha:"}),Y.jsx("input",{type:"date",value:t.fecha,onChange:S=>e({...t,fecha:S.target.value})}),Y.jsx("label",{children:"Localizacin:"}),Y.jsx("input",{type:"text",value:t.localizacion,disabled:!0}),Y.jsx("div",{className:"map-container",children:o&&Y.jsx(rI,{mapContainerStyle:{width:"100%",height:"300px"},center:a,zoom:6,onClick:p,children:t.coordenadas.lat&&t.coordenadas.lng&&Y.jsx(Sw,{position:t.coordenadas})})}),Y.jsx("label",{children:"Condiciones Climticas:"}),Y.jsx("input",{type:"text",value:t.condiciones,onChange:S=>e({...t,condiciones:S.target.value})}),Y.jsx("label",{children:"Descripcin del Hbitat:"}),Y.jsx("input",{type:"text",value:t.descripcionHabitat,onChange:S=>e({...t,descripcionHabitat:S.target.value})}),Y.jsx("label",{children:"Observaciones:"}),Y.jsx("input",{type:"text",value:t.observaciones,onChange:S=>e({...t,observaciones:S.target.value})}),Y.jsx("label",{children:"Foto:"}),Y.jsx("input",{type:"file",onChange:m,accept:"image/*"}),Y.jsxs("button",{type:"button",onClick:d,children:[i?"Actualizar":"Agregar"," Bitcora"]})]}),Y.jsx("h3",{children:"Bitcoras Existentes"}),Y.jsx("div",{className:"bitacoras-list",children:n.map(S=>Y.jsxs("div",{className:"bitacora-item",children:[Y.jsx("h4",{children:S.titulo}),Y.jsx("p",{children:S.fecha}),Y.jsx("p",{children:S.localizacion}),Y.jsx("button",{onClick:()=>E(S),children:"Editar"}),Y.jsx("button",{className:"delete-btn",onClick:()=>g(S.id),children:"Eliminar"})]},S.id))})]})};function Oz(){return Y.jsx("div",{className:"contenedor",children:Y.jsx(b6,{children:Y.jsxs(y6,{children:[Y.jsx(Yl,{path:"/",element:Y.jsx(NB,{})}),Y.jsx(Yl,{path:"/create-account",element:Y.jsx(PB,{})}),Y.jsx(Yl,{path:"/dashboard",element:Y.jsxs(Y.Fragment,{children:[Y.jsx(Cp,{}),Y.jsx(xz,{}),Y.jsx(Rp,{})]})}),Y.jsx(Yl,{path:"/Crud_Bitacora",element:Y.jsxs(Y.Fragment,{children:[Y.jsx(Cp,{}),Y.jsx(Rz,{}),Y.jsx(Rp,{})]})}),Y.jsx(Yl,{path:"/bitacora/:id",element:Y.jsxs(Y.Fragment,{children:[Y.jsx(Cp,{}),Y.jsx(Pz,{}),Y.jsx(Rp,{})]})}),Y.jsx(Yl,{path:"/crudUsuarios",element:Y.jsxs(Y.Fragment,{children:[Y.jsx(Cp,{}),Y.jsx(RV,{}),Y.jsx(Rp,{})]})})]})})})}YL(document.getElementById("root")).render(Y.jsx(A.StrictMode,{children:Y.jsx(Oz,{})}));export{tn as _,Mz as c,nP as g};
